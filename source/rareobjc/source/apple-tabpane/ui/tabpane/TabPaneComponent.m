//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/apple-tabpane/com/appnativa/rare/ui/tabpane/TabPaneComponent.java
//
//  Created by decoteaud on 12/8/15.
//

#include "IOSClass.h"
#include "com/appnativa/rare/Platform.h"
#include "com/appnativa/rare/platform/apple/ui/view/FrameView.h"
#include "com/appnativa/rare/platform/apple/ui/view/ParentView.h"
#include "com/appnativa/rare/platform/apple/ui/view/View.h"
#include "com/appnativa/rare/ui/BorderPanel.h"
#include "com/appnativa/rare/ui/Component.h"
#include "com/appnativa/rare/ui/Container.h"
#include "com/appnativa/rare/ui/Location.h"
#include "com/appnativa/rare/ui/UIInsets.h"
#include "com/appnativa/rare/ui/UIRectangle.h"
#include "com/appnativa/rare/ui/iGestureListener.h"
#include "com/appnativa/rare/ui/iPlatformComponent.h"
#include "com/appnativa/rare/ui/layout/BorderLayout.h"
#include "com/appnativa/rare/ui/tabpane/TabPaneComponent.h"
#include "com/appnativa/rare/ui/tabpane/TabPaneLayout.h"
#include "com/appnativa/rare/ui/tabpane/TabStripComponent.h"
#include "com/appnativa/rare/ui/tabpane/aTabPainter.h"
#include "com/appnativa/rare/ui/tabpane/aTabPaneComponent.h"
#include "com/appnativa/rare/ui/tabpane/aTabPaneLayout.h"
#include "com/appnativa/rare/widget/iWidget.h"
#include "com/jgoodies/forms/layout/FormLayout.h"

@implementation RARETabPaneComponent

- (id)initRARETabPaneComponent {
  if (self = [super initWithId:[[RARETabPaneComponent_TabBorderPane alloc] init]]) {
    RARETabStripComponent *strip = [[RARETabStripComponent alloc] init];
    RAREBorderPanel *th = [[RAREBorderPanel alloc] init];
    [th addWithRAREiPlatformComponent:strip];
    RAREContainer *content = [[RAREContainer alloc] initWithRAREParentView:[[RAREFrameView alloc] init]];
    [self addWithRAREiPlatformComponent:th withId:[RARELocationEnum TOP]];
    [self addWithRAREiPlatformComponent:content withId:[RARELocationEnum CENTER]];
    RARETabPaneLayout *l = [[RARETabPaneLayout alloc] initWithRAREaTabPaneLayout_iContentManager:self];
    [l setComponentsWithRAREiParentComponent:self withRAREBorderPanel:th withRAREaTabStripComponent:strip withRAREiParentComponent:content];
    [self setLayoutWithRAREaTabPaneLayout:l];
    headerView_ = [th getView];
    contentView_ = [content getView];
  }
  return self;
}

- (id)init {
  return [self initRARETabPaneComponent];
}

- (id)initWithRAREiWidget:(id<RAREiWidget>)context {
  return [self initRARETabPaneComponent];
}

- (void)addLongPressListenerWithRAREiGestureListener:(id<RAREiGestureListener>)l {
  [((RAREComponent *) check_class_cast([((RAREView *) nil_chk(headerView_)) getComponent], [RAREComponent class])) addLongPressListenerWithRAREiGestureListener:l];
}

- (void)dispose {
  [super dispose];
  headerView_ = nil;
  contentView_ = nil;
}

- (void)revalidate {
  [super revalidate];
  if (headerView_ != nil) {
    [headerView_ revalidate];
  }
  if (contentView_ != nil) {
    [contentView_ revalidate];
  }
}

- (BOOL)needsHiearachyInvalidated {
  return NO;
}

- (RARELOBorderLayout *)getLayout {
  return (RARELOBorderLayout *) check_class_cast([((RARETabPaneComponent_TabBorderPane *) check_class_cast(view_, [RARETabPaneComponent_TabBorderPane class])) getLayout], [RARELOBorderLayout class]);
}

- (void)copyAllFieldsTo:(RARETabPaneComponent *)other {
  [super copyAllFieldsTo:other];
  other->contentView_ = contentView_;
  other->headerView_ = headerView_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "needsHiearachyInvalidated", NULL, "Z", 0x4, NULL },
    { "getLayout", NULL, "LRARELOBorderLayout", 0x4, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "contentView_", NULL, 0x0, "LRAREView" },
    { "headerView_", NULL, 0x0, "LRAREView" },
  };
  static J2ObjcClassInfo _RARETabPaneComponent = { "TabPaneComponent", "com.appnativa.rare.ui.tabpane", NULL, 0x1, 2, methods, 2, fields, 0, NULL};
  return &_RARETabPaneComponent;
}

@end
@implementation RARETabPaneComponent_TabBorderPane

- (id)init {
  return [super init];
}

- (void)layoutWithRAREParentView:(RAREParentView *)view
                       withFloat:(float)width
                       withFloat:(float)height {
  [super layoutWithRAREParentView:view withFloat:width withFloat:height];
  RARETabPaneComponent *tpc = (RARETabPaneComponent *) check_class_cast([RAREComponent fromViewWithRAREView:self], [RARETabPaneComponent class]);
  if ((tpc == nil) || [RAREPlatform isIOS] || [tpc isHorizontal] || [((RAREaTabPainter *) nil_chk([((RAREaTabPaneLayout *) nil_chk(tpc->tabsLayout_)) getTabPainter])) isHandlesRightLeftRotation]) {
    return;
  }
  int tabsPadding = [((RAREaTabPainter *) nil_chk([((RAREaTabPaneLayout *) nil_chk(((RARETabPaneComponent *) nil_chk(tpc))->tabsLayout_)) getTabPainter])) getTabsPadding];
  switch ([[tpc->tabsLayout_ getTabPlacement] ordinal]) {
    case RARELocation_LEFT:
    {
      float h = [((RAREView *) nil_chk(tpc->headerView_)) getWidth];
      RAREUIInsets *in = [tpc getInsetsWithRAREUIInsets:nil];
      height -= (((RAREUIInsets *) nil_chk(in))->top_ + in->bottom_);
      [tpc->headerView_ setBoundsWithFloat:tabsPadding + in->left_ withFloat:height + in->top_ withFloat:height withFloat:h];
      break;
    }
    case RARELocation_RIGHT:
    {
      RAREUIRectangle *b = [((RAREView *) nil_chk(tpc->headerView_)) getBounds];
      ;
      RAREUIInsets *in = [tpc getInsetsWithRAREUIInsets:nil];
      float h = ((RAREUIRectangle *) nil_chk(b))->width_;
      height -= (((RAREUIInsets *) nil_chk(in))->top_ + in->bottom_);
      [tpc->headerView_ setBoundsWithFloat:b->x_ + h withFloat:b->y_ withFloat:height withFloat:h];
      break;
    }
    default:
    break;
  }
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcClassInfo _RARETabPaneComponent_TabBorderPane = { "TabBorderPane", "com.appnativa.rare.ui.tabpane", "TabPaneComponent", 0x8, 0, NULL, 0, NULL, 0, NULL};
  return &_RARETabPaneComponent_TabBorderPane;
}

@end

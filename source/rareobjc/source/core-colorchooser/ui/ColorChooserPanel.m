//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/core-colorchooser/com/appnativa/rare/ui/ColorChooserPanel.java
//
//  Created by decoteaud on 7/29/15.
//

#include "IOSClass.h"
#include "com/appnativa/rare/Platform.h"
#include "com/appnativa/rare/iConstants.h"
#include "com/appnativa/rare/iPlatformAppContext.h"
#include "com/appnativa/rare/platform/PlatformHelper.h"
#include "com/appnativa/rare/platform/apple/ui/view/View.h"
#include "com/appnativa/rare/ui/ActionComponent.h"
#include "com/appnativa/rare/ui/AlertPanel.h"
#include "com/appnativa/rare/ui/ColorChooserPanel.h"
#include "com/appnativa/rare/ui/ColorIcon.h"
#include "com/appnativa/rare/ui/ColorPalette.h"
#include "com/appnativa/rare/ui/ColorPalettePanel.h"
#include "com/appnativa/rare/ui/ColorUtils.h"
#include "com/appnativa/rare/ui/Component.h"
#include "com/appnativa/rare/ui/FontUtils.h"
#include "com/appnativa/rare/ui/LinearPanel.h"
#include "com/appnativa/rare/ui/NavigatorPanel.h"
#include "com/appnativa/rare/ui/RenderableDataItem.h"
#include "com/appnativa/rare/ui/ScreenUtils.h"
#include "com/appnativa/rare/ui/UIColor.h"
#include "com/appnativa/rare/ui/UIColorShade.h"
#include "com/appnativa/rare/ui/UIDimension.h"
#include "com/appnativa/rare/ui/UIProperties.h"
#include "com/appnativa/rare/ui/UIRectangle.h"
#include "com/appnativa/rare/ui/Utils.h"
#include "com/appnativa/rare/ui/aBorderPanel.h"
#include "com/appnativa/rare/ui/aComboBoxComponent.h"
#include "com/appnativa/rare/ui/aComponent.h"
#include "com/appnativa/rare/ui/border/UILineBorder.h"
#include "com/appnativa/rare/ui/border/UIMatteBorder.h"
#include "com/appnativa/rare/ui/border/aUILineBorder.h"
#include "com/appnativa/rare/ui/event/ActionEvent.h"
#include "com/appnativa/rare/ui/event/EventListenerList.h"
#include "com/appnativa/rare/ui/event/KeyEvent.h"
#include "com/appnativa/rare/ui/event/WindowEvent.h"
#include "com/appnativa/rare/ui/event/iActionListener.h"
#include "com/appnativa/rare/ui/iActionComponent.h"
#include "com/appnativa/rare/ui/iNavigatorPanel.h"
#include "com/appnativa/rare/ui/iPlatformBorder.h"
#include "com/appnativa/rare/ui/iPlatformComponent.h"
#include "com/appnativa/rare/ui/iPlatformWindowManager.h"
#include "com/appnativa/rare/ui/iWindow.h"
#include "com/appnativa/rare/ui/renderer/aListItemRenderer.h"
#include "com/appnativa/rare/viewer/WidgetPaneViewer.h"
#include "com/appnativa/rare/viewer/iViewer.h"
#include "com/appnativa/rare/widget/PushButtonWidget.h"
#include "com/appnativa/rare/widget/iWidget.h"
#include "java/lang/Math.h"


@interface RAREColorChooserPanel_iColorWheel : NSObject
@end

@implementation RAREColorChooserPanel_iColorWheel

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "setLiveUpdateWithBoolean:", NULL, "V", 0x401, NULL },
    { "setSelectedColorWithRAREUIColor:", NULL, "V", 0x401, NULL },
    { "setShowAlphaSelectorWithBoolean:", NULL, "V", 0x401, NULL },
    { "getComponent", NULL, "LRAREiPlatformComponent", 0x401, NULL },
    { "getSelectedColor", NULL, "LRAREUIColor", 0x401, NULL },
  };
  static J2ObjcClassInfo _RAREColorChooserPanel_iColorWheel = { "iColorWheel", "com.appnativa.rare.ui", "ColorChooserPanel", 0x209, 5, methods, 0, NULL, 0, NULL};
  return &_RAREColorChooserPanel_iColorWheel;
}

@end
@implementation RAREColorChooserPanel_ColorButton

- (id)initWithRAREiWidget:(id<RAREiWidget>)widget {
  if (self = [super initWithRAREView:[RAREPlatformHelper createDateButtonView]]) {
    colorIcon_ = [[RAREColorIcon alloc] initWithRAREUIColor:nil];
    self->widget_ = widget;
    [self setIconWithRAREiPlatformIcon:colorIcon_];
    [super addActionListenerWithRAREiActionListener:self];
  }
  return self;
}

- (void)actionPerformedWithRAREActionEvent:(RAREActionEvent *)e {
  [self doClick];
}

- (void)addActionListenerWithRAREiActionListener:(id<RAREiActionListener>)l {
  [((RAREColorChooserPanel *) nil_chk(panel_)) addActionListenerWithRAREiActionListener:l];
}

- (void)dispose {
  [super dispose];
  panel_ = nil;
}

- (void)doClick {
  [((RAREColorChooserPanel *) nil_chk(panel_)) showDialogWithRAREiPlatformComponent:self];
}

- (void)setContent {
  [((RAREColorChooserPanel *) nil_chk([self getPanel])) setContentWithRAREiWidget:widget_];
}

- (void)setSelectedColorWithRAREUIColor:(RAREUIColor *)color {
  [((RAREColorChooserPanel *) nil_chk(panel_)) setSelectedColorWithRAREUIColor:color];
  [((RAREColorIcon *) nil_chk(colorIcon_)) setColorWithRAREUIColor:color];
  [self repaint];
}

- (RAREColorChooserPanel *)getPanel {
  if (panel_ == nil) {
    panel_ = [[RAREColorChooserPanel_ColorButton_$1 alloc] initWithRAREColorChooserPanel_ColorButton:self withRAREiWidget:widget_];
  }
  return panel_;
}

- (void)copyAllFieldsTo:(RAREColorChooserPanel_ColorButton *)other {
  [super copyAllFieldsTo:other];
  other->colorIcon_ = colorIcon_;
  other->panel_ = panel_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "getPanel", NULL, "LRAREColorChooserPanel", 0x1, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "colorIcon_", NULL, 0x0, "LRAREColorIcon" },
    { "panel_", NULL, 0x4, "LRAREColorChooserPanel" },
  };
  static J2ObjcClassInfo _RAREColorChooserPanel_ColorButton = { "ColorButton", "com.appnativa.rare.ui", "ColorChooserPanel", 0x9, 1, methods, 2, fields, 0, NULL};
  return &_RAREColorChooserPanel_ColorButton;
}

@end
@implementation RAREColorChooserPanel

- (id)initWithRAREiWidget:(id<RAREiWidget>)context {
  if (self = [super initWithRAREiWidget:context]) {
    showColorWheel_ = ![RAREPlatform isTouchDevice];
    showPalette_ = YES;
    showPaletteFirst_ = YES;
    [self setBackgroundWithRAREUIColor:[RAREColorUtils getBackground]];
  }
  return self;
}

- (void)addActionListenerWithRAREiActionListener:(id<RAREiActionListener>)l {
  [((RAREEventListenerList *) nil_chk([self getEventListenerList])) addWithIOSClass:[IOSClass classWithProtocol:@protocol(RAREiActionListener)] withId:l];
}

- (void)handleKeyPressedWithRAREKeyEvent:(RAREKeyEvent *)e {
  if (palettePanel_ != nil) {
    RAREUIColor *sc = selectedColor_;
    if ([((RAREKeyEvent *) nil_chk(e)) isDownArrowKeyPressed]) {
      [palettePanel_ selecteNextColorWithBoolean:YES];
    }
    else if ([e isRightArrowKeyPressed]) {
      if ([self isShowing]) {
        [palettePanel_ selecteNextColorWithBoolean:NO];
      }
    }
    else if ([e isUpArrowKeyPressed]) {
      [palettePanel_ selectePreviousColorWithBoolean:YES];
    }
    else if ([e isLeftArrowKeyPressed]) {
      if ([self isShowing]) {
        [palettePanel_ selectePreviousColorWithBoolean:NO];
      }
    }
    if ([palettePanel_ getSelectedColor] != sc) {
      [self setSelectedColorWithRAREUIColor:[palettePanel_ getSelectedColor]];
    }
  }
}

- (void)removeActionListenerWithRAREiActionListener:(id<RAREiActionListener>)l {
  if (listenerList_ != nil) {
    [listenerList_ removeWithIOSClass:[IOSClass classWithProtocol:@protocol(RAREiActionListener)] withId:l];
  }
}

- (void)showDialogWithRAREiPlatformComponent:(id<RAREiPlatformComponent>)owner {
  if (dialog_ != nil) {
    if ([((id<RAREiPlatformComponent>) nil_chk([dialog_ getComponent])) isShowing]) {
      return;
    }
    [dialog_ disposeOfWindow];
  }
  NSString *title = dialogTitle_;
  if (title == nil) {
    title = [RAREPlatform getResourceAsStringWithNSString:@"Rare.runtime.text.colorChooser.chooseColor"];
  }
  if (title == nil) {
    title = @"Choose Color";
  }
  id<RAREiPlatformWindowManager> wm = [((id<RAREiPlatformAppContext>) nil_chk([RAREPlatform getAppContext])) getWindowManager];
  id<RAREiWindow> w = [((id<RAREiPlatformWindowManager>) nil_chk(wm)) createDialogWithRAREiWidget:[((id<RAREiPlatformComponent>) nil_chk(owner)) getWidget] withNSString:nil withNSString:title withBoolean:YES];
  RAREWidgetPaneViewer *wp = [[RAREWidgetPaneViewer alloc] initWithRAREiPlatformComponent:self];
  (void) [wm setViewerWithNSString:[((id<RAREiWindow>) nil_chk(w)) getTargetName] withRAREiWidget:[owner getWidget] withRAREiViewer:wp withJavaUtilMap:nil];
  dialog_ = w;
  [w addWindowListenerWithRAREiWindowListener:[[RAREColorChooserPanel_$1 alloc] initWithRAREColorChooserPanel:self]];
  [w showWindow];
}

- (void)setColorPaletteWithRAREColorPalette:(RAREColorPalette *)palette {
  self->colorPalette_ = palette;
}

- (void)setContentWithRAREiWidget:(id<RAREiWidget>)context {
  if (showColorWheel_) {
    colorWheel_ = (id<RAREColorChooserPanel_iColorWheel>) check_protocol_cast([RAREPlatformHelper createColorWheelWithRAREiWidget:context], @protocol(RAREColorChooserPanel_iColorWheel));
  }
  if (showPalette_ || (colorWheel_ == nil)) {
    palettePanel_ = [[RAREColorPalettePanel alloc] initWithRAREiWidget:context];
    [palettePanel_ setColorPaletteWithRAREColorPalette:(colorPalette_ == nil) ? [RAREColorPalette getColorPalette40] : colorPalette_];
    [palettePanel_ addActionListenerWithRAREiActionListener:[[RAREColorChooserPanel_$2 alloc] initWithRAREColorChooserPanel:self]];
    if (useList_) {
      [palettePanel_ setUseListWithBoolean:YES];
    }
    [palettePanel_ setInPopupWithBoolean:inPopup_];
  }
  if (showPaletteFirst_ || (colorWheel_ == nil)) {
    [self setCenterViewWithRAREiPlatformComponent:palettePanel_];
  }
  else {
    [self setCenterViewWithRAREiPlatformComponent:[colorWheel_ getComponent]];
  }
  id<RAREiPlatformComponent> bp = [self getButtonPannel];
  if (bp != nil) {
    [self setBottomViewWithRAREiPlatformComponent:bp];
  }
}

- (void)setDialogTitleWithNSString:(NSString *)dialogTitle {
  self->dialogTitle_ = dialogTitle;
}

- (void)setInPopupWithBoolean:(BOOL)inPopup {
  self->inPopup_ = inPopup;
  [self setFocusableWithBoolean:!inPopup];
}

- (void)setSelectedColorWithRAREUIColor:(RAREUIColor *)selectedColor {
  self->selectedColor_ = selectedColor;
  if (palettePanel_ != nil) {
    [palettePanel_ setSelectedColorWithRAREUIColor:selectedColor];
  }
  if (colorWheel_ != nil) {
    [colorWheel_ setSelectedColorWithRAREUIColor:selectedColor];
  }
}

- (void)setShowColorWheelWithBoolean:(BOOL)showColorWheel {
  self->showColorWheel_ = showColorWheel;
}

- (void)setShowNoneButtonWithBoolean:(BOOL)show {
  showNoneButton_ = show;
}

- (void)setShowOKButtonWithBoolean:(BOOL)show {
  showOkButton_ = show;
}

- (void)setShowPaletteWithBoolean:(BOOL)showPalette {
  self->showPalette_ = showPalette;
}

- (void)setShowPaletteFirstWithBoolean:(BOOL)showPaletteFirst {
  self->showPaletteFirst_ = showPaletteFirst;
}

- (void)setUseListWithBoolean:(BOOL)use {
  useList_ = use;
}

- (NSString *)getDialogTitle {
  return dialogTitle_;
}

- (RAREUIColor *)getSelectedColor {
  return selectedColor_;
}

- (BOOL)isInPopup {
  return inPopup_;
}

- (BOOL)isShowColorWheel {
  return showColorWheel_;
}

- (BOOL)isShowPalette {
  return showPalette_;
}

- (BOOL)isShowPaletteFirst {
  return showPaletteFirst_;
}

- (void)noneButtonPressed {
  [self setSelectedColorWithRAREUIColor:nil];
  [RAREUtils fireActionEventWithRAREEventListenerList:listenerList_ withRAREActionEvent:[[RAREActionEvent alloc] initWithId:palettePanel_]];
}

- (void)okButtonPressed {
  [RAREUtils fireActionEventWithRAREEventListenerList:listenerList_ withRAREActionEvent:[[RAREActionEvent alloc] initWithId:palettePanel_]];
}

- (id<RAREiPlatformComponent>)getButtonPannel {
  if (!showNoneButton_ && !showOkButton_ && ((colorWheel_ == nil) && (palettePanel_ == nil))) {
    return nil;
  }
  NSString *s;
  RARELinearPanel *p = [[RARELinearPanel alloc] initWithRAREiWidget:widget_ withBoolean:YES];
  [p setOpaqueWithBoolean:NO];
  id<RAREiPlatformBorder> b = [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getBorderWithNSString:@"Rare.ColorChooser.buttonPanel.border"];
  if (b == nil) {
    b = [[RAREUIMatteBorder alloc] initWithFloat:[RAREScreenUtils PLATFORM_PIXELS_1] withFloat:0 withFloat:0 withFloat:0 withRAREUIColor:[RAREaUILineBorder getDefaultLineColor]];
  }
  [p setBorderWithRAREiPlatformBorder:b];
  if ((colorWheel_ != nil) && (palettePanel_ != nil)) {
    RARENavigatorPanel *np = [[RARENavigatorPanel alloc] initWithRAREiWidget:widget_ withRAREiPlatformIcon:nil];
    [np setPanelTypeWithRAREiNavigatorPanel_PanelTypeEnum:[RAREiNavigatorPanel_PanelTypeEnum TOGGLE]];
    s = [RAREPlatform getResourceAsStringWithNSString:@"Rare.runtime.text.colorChooser.palette"];
    [((id<RAREiActionComponent>) nil_chk([np addButtonWithNSString:s])) addActionListenerWithRAREiActionListener:[[RAREColorChooserPanel_$3 alloc] initWithRAREColorChooserPanel:self]];
    s = [RAREPlatform getResourceAsStringWithNSString:@"Rare.runtime.text.colorChooser.wheel"];
    [((id<RAREiActionComponent>) nil_chk([np addButtonWithNSString:s])) addActionListenerWithRAREiActionListener:[[RAREColorChooserPanel_$4 alloc] initWithRAREColorChooserPanel:self]];
    b = [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getBorderWithNSString:@"Rare.ColorChooser.navigator.border"];
    if (b == nil) {
      b = [[RAREUILineBorder alloc] initWithRAREUIColor:[RAREaUILineBorder getDefaultLineColor] withFloat:[RAREScreenUtils PLATFORM_PIXELS_1] withFloat:[RAREScreenUtils PLATFORM_PIXELS_4]];
      (void) [((RAREUILineBorder *) check_class_cast(b, [RAREUILineBorder class])) setNoTopWithBoolean:YES];
      [np putClientPropertyWithNSString:[RAREiConstants RARE_HALIGN_PROPERTY] withId:[RARERenderableDataItem_HorizontalAlignEnum CENTER]];
      [np putClientPropertyWithNSString:[RAREiConstants RARE_VALIGN_PROPERTY] withId:[RARERenderableDataItem_VerticalAlignEnum TOP]];
    }
    [self setBottomViewWithRAREiPlatformComponent:np];
    [np setSelectedIndexWithInt:showPaletteFirst_ ? 0 : 1];
    [p addComponentWithRAREiPlatformComponent:np withNSString:@"TOP:DEFAULT:NONE"];
    if (showNoneButton_ || showOkButton_) {
      [p addExpansionComponent];
    }
  }
  RAREPushButtonWidget *pb;
  BOOL grow = [p getComponentCount] == 0;
  if (showNoneButton_) {
    s = [RAREPlatform getResourceAsStringWithNSString:@"Rare.runtime.text.colorChooser.none"];
    pb = [RAREAlertPanel createButtonWithNSString:s withNSString:@"Rare.ColorChooser.noneButton" withNSString:@"0,0,0,1" withRAREiActionListener:[[RAREColorChooserPanel_$5 alloc] initWithRAREColorChooserPanel:self] withRAREUIColor:[RAREaUILineBorder getDefaultLineColor]];
    if ([RAREPlatform isTouchDevice]) {
      [((RAREPushButtonWidget *) nil_chk(pb)) setMinimumSizeWithNSString:nil withNSString:@"2ln"];
    }
    if (grow) {
      [p addComponentWithRAREiPlatformComponent:[((RAREPushButtonWidget *) nil_chk(pb)) getContainerComponent] withNSString:@"FILL:DEFAULT:GROW"];
    }
    else {
      [p addComponentWithRAREiPlatformComponent:[((RAREPushButtonWidget *) nil_chk(pb)) getContainerComponent] withNSString:@"FILL:[20dlu,d]:NONE"];
    }
  }
  if (showOkButton_) {
    s = [RAREPlatform getResourceAsStringWithNSString:@"Rare.text.ok"];
    pb = [RAREAlertPanel createButtonWithNSString:s withNSString:@"Rare.ColorChooser.noneButton" withNSString:@"0,0,0,1" withRAREiActionListener:[[RAREColorChooserPanel_$6 alloc] initWithRAREColorChooserPanel:self] withRAREUIColor:[RAREaUILineBorder getDefaultLineColor]];
    if ([RAREPlatform isTouchDevice]) {
      [((RAREPushButtonWidget *) nil_chk(pb)) setMinimumSizeWithNSString:nil withNSString:@"2ln"];
    }
    if (grow) {
      [p addComponentWithRAREiPlatformComponent:[((RAREPushButtonWidget *) nil_chk(pb)) getContainerComponent] withNSString:@"FILL:DEFAULT:GROW"];
    }
    else {
      [p addComponentWithRAREiPlatformComponent:[((RAREPushButtonWidget *) nil_chk(pb)) getContainerComponent] withNSString:@"FILL:[20dlu,d]:NONE"];
    }
  }
  return p;
}

- (void)copyAllFieldsTo:(RAREColorChooserPanel *)other {
  [super copyAllFieldsTo:other];
  other->colorPalette_ = colorPalette_;
  other->colorWheel_ = colorWheel_;
  other->dialog_ = dialog_;
  other->dialogTitle_ = dialogTitle_;
  other->inPopup_ = inPopup_;
  other->palettePanel_ = palettePanel_;
  other->selectedColor_ = selectedColor_;
  other->showColorWheel_ = showColorWheel_;
  other->showNoneButton_ = showNoneButton_;
  other->showOkButton_ = showOkButton_;
  other->showPalette_ = showPalette_;
  other->showPaletteFirst_ = showPaletteFirst_;
  other->useList_ = useList_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "getDialogTitle", NULL, "LNSString", 0x1, NULL },
    { "getSelectedColor", NULL, "LRAREUIColor", 0x1, NULL },
    { "isInPopup", NULL, "Z", 0x1, NULL },
    { "isShowColorWheel", NULL, "Z", 0x1, NULL },
    { "isShowPalette", NULL, "Z", 0x1, NULL },
    { "isShowPaletteFirst", NULL, "Z", 0x1, NULL },
    { "noneButtonPressed", NULL, "V", 0x4, NULL },
    { "okButtonPressed", NULL, "V", 0x4, NULL },
    { "getButtonPannel", NULL, "LRAREiPlatformComponent", 0x4, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "showColorWheel_", NULL, 0x4, "Z" },
    { "showPalette_", NULL, 0x4, "Z" },
    { "showPaletteFirst_", NULL, 0x4, "Z" },
    { "colorWheel_", NULL, 0x4, "LRAREColorChooserPanel_iColorWheel" },
    { "dialog_", NULL, 0x4, "LRAREiWindow" },
    { "palettePanel_", NULL, 0x4, "LRAREColorPalettePanel" },
    { "selectedColor_", NULL, 0x4, "LRAREUIColor" },
    { "showNoneButton_", NULL, 0x4, "Z" },
    { "showOkButton_", NULL, 0x4, "Z" },
  };
  static J2ObjcClassInfo _RAREColorChooserPanel = { "ColorChooserPanel", "com.appnativa.rare.ui", NULL, 0x1, 9, methods, 9, fields, 0, NULL};
  return &_RAREColorChooserPanel;
}

@end
@implementation RAREColorChooserPanel_ColorButton_$1

- (void)setSelectedColorWithRAREUIColor:(RAREUIColor *)selectedColor {
  [super setSelectedColorWithRAREUIColor:selectedColor];
  [((RAREColorIcon *) nil_chk(this$0_->colorIcon_)) setColorWithRAREUIColor:selectedColor];
  [this$0_ repaint];
}

- (id)initWithRAREColorChooserPanel_ColorButton:(RAREColorChooserPanel_ColorButton *)outer$
                                withRAREiWidget:(id<RAREiWidget>)arg$0 {
  this$0_ = outer$;
  return [super initWithRAREiWidget:arg$0];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "LRAREColorChooserPanel_ColorButton" },
  };
  static J2ObjcClassInfo _RAREColorChooserPanel_ColorButton_$1 = { "$1", "com.appnativa.rare.ui", "ColorChooserPanel$ColorButton", 0x8000, 0, NULL, 1, fields, 0, NULL};
  return &_RAREColorChooserPanel_ColorButton_$1;
}

@end
@implementation RAREColorChooserPanel_ColorChooserComboBox

- (id)initWithRAREiWidget:(id<RAREiWidget>)widget {
  if (self = [super initWithRAREiWidget:widget]) {
    showValueAsHex_ = YES;
    colorIcon_ = [[RAREColorIcon alloc] initWithRAREUIColor:nil];
    [self setEditableWithBoolean:NO];
    self->widget_ = widget;
    [colorIcon_ setIconWidthWithInt:(int) [JavaLangMath ceilWithDouble:[RAREScreenUtils PLATFORM_PIXELS_8] * 4]];
    [self setEditorIconWithRAREiPlatformIcon:colorIcon_];
  }
  return self;
}

- (void)cancelPopup {
  [self updateComboboxEditor];
  [super cancelPopup];
}

- (void)dispose {
  [super dispose];
  panel_ = nil;
}

- (void)showPopup {
  if (showAsDialog_) {
    [((RAREColorChooserPanel *) nil_chk(panel_)) showDialogWithRAREiPlatformComponent:self];
  }
  else {
    [super showPopup];
  }
}

- (void)setContent {
  [((RAREColorChooserPanel *) nil_chk([self getPanel])) setContentWithRAREiWidget:widget_];
  [self setPopupContentWithRAREiPlatformComponent:[self getPanel]];
}

- (void)setSelectedColorWithRAREUIColor:(RAREUIColor *)color {
  [((RAREColorChooserPanel *) nil_chk(panel_)) setSelectedColorWithRAREUIColor:color];
}

- (void)setShowValueAsHexWithBoolean:(BOOL)showValueAsHex {
  self->showValueAsHex_ = showValueAsHex;
}

- (RAREColorChooserPanel *)getPanel {
  if (panel_ == nil) {
    panel_ = [[RAREColorChooserPanel_ColorChooserComboBox_$1 alloc] initWithRAREColorChooserPanel_ColorChooserComboBox:self withRAREiWidget:widget_];
    [panel_ setInPopupWithBoolean:YES];
  }
  [((RAREColorChooserPanel *) nil_chk(panel_)) revalidate];
  return panel_;
}

- (BOOL)isShowValueAsHex {
  return showValueAsHex_;
}

- (void)handleKeyPressedWithRAREKeyEvent:(RAREKeyEvent *)e {
  [super handleKeyPressedWithRAREKeyEvent:e];
  if (![((RAREKeyEvent *) nil_chk(e)) isConsumed]) {
    [((RAREColorChooserPanel *) nil_chk(panel_)) handleKeyPressedWithRAREKeyEvent:e];
  }
}

- (void)keyboardActionPerformedWithRAREActionEvent:(RAREActionEvent *)e {
  RAREUIColor *c = nil;
  NSString *s = [self getEditorValue];
  if (s != nil) {
    s = [s trim];
  }
  if ((s != nil) && ([s sequenceLength] > 0)) {
    c = [RAREColorUtils getNamedColorWithNSString:s];
    if (c == nil) {
      c = [RAREColorUtils getColorWithNSString:s];
    }
    else {
      c = [[RAREUIColorShade alloc] initWithRAREUIColor:c withNSString:s];
    }
  }
  [((RAREColorChooserPanel *) nil_chk(panel_)) setSelectedColorWithRAREUIColor:c];
  [self updateComboboxEditor];
  [super keyboardActionPerformedWithRAREActionEvent:e];
}

- (void)popupActionPerformedWithRAREActionEvent:(RAREActionEvent *)e {
  [self updateComboboxEditor];
  [super popupActionPerformedWithRAREActionEvent:e];
}

- (void)updateComboboxEditor {
  RAREUIColor *c = [((RAREColorChooserPanel *) nil_chk(panel_)) getSelectedColor];
  NSString *s;
  if (c == nil) {
    s = @"";
  }
  else {
    s = showValueAsHex_ ? [c description] : [c description];
  }
  [self setEditorValueWithJavaLangCharSequence:s];
  [((RAREColorIcon *) nil_chk(colorIcon_)) setColorWithRAREUIColor:c];
  [self repaint];
}

- (id<RAREiWidget>)getPopupWidget {
  return nil;
}

- (void)getProposedPopupBoundsWithRAREUIRectangle:(RAREUIRectangle *)r {
  [((id<RAREiPlatformComponent>) nil_chk(popupContent_)) revalidate];
  [RAREUtils getProposedPopupBoundsWithRAREUIRectangle:r withRAREiPlatformComponent:self withRAREUIDimension:[popupContent_ getPreferredSize] withFloat:0 withRARERenderableDataItem_HorizontalAlignEnum:[RARERenderableDataItem_HorizontalAlignEnum RIGHT] withRAREiPlatformBorder:[self getPopupBorder] withBoolean:NO];
}

- (void)copyAllFieldsTo:(RAREColorChooserPanel_ColorChooserComboBox *)other {
  [super copyAllFieldsTo:other];
  other->colorIcon_ = colorIcon_;
  other->panel_ = panel_;
  other->showValueAsHex_ = showValueAsHex_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "getPanel", NULL, "LRAREColorChooserPanel", 0x1, NULL },
    { "isShowValueAsHex", NULL, "Z", 0x1, NULL },
    { "handleKeyPressedWithRAREKeyEvent:", NULL, "V", 0x4, NULL },
    { "keyboardActionPerformedWithRAREActionEvent:", NULL, "V", 0x4, NULL },
    { "popupActionPerformedWithRAREActionEvent:", NULL, "V", 0x4, NULL },
    { "updateComboboxEditor", NULL, "V", 0x4, NULL },
    { "getPopupWidget", NULL, "LRAREiWidget", 0x4, NULL },
    { "getProposedPopupBoundsWithRAREUIRectangle:", NULL, "V", 0x4, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "panel_", NULL, 0x0, "LRAREColorChooserPanel" },
    { "colorIcon_", NULL, 0x0, "LRAREColorIcon" },
  };
  static J2ObjcClassInfo _RAREColorChooserPanel_ColorChooserComboBox = { "ColorChooserComboBox", "com.appnativa.rare.ui", "ColorChooserPanel", 0x9, 8, methods, 2, fields, 0, NULL};
  return &_RAREColorChooserPanel_ColorChooserComboBox;
}

@end
@implementation RAREColorChooserPanel_ColorChooserComboBox_DateComboBoxListHandler

- (id)initWithRAREColorChooserPanel_ColorChooserComboBox:(RAREColorChooserPanel_ColorChooserComboBox *)outer$ {
  this$0_ = outer$;
  return [super init];
}

- (void)clear {
  [super clear];
  [this$0_ setEditorValueWithJavaLangCharSequence:@""];
}

- (void)setSelectedIndexWithInt:(int)index {
}

- (RAREaListItemRenderer *)getItemRenderer {
  return nil;
}

- (id<RAREiPlatformComponent>)getListComponent {
  return [this$0_ getPanel];
}

- (RAREUIDimension *)getPreferredSize {
  return [((id<RAREiPlatformComponent>) nil_chk([self getListComponent])) getPreferredSize];
}

- (float)getPreferredWidth {
  return ((RAREUIDimension *) nil_chk([((id<RAREiPlatformComponent>) nil_chk([self getListComponent])) getPreferredSize]))->width_;
}

- (int)getRowHeight {
  return [RAREFontUtils getDefaultLineHeight];
}

- (NSUInteger)countByEnumeratingWithState:(NSFastEnumerationState *)state objects:(__unsafe_unretained id *)stackbuf count:(NSUInteger)len {
  return JreDefaultFastEnumeration(self, state, stackbuf, len);
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "getItemRenderer", NULL, "LRAREaListItemRenderer", 0x1, NULL },
    { "getListComponent", NULL, "LRAREiPlatformComponent", 0x1, NULL },
    { "getPreferredSize", NULL, "LRAREUIDimension", 0x1, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "LRAREColorChooserPanel_ColorChooserComboBox" },
  };
  static J2ObjcClassInfo _RAREColorChooserPanel_ColorChooserComboBox_DateComboBoxListHandler = { "DateComboBoxListHandler", "com.appnativa.rare.ui", "ColorChooserPanel$ColorChooserComboBox", 0x4, 3, methods, 1, fields, 0, NULL};
  return &_RAREColorChooserPanel_ColorChooserComboBox_DateComboBoxListHandler;
}

@end
@implementation RAREColorChooserPanel_ColorChooserComboBox_$1

- (void)setSelectedColorWithRAREUIColor:(RAREUIColor *)selectedColor {
  [super setSelectedColorWithRAREUIColor:selectedColor];
  [this$0_ updateComboboxEditor];
}

- (id)initWithRAREColorChooserPanel_ColorChooserComboBox:(RAREColorChooserPanel_ColorChooserComboBox *)outer$
                                         withRAREiWidget:(id<RAREiWidget>)arg$0 {
  this$0_ = outer$;
  return [super initWithRAREiWidget:arg$0];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "LRAREColorChooserPanel_ColorChooserComboBox" },
  };
  static J2ObjcClassInfo _RAREColorChooserPanel_ColorChooserComboBox_$1 = { "$1", "com.appnativa.rare.ui", "ColorChooserPanel$ColorChooserComboBox", 0x8000, 0, NULL, 1, fields, 0, NULL};
  return &_RAREColorChooserPanel_ColorChooserComboBox_$1;
}

@end
@implementation RAREColorChooserPanel_$1

- (void)windowEventWithRAREWindowEvent:(RAREWindowEvent *)e {
  if ([((RAREWindowEvent *) nil_chk(e)) getType] == [RAREWindowEvent_TypeEnum Closed]) {
    if (this$0_->dialog_ != nil) {
      [this$0_->dialog_ disposeOfWindow];
      this$0_->dialog_ = nil;
    }
  }
}

- (id)initWithRAREColorChooserPanel:(RAREColorChooserPanel *)outer$ {
  this$0_ = outer$;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "LRAREColorChooserPanel" },
  };
  static J2ObjcClassInfo _RAREColorChooserPanel_$1 = { "$1", "com.appnativa.rare.ui", "ColorChooserPanel", 0x8000, 0, NULL, 1, fields, 0, NULL};
  return &_RAREColorChooserPanel_$1;
}

@end
@implementation RAREColorChooserPanel_$2

- (void)actionPerformedWithRAREActionEvent:(RAREActionEvent *)e {
  if (this$0_->listenerList_ != nil) {
    this$0_->selectedColor_ = [((RAREColorPalettePanel *) nil_chk(this$0_->palettePanel_)) getSelectedColor];
    if (!this$0_->showOkButton_) {
      [RAREUtils fireActionEventWithRAREEventListenerList:this$0_->listenerList_ withRAREActionEvent:e];
    }
  }
}

- (id)initWithRAREColorChooserPanel:(RAREColorChooserPanel *)outer$ {
  this$0_ = outer$;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "LRAREColorChooserPanel" },
  };
  static J2ObjcClassInfo _RAREColorChooserPanel_$2 = { "$2", "com.appnativa.rare.ui", "ColorChooserPanel", 0x8000, 0, NULL, 1, fields, 0, NULL};
  return &_RAREColorChooserPanel_$2;
}

@end
@implementation RAREColorChooserPanel_$3

- (void)actionPerformedWithRAREActionEvent:(RAREActionEvent *)e {
  [this$0_ setCenterViewWithRAREiPlatformComponent:this$0_->palettePanel_];
}

- (id)initWithRAREColorChooserPanel:(RAREColorChooserPanel *)outer$ {
  this$0_ = outer$;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "LRAREColorChooserPanel" },
  };
  static J2ObjcClassInfo _RAREColorChooserPanel_$3 = { "$3", "com.appnativa.rare.ui", "ColorChooserPanel", 0x8000, 0, NULL, 1, fields, 0, NULL};
  return &_RAREColorChooserPanel_$3;
}

@end
@implementation RAREColorChooserPanel_$4

- (void)actionPerformedWithRAREActionEvent:(RAREActionEvent *)e {
  [this$0_ setCenterViewWithRAREiPlatformComponent:[((id<RAREColorChooserPanel_iColorWheel>) nil_chk(this$0_->colorWheel_)) getComponent]];
}

- (id)initWithRAREColorChooserPanel:(RAREColorChooserPanel *)outer$ {
  this$0_ = outer$;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "LRAREColorChooserPanel" },
  };
  static J2ObjcClassInfo _RAREColorChooserPanel_$4 = { "$4", "com.appnativa.rare.ui", "ColorChooserPanel", 0x8000, 0, NULL, 1, fields, 0, NULL};
  return &_RAREColorChooserPanel_$4;
}

@end
@implementation RAREColorChooserPanel_$5

- (void)actionPerformedWithRAREActionEvent:(RAREActionEvent *)e {
  [this$0_ noneButtonPressed];
}

- (id)initWithRAREColorChooserPanel:(RAREColorChooserPanel *)outer$ {
  this$0_ = outer$;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "LRAREColorChooserPanel" },
  };
  static J2ObjcClassInfo _RAREColorChooserPanel_$5 = { "$5", "com.appnativa.rare.ui", "ColorChooserPanel", 0x8000, 0, NULL, 1, fields, 0, NULL};
  return &_RAREColorChooserPanel_$5;
}

@end
@implementation RAREColorChooserPanel_$6

- (void)actionPerformedWithRAREActionEvent:(RAREActionEvent *)e {
  [this$0_ okButtonPressed];
}

- (id)initWithRAREColorChooserPanel:(RAREColorChooserPanel *)outer$ {
  this$0_ = outer$;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "LRAREColorChooserPanel" },
  };
  static J2ObjcClassInfo _RAREColorChooserPanel_$6 = { "$6", "com.appnativa.rare.ui", "ColorChooserPanel", 0x8000, 0, NULL, 1, fields, 0, NULL};
  return &_RAREColorChooserPanel_$6;
}

@end

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/apple-android-htmllabel/org/ccil/cowan/tagsoup/PYXScanner.java
//
//  Created by decoteaud on 3/11/16.
//

#include "IOSCharArray.h"
#include "IOSClass.h"
#include "java/io/BufferedReader.h"
#include "java/io/IOException.h"
#include "java/io/Reader.h"
#include "org/ccil/cowan/tagsoup/PYXScanner.h"
#include "org/ccil/cowan/tagsoup/ScanHandler.h"
#include "org/xml/sax/SAXException.h"

@implementation RAREPYXScanner

- (void)resetDocumentLocatorWithNSString:(NSString *)publicid
                            withNSString:(NSString *)systemid {
}

- (void)scanWithJavaIoReader:(JavaIoReader *)r
         withRAREScanHandler:(id<RAREScanHandler>)h {
  JavaIoBufferedReader *br = [[JavaIoBufferedReader alloc] initWithJavaIoReader:r];
  NSString *s;
  IOSCharArray *buff = nil;
  BOOL instag = NO;
  while ((s = [br readLine]) != nil) {
    int size = [((NSString *) nil_chk(s)) sequenceLength];
    if (buff == nil || (int) [buff count] < size) {
      buff = [IOSCharArray arrayWithLength:size];
    }
    [s getChars:0 sourceEnd:size destination:buff destinationBegin:0];
    {
      int sp;
      switch (IOSCharArray_Get(nil_chk(buff), 0)) {
        case '(':
        if (instag) {
          [((id<RAREScanHandler>) nil_chk(h)) stagcWithCharArray:buff withInt:0 withInt:0];
          instag = NO;
        }
        [((id<RAREScanHandler>) nil_chk(h)) giWithCharArray:buff withInt:1 withInt:size - 1];
        instag = YES;
        break;
        case ')':
        if (instag) {
          [((id<RAREScanHandler>) nil_chk(h)) stagcWithCharArray:buff withInt:0 withInt:0];
          instag = NO;
        }
        [((id<RAREScanHandler>) nil_chk(h)) etagWithCharArray:buff withInt:1 withInt:size - 1];
        break;
        case '?':
        if (instag) {
          [((id<RAREScanHandler>) nil_chk(h)) stagcWithCharArray:buff withInt:0 withInt:0];
          instag = NO;
        }
        [((id<RAREScanHandler>) nil_chk(h)) piWithCharArray:buff withInt:1 withInt:size - 1];
        break;
        case 'A':
        sp = [s indexOf:' '];
        [((id<RAREScanHandler>) nil_chk(h)) anameWithCharArray:buff withInt:1 withInt:sp - 1];
        [h avalWithCharArray:buff withInt:sp + 1 withInt:size - sp - 1];
        break;
        case '-':
        if (instag) {
          [((id<RAREScanHandler>) nil_chk(h)) stagcWithCharArray:buff withInt:0 withInt:0];
          instag = NO;
        }
        if ([s isEqual:@"-\\n"]) {
          (*IOSCharArray_GetRef(buff, 0)) = 0x000a;
          [((id<RAREScanHandler>) nil_chk(h)) pcdataWithCharArray:buff withInt:0 withInt:1];
        }
        else {
          [((id<RAREScanHandler>) nil_chk(h)) pcdataWithCharArray:buff withInt:1 withInt:size - 1];
        }
        break;
        case 'E':
        if (instag) {
          [((id<RAREScanHandler>) nil_chk(h)) stagcWithCharArray:buff withInt:0 withInt:0];
          instag = NO;
        }
        [((id<RAREScanHandler>) nil_chk(h)) entityWithCharArray:buff withInt:1 withInt:size - 1];
        break;
        default:
        break;
      }
    }
  }
  [((id<RAREScanHandler>) nil_chk(h)) eofWithCharArray:buff withInt:0 withInt:0];
}

- (void)startCDATA {
}

- (id)init {
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "scanWithJavaIoReader:withRAREScanHandler:", NULL, "V", 0x1, "JavaIoIOException;OrgXmlSaxSAXException" },
  };
  static J2ObjcClassInfo _RAREPYXScanner = { "PYXScanner", "org.ccil.cowan.tagsoup", NULL, 0x1, 1, methods, 0, NULL, 0, NULL};
  return &_RAREPYXScanner;
}

@end

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/apple/com/appnativa/rare/platform/apple/ui/PopupListBoxHandler.java
//
//  Created by decoteaud on 3/11/16.
//

#include "IOSClass.h"
#include "com/appnativa/rare/platform/apple/ui/PopupListBoxHandler.h"
#include "com/appnativa/rare/platform/apple/ui/aPlatformListHandler.h"
#include "com/appnativa/rare/platform/apple/ui/util/AppleHelper.h"
#include "com/appnativa/rare/platform/apple/ui/view/ListView.h"
#include "com/appnativa/rare/platform/apple/ui/view/ParentView.h"
#include "com/appnativa/rare/platform/apple/ui/view/View.h"
#include "com/appnativa/rare/ui/Container.h"
#include "com/appnativa/rare/ui/PainterUtils.h"
#include "com/appnativa/rare/ui/iPlatformComponent.h"
#include "com/appnativa/rare/ui/iPlatformListDataModel.h"
#include "com/appnativa/rare/ui/renderer/ListItemRenderer.h"
#include "com/appnativa/rare/widget/iWidget.h"

@implementation RAREPopupListBoxHandler

- (id)initWithRAREiWidget:(id<RAREiWidget>)w
withRAREiPlatformListDataModel:(id<RAREiPlatformListDataModel>)model
              withBoolean:(BOOL)forMenu {
  if (self = [super initWithRAREaPlatformTableBasedView:[[RAREListView alloc] init] withRAREiPlatformListDataModel:model]) {
    RAREListView *list = (RAREListView *) check_class_cast([self getView], [RAREListView class]);
    listComponent_ = [[RAREContainer alloc] initWithRAREParentView:list];
    [listComponent_ setWidgetWithRAREiWidget:w];
    containerComponent_ = [RAREAppleHelper configureScrollPaneWithRAREiWidget:w withRAREiPlatformComponent:[self getListComponent] withRAREView:[((id<RAREiPlatformComponent>) nil_chk([self getListComponent])) getView] withRARESPOTScrollPane:nil];
    [((id<RAREiPlatformComponent>) nil_chk(containerComponent_)) setWidgetWithRAREiWidget:w];
    [((RAREListView *) nil_chk(list)) setListModelWithRAREiPlatformListDataModel:model];
    [list setShowLastDividerWithBoolean:NO];
    RAREListItemRenderer *lr = [[RAREListItemRenderer alloc] init];
    [RAREPainterUtils setPopupListRenderingDefaultsWithRAREiListHandler:self withRAREaListItemRenderer:lr withBoolean:forMenu];
    [list setItemRendererWithRAREListItemRenderer:lr];
  }
  return self;
}

- (void)dispose {
  if (containerComponent_ != nil) {
    [containerComponent_ dispose];
  }
  [super dispose];
  containerComponent_ = nil;
  listComponent_ = nil;
}

- (id<RAREiPlatformComponent>)getContainerComponent {
  return containerComponent_;
}

- (id<RAREiPlatformComponent>)getListComponent {
  return listComponent_;
}

- (void)copyAllFieldsTo:(RAREPopupListBoxHandler *)other {
  [super copyAllFieldsTo:other];
  other->containerComponent_ = containerComponent_;
  other->listComponent_ = listComponent_;
}

- (NSUInteger)countByEnumeratingWithState:(NSFastEnumerationState *)state objects:(__unsafe_unretained id *)stackbuf count:(NSUInteger)len {
  return JreDefaultFastEnumeration(self, state, stackbuf, len);
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "getContainerComponent", NULL, "LRAREiPlatformComponent", 0x1, NULL },
    { "getListComponent", NULL, "LRAREiPlatformComponent", 0x1, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "containerComponent_", NULL, 0x0, "LRAREiPlatformComponent" },
    { "listComponent_", NULL, 0x0, "LRAREiPlatformComponent" },
  };
  static J2ObjcClassInfo _RAREPopupListBoxHandler = { "PopupListBoxHandler", "com.appnativa.rare.platform.apple.ui", NULL, 0x1, 2, methods, 2, fields, 0, NULL};
  return &_RAREPopupListBoxHandler;
}

@end

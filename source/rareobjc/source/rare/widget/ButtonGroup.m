//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/core/com/appnativa/rare/widget/ButtonGroup.java
//
//  Created by decoteaud on 9/15/15.
//

#include "com/appnativa/rare/widget/ButtonGroup.h"
#include "com/appnativa/rare/widget/aGroupableButton.h"
#include "com/appnativa/util/IdentityArrayList.h"

@implementation RAREButtonGroup

- (id)initWithNSString:(NSString *)groupName {
  if (self = [super init]) {
    buttons_ = [[RAREUTIdentityArrayList alloc] init];
    self->groupName_ = groupName;
  }
  return self;
}

- (void)addWithRAREaGroupableButton:(RAREaGroupableButton *)b {
  [((RAREUTIdentityArrayList *) nil_chk(buttons_)) addWithId:b];
}

- (void)clearSelection {
  if (selectedButton_ != nil) {
    [selectedButton_ setSelectedWithBoolean:NO];
    selectedButton_ = nil;
  }
}

- (NSString *)getName {
  return groupName_;
}

- (RAREaGroupableButton *)getSelectedButton {
  return selectedButton_;
}

- (void)removeWithRAREaGroupableButton:(RAREaGroupableButton *)button {
  if (button != nil) {
    if (button == selectedButton_) {
      selectedButton_ = nil;
      [button setSelectedWithBoolean:NO];
    }
    [((RAREUTIdentityArrayList *) nil_chk(buttons_)) removeWithId:button];
  }
}

- (void)removeExWithRAREaGroupableButton:(RAREaGroupableButton *)button {
  if (button != nil) {
    if (button == selectedButton_) {
      selectedButton_ = nil;
    }
    [((RAREUTIdentityArrayList *) nil_chk(buttons_)) removeWithId:button];
  }
}

- (void)selectionChangedWithRAREaGroupableButton:(RAREaGroupableButton *)button
                                     withBoolean:(BOOL)selected {
  RAREaGroupableButton *clear = selected ? selectedButton_ : nil;
  if (button != selectedButton_) {
    if (selected) {
      selectedButton_ = button;
    }
    else {
      return;
    }
  }
  else {
    if (selected || !((RAREaGroupableButton *) nil_chk(button))->allowDeselection_) {
      return;
    }
  }
  if (clear != nil) {
    [clear setSelectedWithBoolean:NO];
  }
}

- (void)copyAllFieldsTo:(RAREButtonGroup *)other {
  [super copyAllFieldsTo:other];
  other->buttons_ = buttons_;
  other->groupName_ = groupName_;
  other->selectedButton_ = selectedButton_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "getName", NULL, "LNSString", 0x1, NULL },
    { "getSelectedButton", NULL, "LRAREaGroupableButton", 0x1, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "buttons_", NULL, 0x4, "LRAREUTIdentityArrayList" },
    { "selectedButton_", NULL, 0x4, "LRAREaGroupableButton" },
    { "groupName_", NULL, 0x4, "LNSString" },
  };
  static J2ObjcClassInfo _RAREButtonGroup = { "ButtonGroup", "com.appnativa.rare.widget", NULL, 0x1, 2, methods, 3, fields, 0, NULL};
  return &_RAREButtonGroup;
}

@end

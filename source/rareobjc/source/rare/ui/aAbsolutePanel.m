//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/core/com/appnativa/rare/ui/aAbsolutePanel.java
//
//  Created by decoteaud on 3/11/16.
//

#include "com/appnativa/rare/iConstants.h"
#include "com/appnativa/rare/ui/Container.h"
#include "com/appnativa/rare/ui/UIDimension.h"
#include "com/appnativa/rare/ui/UIRectangle.h"
#include "com/appnativa/rare/ui/aAbsolutePanel.h"
#include "com/appnativa/rare/ui/iPlatformComponent.h"
#include "java/lang/Math.h"

@implementation RAREaAbsolutePanel

- (id)initWithId:(id)view {
  return [super initWithId:view];
}

- (void)addWithRAREiPlatformComponent:(id<RAREiPlatformComponent>)c
                               withId:(id)constraints
                              withInt:(int)position {
  [super addWithRAREiPlatformComponent:c withId:constraints withInt:position];
  [((id<RAREiPlatformComponent>) nil_chk(c)) putClientPropertyWithNSString:[RAREiConstants RARE_CONSTRAINTS_PROPERTY] withId:constraints];
}

- (void)layoutWithFloat:(float)width
              withFloat:(float)height {
  id<RAREiPlatformComponent> c;
  int len = [self getComponentCount];
  for (int i = 0; i < len; i++) {
    c = [self getComponentAtWithInt:i];
    id o = [((id<RAREiPlatformComponent>) nil_chk(c)) getClientPropertyWithNSString:[RAREiConstants RARE_CONSTRAINTS_PROPERTY]];
    if (!([o isKindOfClass:[RAREUIRectangle class]])) {
      continue;
    }
    RAREUIRectangle *r = (RAREUIRectangle *) check_class_cast(o, [RAREUIRectangle class]);
    [c setBoundsWithFloat:((RAREUIRectangle *) nil_chk(r))->x_ withFloat:r->y_ withFloat:r->width_ withFloat:r->height_];
  }
}

- (void)getMinimumSizeExWithRAREUIDimension:(RAREUIDimension *)size
                                  withFloat:(float)maxWidth {
  [super getPreferredSizeExWithRAREUIDimension:size withFloat:0];
}

- (void)getPreferredSizeExWithRAREUIDimension:(RAREUIDimension *)size
                                    withFloat:(float)maxWidth {
  id<RAREiPlatformComponent> c;
  int len = [self getComponentCount];
  float width = 0;
  float height = 0;
  for (int i = 0; i < len; i++) {
    c = [self getComponentAtWithInt:i];
    if (![((id<RAREiPlatformComponent>) nil_chk(c)) isVisible]) {
      continue;
    }
    id o = [c getClientPropertyWithNSString:[RAREiConstants RARE_CONSTRAINTS_PROPERTY]];
    if (!([o isKindOfClass:[RAREUIRectangle class]])) {
      continue;
    }
    RAREUIRectangle *r = (RAREUIRectangle *) check_class_cast(o, [RAREUIRectangle class]);
    width = [JavaLangMath maxWithFloat:((RAREUIRectangle *) nil_chk(r))->x_ + r->width_ withFloat:width];
    height = [JavaLangMath maxWithFloat:r->y_ + r->height_ withFloat:height];
  }
  ((RAREUIDimension *) nil_chk(size))->width_ = width;
  size->height_ = height;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "initWithId:", NULL, NULL, 0x4, NULL },
    { "layoutWithFloat:withFloat:", NULL, "V", 0x4, NULL },
    { "getMinimumSizeExWithRAREUIDimension:withFloat:", NULL, "V", 0x4, NULL },
    { "getPreferredSizeExWithRAREUIDimension:withFloat:", NULL, "V", 0x4, NULL },
  };
  static J2ObjcClassInfo _RAREaAbsolutePanel = { "aAbsolutePanel", "com.appnativa.rare.ui", NULL, 0x1, 4, methods, 0, NULL, 0, NULL};
  return &_RAREaAbsolutePanel;
}

@end

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/core/com/appnativa/rare/ui/AlertPanel.java
//
//  Created by decoteaud on 7/29/15.
//

#include "IOSClass.h"
#include "IOSIntArray.h"
#include "IOSObjectArray.h"
#include "com/appnativa/rare/ErrorInformation.h"
#include "com/appnativa/rare/Platform.h"
#include "com/appnativa/rare/iFunctionCallback.h"
#include "com/appnativa/rare/iPlatformAppContext.h"
#include "com/appnativa/rare/spot/Font.h"
#include "com/appnativa/rare/spot/Label.h"
#include "com/appnativa/rare/spot/Margin.h"
#include "com/appnativa/rare/spot/PushButton.h"
#include "com/appnativa/rare/spot/TextArea.h"
#include "com/appnativa/rare/spot/TextField.h"
#include "com/appnativa/rare/ui/AlertPanel.h"
#include "com/appnativa/rare/ui/BorderUtils.h"
#include "com/appnativa/rare/ui/ColorUtils.h"
#include "com/appnativa/rare/ui/Component.h"
#include "com/appnativa/rare/ui/FontUtils.h"
#include "com/appnativa/rare/ui/LinearPanel.h"
#include "com/appnativa/rare/ui/ScreenUtils.h"
#include "com/appnativa/rare/ui/UIColor.h"
#include "com/appnativa/rare/ui/UIFont.h"
#include "com/appnativa/rare/ui/UIImageIcon.h"
#include "com/appnativa/rare/ui/UIInsets.h"
#include "com/appnativa/rare/ui/UIProperties.h"
#include "com/appnativa/rare/ui/UIScreen.h"
#include "com/appnativa/rare/ui/aLinearPanel.h"
#include "com/appnativa/rare/ui/border/UICompoundBorder.h"
#include "com/appnativa/rare/ui/border/UIDropShadowBorder.h"
#include "com/appnativa/rare/ui/border/UIEmptyBorder.h"
#include "com/appnativa/rare/ui/border/UIMatteBorder.h"
#include "com/appnativa/rare/ui/event/ActionEvent.h"
#include "com/appnativa/rare/ui/event/iActionListener.h"
#include "com/appnativa/rare/ui/iPlatformBorder.h"
#include "com/appnativa/rare/ui/iPlatformComponent.h"
#include "com/appnativa/rare/ui/iPlatformIcon.h"
#include "com/appnativa/rare/ui/iPlatformWindowManager.h"
#include "com/appnativa/rare/ui/painter/PaintBucket.h"
#include "com/appnativa/rare/ui/painter/iPlatformComponentPainter.h"
#include "com/appnativa/rare/viewer/BeanViewer.h"
#include "com/appnativa/rare/viewer/WindowViewer.h"
#include "com/appnativa/rare/viewer/iViewer.h"
#include "com/appnativa/rare/widget/LabelWidget.h"
#include "com/appnativa/rare/widget/PushButtonWidget.h"
#include "com/appnativa/rare/widget/TextAreaWidget.h"
#include "com/appnativa/rare/widget/TextFieldWidget.h"
#include "com/appnativa/rare/widget/aWidget.h"
#include "com/appnativa/rare/widget/iWidget.h"
#include "com/appnativa/spot/SPOTBoolean.h"
#include "com/appnativa/spot/SPOTPrintableString.h"
#include "com/appnativa/spot/iSPOTElement.h"
#include "com/jgoodies/forms/layout/FormLayout.h"
#include "java/lang/Boolean.h"
#include "java/lang/CharSequence.h"
#include "java/lang/Math.h"
#include "java/lang/Throwable.h"
#include "java/util/HashMap.h"
#include "java/util/List.h"

@implementation RAREAlertPanel

static RAREUIColor * RAREAlertPanel_foregroundColor_;
static RAREUIColor * RAREAlertPanel_backgroundColor_AlertPanel_;
static RAREUIColor * RAREAlertPanel_lineColor_;
static RAREUIColor * RAREAlertPanel_titleLineColor_;
static BOOL RAREAlertPanel_hasErrorTitleChecked_;
static BOOL RAREAlertPanel_hasErrorTitleTemplate_;
static BOOL RAREAlertPanel_showApplicationIcon_;

+ (RAREUIColor *)foregroundColor {
  return RAREAlertPanel_foregroundColor_;
}

+ (void)setForegroundColor:(RAREUIColor *)foregroundColor {
  RAREAlertPanel_foregroundColor_ = foregroundColor;
}

+ (RAREUIColor *)backgroundColor {
  return RAREAlertPanel_backgroundColor_AlertPanel_;
}

+ (void)setBackgroundColor:(RAREUIColor *)backgroundColor_AlertPanel {
  RAREAlertPanel_backgroundColor_AlertPanel_ = backgroundColor_AlertPanel;
}

+ (RAREUIColor *)lineColor {
  return RAREAlertPanel_lineColor_;
}

+ (void)setLineColor:(RAREUIColor *)lineColor {
  RAREAlertPanel_lineColor_ = lineColor;
}

+ (RAREUIColor *)titleLineColor {
  return RAREAlertPanel_titleLineColor_;
}

+ (void)setTitleLineColor:(RAREUIColor *)titleLineColor {
  RAREAlertPanel_titleLineColor_ = titleLineColor;
}

+ (BOOL)hasErrorTitleChecked {
  return RAREAlertPanel_hasErrorTitleChecked_;
}

+ (BOOL *)hasErrorTitleCheckedRef {
  return &RAREAlertPanel_hasErrorTitleChecked_;
}

+ (BOOL)hasErrorTitleTemplate {
  return RAREAlertPanel_hasErrorTitleTemplate_;
}

+ (BOOL *)hasErrorTitleTemplateRef {
  return &RAREAlertPanel_hasErrorTitleTemplate_;
}

+ (BOOL)showApplicationIcon {
  return RAREAlertPanel_showApplicationIcon_;
}

+ (BOOL *)showApplicationIconRef {
  return &RAREAlertPanel_showApplicationIcon_;
}

- (id)initWithRAREiWidget:(id<RAREiWidget>)context
             withNSString:(NSString *)title
                   withId:(id)message
    withRAREiPlatformIcon:(id<RAREiPlatformIcon>)icon
              withBoolean:(BOOL)forError {
  if (self = [super initWithRAREiWidget:context withBoolean:NO withNSString:nil withNSString:@"FILL:[130dlu,d]:GROW"]) {
    isError_ = forError;
    [self setBackgroundWithRAREUIColor:RAREAlertPanel_backgroundColor_AlertPanel_];
    if (forError && RAREAlertPanel_hasErrorTitleChecked_) {
      RAREAlertPanel_hasErrorTitleChecked_ = YES;
      RARESPOTLabel *cfg = (RARESPOTLabel *) check_class_cast([((RAREWindowViewer *) nil_chk([RAREPlatform getWindowViewer])) createConfigurationObjectWithNSString:@"Label" withNSString:@"Rare.Alert.errorTitle"], [RARESPOTLabel class]);
      RAREAlertPanel_hasErrorTitleTemplate_ = [((SPOTPrintableString *) nil_chk(((RARESPOTLabel *) nil_chk(cfg))->templateName_)) getValue] != nil;
    }
    if (title == nil) {
      title = @"";
    }
    NSString *template_;
    if (forError && RAREAlertPanel_hasErrorTitleTemplate_) {
      template_ = @"Rare.Alert.errorTitle";
    }
    else {
      template_ = @"Rare.Alert.title";
    }
    RARELabelWidget *l = [self createLabelWithId:title withNSString:template_ withBoolean:YES];
    [((RARELabelWidget *) nil_chk(l)) setWordWrapWithBoolean:YES];
    float d = [RAREScreenUtils PLATFORM_PIXELS_4];
    [l setMarginWithFloat:d withFloat:d withFloat:d withFloat:d];
    if (icon == nil) {
      icon = [RAREPlatform getResourceAsIconWithNSString:@"Rare.icon.rare"];
    }
    if (icon != nil) {
      [l setIconWithRAREiPlatformIcon:icon];
    }
    [self addComponentWithRAREiPlatformComponent:[l getContainerComponent] withNSString:@"FILL:[20dlu,d]:NONE"];
    titleLabel_ = l;
    if (message != nil) {
      if ([message conformsToProtocol: @protocol(RAREiWidget)]) {
        [self addComponentWithRAREiPlatformComponent:[((id<RAREiWidget>) check_protocol_cast(message, @protocol(RAREiWidget))) getContainerComponent] withNSString:@"FILL:[30dlu,d]:GROW"];
      }
      else if ([message conformsToProtocol: @protocol(RAREiPlatformComponent)]) {
        [self addComponentWithRAREiPlatformComponent:(id<RAREiPlatformComponent>) check_protocol_cast(message, @protocol(RAREiPlatformComponent)) withNSString:@"FILL:[30dlu,d]:GROW"];
      }
      else {
        NSString *s = [message description];
        RARETextAreaWidget *ta = [self createTextAreaWithNSString:s withNSString:@"Rare.Alert.message"];
        [RAREAlertPanel adjustLabelWithRAREaWidget:ta withBoolean:NO];
        [self addComponentWithRAREiPlatformComponent:[((RARETextAreaWidget *) nil_chk(ta)) getContainerComponent] withNSString:@"FILL:[30dlu,d]:GROW"];
      }
    }
  }
  return self;
}

- (void)actionPerformedWithRAREActionEvent:(RAREActionEvent *)e {
  BOOL canceled = NO;
  id returnValue = nil;
  id<RAREiPlatformComponent> c = [((RAREActionEvent *) nil_chk(e)) getComponent];
  if ((yesButton_ != nil) && (c == [yesButton_ getDataComponent])) {
    returnValue = [JavaLangBoolean getTRUE];
  }
  if ((noButton_ != nil) && (c == [noButton_ getDataComponent])) {
    returnValue = [JavaLangBoolean getFALSE];
  }
  if ((cancelButton_ != nil) && (c == [cancelButton_ getDataComponent])) {
    canceled = YES;
  }
  id<RAREiFunctionCallback> cb = callback_;
  callback_ = nil;
  [((RAREWindowViewer *) nil_chk(window_)) disposeOfWindow];
  if (cb != nil) {
    [cb finishedWithBoolean:canceled withId:returnValue];
  }
}

- (void)cancel {
  if (window_ != nil) {
    id<RAREiFunctionCallback> cb = callback_;
    [window_ disposeOfWindow];
    if (cb != nil) {
      [RAREPlatform invokeLaterWithJavaLangRunnable:[[RAREAlertPanel_$1 alloc] initWithRAREiFunctionCallback:cb]];
    }
  }
}

+ (RAREPushButtonWidget *)createButtonWithNSString:(NSString *)text
                                      withNSString:(NSString *)templateName
                                      withNSString:(NSString *)borderInsets
                           withRAREiActionListener:(id<RAREiActionListener>)listener {
  return [RAREAlertPanel createButtonWithNSString:text withNSString:templateName withNSString:borderInsets withRAREiActionListener:listener withRAREUIColor:RAREAlertPanel_lineColor_];
}

+ (RAREPushButtonWidget *)createButtonWithNSString:(NSString *)text
                                      withNSString:(NSString *)templateName
                                      withNSString:(NSString *)borderInsets
                           withRAREiActionListener:(id<RAREiActionListener>)listener
                                   withRAREUIColor:(RAREUIColor *)borderColor {
  RAREWindowViewer *w = [RAREPlatform getWindowViewer];
  RARESPOTPushButton *cfg = (RARESPOTPushButton *) check_class_cast([((RAREWindowViewer *) nil_chk([RAREPlatform getWindowViewer])) createConfigurationObjectWithNSString:@"PushButton" withNSString:templateName], [RARESPOTPushButton class]);
  if ([((SPOTPrintableString *) nil_chk(((RARESPOTPushButton *) nil_chk(cfg))->value_)) getValue] == nil) {
    [cfg->value_ setValueWithNSString:text];
  }
  if ([((SPOTPrintableString *) nil_chk(cfg->templateName_)) getValue] == nil) {
    [((RARESPOTPushButton_CButtonStyle *) nil_chk(cfg->buttonStyle_)) setValueWithInt:RARESPOTPushButton_CButtonStyle_hyperlink_always_underline];
  }
  RAREPushButtonWidget *pb = [RAREaPushButtonWidget createWithRAREiContainer:w withRARESPOTPushButton:cfg];
  if ([cfg->templateName_ getValue] == nil) {
    if (RAREAlertPanel_foregroundColor_ != nil) {
      [((RAREPushButtonWidget *) nil_chk(pb)) setForegroundWithRAREUIColor:RAREAlertPanel_foregroundColor_];
    }
    else {
      [((RAREPushButtonWidget *) nil_chk(pb)) setForegroundWithRAREUIColor:[RAREColorUtils getForeground]];
    }
  }
  [((RAREPushButtonWidget *) nil_chk(pb)) addActionListenerWithRAREiActionListener:listener];
  return pb;
}

- (void)dispose {
  id<RAREiFunctionCallback> cb = callback_;
  [super dispose];
  yesButton_ = nil;
  cancelButton_ = nil;
  noButton_ = nil;
  callback_ = nil;
  titleLabel_ = nil;
  window_ = nil;
  if (cb != nil) {
    [cb finishedWithBoolean:YES withId:nil];
  }
}

+ (RAREAlertPanel *)errorWithRAREiWidget:(id<RAREiWidget>)context
                withRAREErrorInformation:(RAREErrorInformation *)ei {
  id<RAREiPlatformIcon> icon = [RAREAlertPanel getIconWithNSString:@"Rare.icon.alertError"];
  NSString *title = [((RAREErrorInformation *) nil_chk(ei)) getTitle];
  if ((title == nil) || ([title sequenceLength] == 0)) {
    title = [RAREPlatform getResourceAsStringWithNSString:@"Rare.Alert.errorTitle"];
  }
  RAREAlertPanel *d = [[RAREAlertPanel alloc] initWithRAREiWidget:context withNSString:title withId:nil withRAREiPlatformIcon:icon withBoolean:YES];
  NSString *s = [ei toAlertPanelString];
  RARETextAreaWidget *l = [d createTextAreaWithNSString:s withNSString:@"Rare.Alert.message"];
  [RAREAlertPanel adjustLabelWithRAREaWidget:l withBoolean:YES];
  d->isError_ = YES;
  [d addComponentWithRAREiPlatformComponent:[((RARETextAreaWidget *) nil_chk(l)) getContainerComponent] withNSString:@"FILL:[30dlu,d]:GROW"];
  d->yesButton_ = [RAREAlertPanel createButtonWithNSString:[((id<RAREiPlatformAppContext>) nil_chk([RAREPlatform getAppContext])) getResourceAsStringWithNSString:@"Rare.text.ok"] withNSString:@"Rare.Alert.button" withNSString:nil withRAREiActionListener:d];
  [d addButtonsWithRAREiWidget:context];
  return d;
}

+ (RAREAlertPanel *)errorWithRAREiWidget:(id<RAREiWidget>)context
                   withJavaLangThrowable:(JavaLangThrowable *)e
                             withBoolean:(BOOL)showTerminate {
  return [RAREAlertPanel errorWithRAREiWidget:context withRAREErrorInformation:[[RAREErrorInformation alloc] initWithJavaLangThrowable:e]];
}

+ (RAREAlertPanel *)okWithRAREiWidget:(id<RAREiWidget>)context
                         withNSString:(NSString *)title
           withRAREiPlatformComponent:(id<RAREiPlatformComponent>)comp
                withRAREiPlatformIcon:(id<RAREiPlatformIcon>)icon {
  if (icon == nil) {
    icon = [RAREAlertPanel getIconWithNSString:@"Rare.icon.alertInfo"];
  }
  RAREAlertPanel *d = [[RAREAlertPanel alloc] initWithRAREiWidget:context withNSString:title withId:nil withRAREiPlatformIcon:icon withBoolean:NO];
  [d addComponentWithRAREiPlatformComponent:comp];
  d->yesButton_ = [RAREAlertPanel createButtonWithNSString:[((id<RAREiPlatformAppContext>) nil_chk([RAREPlatform getAppContext])) getResourceAsStringWithNSString:@"Rare.text.ok"] withNSString:@"Rare.Alert.button" withNSString:nil withRAREiActionListener:d];
  [((RAREPushButtonWidget *) nil_chk(d->yesButton_)) setDefaultButtonWithBoolean:YES];
  [d addButtonsWithRAREiWidget:context];
  return d;
}

+ (RAREAlertPanel *)okWithRAREiWidget:(id<RAREiWidget>)context
                         withNSString:(NSString *)title
                               withId:(id)message
                withRAREiPlatformIcon:(id<RAREiPlatformIcon>)icon {
  if (icon == nil) {
    icon = [RAREAlertPanel getIconWithNSString:@"Rare.icon.alertInfo"];
  }
  RAREAlertPanel *d = [[RAREAlertPanel alloc] initWithRAREiWidget:context withNSString:title withId:message withRAREiPlatformIcon:icon withBoolean:NO];
  d->yesButton_ = [RAREAlertPanel createButtonWithNSString:[((id<RAREiPlatformAppContext>) nil_chk([RAREPlatform getAppContext])) getResourceAsStringWithNSString:@"Rare.text.ok"] withNSString:@"Rare.Alert.button" withNSString:nil withRAREiActionListener:d];
  [((RAREPushButtonWidget *) nil_chk(d->yesButton_)) setDefaultButtonWithBoolean:YES];
  [d addButtonsWithRAREiWidget:context];
  return d;
}

+ (RAREAlertPanel *)okCancelWithRAREiWidget:(id<RAREiWidget>)context
                               withNSString:(NSString *)title
                                     withId:(id)message
                        withRAREUIImageIcon:(RAREUIImageIcon *)icon {
  return [RAREAlertPanel yesNoWithRAREiWidget:context withNSString:title withId:message withRAREiPlatformIcon:icon withNSString:nil withNSString:nil withBoolean:YES];
}

+ (RAREAlertPanel *)promptWithRAREiWidget:(id<RAREiWidget>)context
                             withNSString:(NSString *)title
                             withNSString:(NSString *)prompt
                                   withId:(id)value
                    withRAREiPlatformIcon:(id<RAREiPlatformIcon>)icon {
  if (icon == nil) {
    icon = [RAREAlertPanel getIconWithNSString:@"Rare.icon.alertQuestion"];
  }
  RAREAlertPanel *d = [[RAREAlertPanel alloc] initWithRAREiWidget:context withNSString:title withId:nil withRAREiPlatformIcon:icon withBoolean:NO];
  RARELabelWidget *l = [d createLabelWithId:prompt withNSString:@"Rare.Alert.prompt.text" withBoolean:NO];
  id<RAREiPlatformComponent> field;
  if ([value conformsToProtocol: @protocol(RAREiWidget)]) {
    field = [((id<RAREiWidget>) check_protocol_cast(value, @protocol(RAREiWidget))) getContainerComponent];
  }
  else if ([value conformsToProtocol: @protocol(RAREiPlatformComponent)]) {
    field = (id<RAREiPlatformComponent>) check_protocol_cast(value, @protocol(RAREiPlatformComponent));
  }
  else {
    RARETextFieldWidget *tf = [d createTextFieldWithNSString:(value == nil) ? @"" : [value description] withNSString:@"Rare.Alert.prompt.textfield" withBoolean:NO];
    field = [((RARETextFieldWidget *) nil_chk(tf)) getContainerComponent];
  }
  if ([RAREScreenUtils getWidth] < [RAREUIScreen platformPixelsWithInt:600]) {
    [d addComponentWithRAREiPlatformComponent:[((RARELabelWidget *) nil_chk(l)) getContainerComponent]];
    [d addComponentWithRAREiPlatformComponent:field];
  }
  else {
    RARELinearPanel *p = [[RARELinearPanel alloc] initWithRAREiWidget:context withBoolean:YES];
    [p addComponentWithRAREiPlatformComponent:[((RARELabelWidget *) nil_chk(l)) getContainerComponent] withNSString:@"RIGHT:DEFAULT:NONE"];
    [p addComponentWithRAREiPlatformComponent:field withNSString:@"FILL:DEFAULT:GROW"];
    [d addComponentWithRAREiPlatformComponent:p];
  }
  d->yesButton_ = [RAREAlertPanel createButtonWithNSString:[((id<RAREiPlatformAppContext>) nil_chk([RAREPlatform getAppContext])) getResourceAsStringWithNSString:@"Rare.text.ok"] withNSString:@"Rare.Alert.button" withNSString:@"0,0,0,1" withRAREiActionListener:d];
  d->cancelButton_ = [RAREAlertPanel createButtonWithNSString:[((id<RAREiPlatformAppContext>) nil_chk([RAREPlatform getAppContext])) getResourceAsStringWithNSString:@"Rare.text.cancel"] withNSString:@"Rare.Alert.button" withNSString:@"0,0,0,1" withRAREiActionListener:d];
  [d addButtonsWithRAREiWidget:context];
  return d;
}

- (void)showDialogWithRAREiFunctionCallback:(id<RAREiFunctionCallback>)cb {
  callback_ = cb;
  RAREBeanViewer *viewer = [[RAREBeanViewer alloc] initWithRAREiContainer:[RAREPlatform getWindowViewer] withRAREiPlatformComponent:self];
  RAREPaintBucket *pb;
  if (isError_) {
    pb = [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getPaintBucketWithNSString:@"Rare.Alert.errorPanelPainter"];
    if (pb == nil) {
      pb = [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getPaintBucketWithNSString:@"Rare.Alert.panelPainter"];
    }
  }
  else {
    pb = [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getPaintBucketWithNSString:@"Rare.Alert.panelPainter"];
  }
  if (pb == nil) {
    RAREUIColor *bg = [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getColorWithNSString:@"Rare.Alert.backgroundColor"];
    if (bg == nil) {
      bg = [RAREColorUtils getBackground];
    }
    pb = [[RAREPaintBucket alloc] initWithRAREUIColor:bg];
    [pb setBorderWithRAREiPlatformBorder:[RAREBorderUtils createShadowBorderWithFloat:[RAREScreenUtils PLATFORM_PIXELS_7]]];
    [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) putWithNSString:@"Rare.Alert.panelPainter" withId:pb];
  }
  JavaUtilHashMap *options = [[JavaUtilHashMap alloc] init];
  (void) [options putWithId:@"decorated" withId:[JavaLangBoolean valueOfWithBoolean:NO]];
  (void) [options putWithId:@"opaque" withId:[JavaLangBoolean valueOfWithBoolean:NO]];
  (void) [options putWithId:@"visible" withId:[JavaLangBoolean valueOfWithBoolean:NO]];
  window_ = [viewer showAsDialogWithJavaUtilMap:options];
  [((RAREWindowViewer *) nil_chk(window_)) setComponentPainterWithRAREiPlatformComponentPainter:[((RAREPaintBucket *) nil_chk(pb)) getCachedComponentPainter]];
  if (titleLabel_ != nil) {
    [window_ addWindowDraggerWithRAREiWidget:titleLabel_];
  }
  [window_ setDefaultButtonWithRAREPushButtonWidget:yesButton_];
  [window_ showWindow];
}

+ (void)showErrorDialogWithRAREErrorInformation:(RAREErrorInformation *)ei {
  [RAREAlertPanel showErrorDialogWithRAREErrorInformation:ei withRAREiFunctionCallback:nil];
}

+ (void)showErrorDialogWithJavaLangThrowable:(JavaLangThrowable *)error {
  [RAREAlertPanel showErrorDialogWithJavaLangThrowable:error withRAREiFunctionCallback:nil];
}

+ (void)showErrorDialogWithRAREErrorInformation:(RAREErrorInformation *)ei
                      withRAREiFunctionCallback:(id<RAREiFunctionCallback>)cb {
  RAREAlertPanel *p = [RAREAlertPanel errorWithRAREiWidget:[RAREPlatform getContextRootViewer] withRAREErrorInformation:ei];
  [((RAREAlertPanel *) nil_chk(p)) showDialogWithRAREiFunctionCallback:cb];
}

+ (void)showErrorDialogWithJavaLangThrowable:(JavaLangThrowable *)error
                   withRAREiFunctionCallback:(id<RAREiFunctionCallback>)cb {
  [RAREAlertPanel showErrorDialogWithRAREErrorInformation:[[RAREErrorInformation alloc] initWithNSString:nil withJavaLangThrowable:error] withRAREiFunctionCallback:cb];
}

+ (RAREAlertPanel *)yesNoWithRAREiWidget:(id<RAREiWidget>)context
                            withNSString:(NSString *)title
                            withNSString:(NSString *)message
                     withRAREUIImageIcon:(RAREUIImageIcon *)icon {
  return [RAREAlertPanel yesNoWithRAREiWidget:context withNSString:title withId:message withRAREiPlatformIcon:icon withNSString:nil withNSString:nil withBoolean:NO];
}

+ (RAREAlertPanel *)yesNoWithRAREiWidget:(id<RAREiWidget>)context
                            withNSString:(NSString *)title
                                  withId:(id)message
                   withRAREiPlatformIcon:(id<RAREiPlatformIcon>)icon
                            withNSString:(NSString *)yes
                            withNSString:(NSString *)no
                             withBoolean:(BOOL)forOkCancel {
  if (icon == nil) {
    icon = [RAREAlertPanel getIconWithNSString:@"Rare.icon.alertQuestion"];
  }
  RAREWindowViewer *w = [RAREPlatform getWindowViewer];
  if (yes == nil) {
    yes = [((RAREWindowViewer *) nil_chk(w)) getStringWithNSString:forOkCancel ? @"Rare.text.ok" : @"Rare.text.yes"];
  }
  if (no == nil) {
    no = [((RAREWindowViewer *) nil_chk(w)) getStringWithNSString:forOkCancel ? @"Rare.text.cancel" : @"Rare.text.no"];
  }
  RAREAlertPanel *d = [[RAREAlertPanel alloc] initWithRAREiWidget:context withNSString:title withId:message withRAREiPlatformIcon:icon withBoolean:NO];
  d->yesButton_ = [RAREAlertPanel createButtonWithNSString:yes withNSString:@"Rare.Alert.button" withNSString:@"0,0,0,1" withRAREiActionListener:d];
  d->cancelButton_ = [RAREAlertPanel createButtonWithNSString:no withNSString:@"Rare.Alert.button" withNSString:nil withRAREiActionListener:d];
  [d addButtonsWithRAREiWidget:context];
  return d;
}

+ (RAREAlertPanel *)yesNoCancelWithRAREiWidget:(id<RAREiWidget>)context
                                  withNSString:(NSString *)title
                                        withId:(id)message
                         withRAREiPlatformIcon:(id<RAREiPlatformIcon>)icon
                                  withNSString:(NSString *)yes
                                  withNSString:(NSString *)no
                                  withNSString:(NSString *)cancel {
  if (icon == nil) {
    icon = [RAREAlertPanel getIconWithNSString:@"Rare.icon.alertQuestion"];
  }
  RAREWindowViewer *w = [RAREPlatform getWindowViewer];
  if (yes == nil) {
    yes = [((RAREWindowViewer *) nil_chk(w)) getStringWithNSString:@"Rare.text.yes"];
  }
  if (no == nil) {
    no = [((RAREWindowViewer *) nil_chk(w)) getStringWithNSString:@"Rare.text.no"];
  }
  if (cancel == nil) {
    cancel = [((RAREWindowViewer *) nil_chk(w)) getStringWithNSString:@"Rare.text.cancel"];
  }
  RAREAlertPanel *d = [[RAREAlertPanel alloc] initWithRAREiWidget:context withNSString:title withId:message withRAREiPlatformIcon:icon withBoolean:NO];
  d->yesButton_ = [RAREAlertPanel createButtonWithNSString:yes withNSString:@"Rare.Alert.button" withNSString:@"0,0,0,1" withRAREiActionListener:d];
  d->noButton_ = [RAREAlertPanel createButtonWithNSString:no withNSString:@"Rare.Alert.button" withNSString:@"0,0,0,1" withRAREiActionListener:d];
  d->cancelButton_ = [RAREAlertPanel createButtonWithNSString:cancel withNSString:@"Rare.Alert.button" withNSString:nil withRAREiActionListener:d];
  [d addButtonsWithRAREiWidget:context];
  return d;
}

- (void)addButtonsWithRAREiWidget:(id<RAREiWidget>)context {
  RARELinearPanel *p = [self createButtonPanelWithRAREiWidget:context withBoolean:YES];
  id<RAREiPlatformBorder> b = [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getBorderWithNSString:@"Rare.Alert.buttonPanel.border"];
  if (b != nil) {
    [((RARELinearPanel *) nil_chk(p)) setBorderWithRAREiPlatformBorder:b];
  }
  [self addComponentWithRAREiPlatformComponent:p withNSString:@"FILL:[20dlu,d]:NONE"];
}

- (RARELinearPanel *)createButtonPanelWithRAREiWidget:(id<RAREiWidget>)context
                                          withBoolean:(BOOL)horizontal {
  RARELinearPanel *p = [[RARELinearPanel alloc] initWithRAREiWidget:context withBoolean:horizontal withNSString:@"FILL:DEFAULT:GROW" withNSString:@"FILL:DEFAULT:GROW"];
  int count = 0;
  if (cancelButton_ != nil) {
    [p addComponentWithRAREiPlatformComponent:[cancelButton_ getContainerComponent]];
    count++;
  }
  if (noButton_ != nil) {
    [p addComponentWithRAREiPlatformComponent:[noButton_ getContainerComponent]];
    count++;
  }
  if (yesButton_ != nil) {
    [p addComponentWithRAREiPlatformComponent:[yesButton_ getContainerComponent]];
    count++;
  }
  IOSIntArray *a = nil;
  if (count == 2) {
    a = [IOSIntArray arrayWithInts:(int[]){ 1, 2 } count:2];
  }
  else if (count == 3) {
    a = [IOSIntArray arrayWithInts:(int[]){ 1, 2, 3 } count:3];
  }
  if (a != nil) {
    if (horizontal) {
      [((RAREJGFormLayout *) nil_chk([p getFormLayout])) setColumnGroupsWithIntArray2:[IOSObjectArray arrayWithObjects:(id[]){ a } count:1 type:[IOSIntArray iosClass]]];
    }
    else {
      [((RAREJGFormLayout *) nil_chk([p getFormLayout])) setRowGroupsWithIntArray2:[IOSObjectArray arrayWithObjects:(id[]){ a } count:1 type:[IOSIntArray iosClass]]];
    }
  }
  return p;
}

- (RARELabelWidget *)createLabelWithId:(id)text
                          withNSString:(NSString *)templateName
                           withBoolean:(BOOL)title {
  RAREWindowViewer *w = [RAREPlatform getWindowViewer];
  RARESPOTLabel *cfg = (RARESPOTLabel *) check_class_cast([((RAREWindowViewer *) nil_chk([RAREPlatform getWindowViewer])) createConfigurationObjectWithNSString:@"Label" withNSString:templateName], [RARESPOTLabel class]);
  if (![((SPOTPrintableString *) nil_chk(((RARESPOTLabel *) nil_chk(cfg))->templateName_)) spot_hasValue]) {
    if (title) {
      [((SPOTPrintableString *) nil_chk(((RARESPOTFont *) nil_chk(cfg->font_))->size_)) setValueWithNSString:@"+2"];
    }
    else {
      [((RARESPOTMargin *) nil_chk([cfg getContentPaddingReference])) setValuesWithInt:8 withInt:4 withInt:8 withInt:8];
    }
  }
  RARELabelWidget *l = [RAREaLabelWidget createWithRAREiContainer:w withRARESPOTLabel:cfg];
  [((RARELabelWidget *) nil_chk(l)) setTextWithJavaLangCharSequence:[self messageToStringWithId:text]];
  if (![cfg->templateName_ spot_hasValue]) {
    if (title) {
      RAREUIFont *f = [RAREFontUtils getDefaultFont];
      [l setFontWithRAREUIFont:[f deriveFontSizeWithFloat:[((RAREUIFont *) nil_chk(f)) getSize2D] + 2]];
      int space = [RAREUIScreen platformPixelsWithInt:4];
      id<RAREiPlatformBorder> b = [[RAREUICompoundBorder alloc] initWithRAREiPlatformBorder:[[RAREUIMatteBorder alloc] initWithRAREUIInsets:[[RAREUIInsets alloc] initWithInt:0 withInt:0 withInt:2 withInt:0] withRAREUIColor:RAREAlertPanel_titleLineColor_] withRAREiPlatformBorder:[[RAREUIEmptyBorder alloc] initWithFloat:space withFloat:space withFloat:space withFloat:space]];
      [l setBorderWithRAREiPlatformBorder:b];
    }
    if (RAREAlertPanel_foregroundColor_ != nil) {
      [l setForegroundWithRAREUIColor:RAREAlertPanel_foregroundColor_];
    }
    else {
      [l setForegroundWithRAREUIColor:[RAREColorUtils getForeground]];
    }
  }
  [l setWordWrapWithBoolean:YES];
  return l;
}

- (RARETextAreaWidget *)createTextAreaWithNSString:(NSString *)text
                                      withNSString:(NSString *)templateName {
  RAREWindowViewer *w = [RAREPlatform getWindowViewer];
  RARESPOTTextArea *cfg = (RARESPOTTextArea *) check_class_cast([((RAREWindowViewer *) nil_chk([RAREPlatform getWindowViewer])) createConfigurationObjectWithNSString:@"TextArea" withNSString:templateName], [RARESPOTTextArea class]);
  if (([((SPOTPrintableString *) nil_chk(((RARESPOTTextArea *) nil_chk(cfg))->templateName_)) getValue] == nil)) {
    [((SPOTPrintableString *) nil_chk(cfg->bgColor_)) setValueWithNSString:@"transparent"];
  }
  [((SPOTBoolean *) nil_chk(cfg->editable_)) setValueWithBoolean:NO];
  [((SPOTBoolean *) nil_chk(cfg->wordWrap_)) setValueWithBoolean:YES];
  RARETextAreaWidget *ta = [[RARETextAreaWidget alloc] initWithRAREiContainer:w];
  [ta configureWithRARESPOTWidget:cfg];
  if (([cfg->templateName_ getValue] == nil)) {
    if (RAREAlertPanel_foregroundColor_ != nil) {
      [ta setForegroundWithRAREUIColor:RAREAlertPanel_foregroundColor_];
    }
    else {
      [ta setForegroundWithRAREUIColor:[RAREColorUtils getForeground]];
    }
    [ta setBorderWithRAREiPlatformBorder:[[RAREUIEmptyBorder alloc] initWithFloat:4 withFloat:8 withFloat:4 withFloat:4]];
  }
  [ta setTextWithJavaLangCharSequence:text];
  return ta;
}

- (RARETextFieldWidget *)createTextFieldWithNSString:(NSString *)text
                                        withNSString:(NSString *)templateName
                                         withBoolean:(BOOL)details {
  RAREWindowViewer *w = [RAREPlatform getWindowViewer];
  RARESPOTTextField *cfg = (RARESPOTTextField *) check_class_cast([((RAREWindowViewer *) nil_chk([RAREPlatform getWindowViewer])) createConfigurationObjectWithNSString:@"TextField" withNSString:templateName], [RARESPOTTextField class]);
  [((SPOTBoolean *) nil_chk(((RARESPOTTextField *) nil_chk(cfg))->editable_)) setValueWithBoolean:YES];
  RARETextFieldWidget *tf = [[RARETextFieldWidget alloc] initWithRAREiContainer:w];
  [tf configureWithRARESPOTWidget:cfg];
  [tf setTextWithJavaLangCharSequence:text];
  return tf;
}

- (id<JavaLangCharSequence>)messageToStringWithId:(id)message {
  if ([message conformsToProtocol: @protocol(JavaLangCharSequence)]) {
    return (id<JavaLangCharSequence>) check_protocol_cast(message, @protocol(JavaLangCharSequence));
  }
  return [nil_chk(message) description];
}

- (void)packWindow {
  id<RAREiWidget> w = [RAREPlatform findWidgetForComponentWithId:self];
  if (w != nil) {
    [((RAREWindowViewer *) nil_chk([w getWindow])) pack];
  }
}

+ (id<RAREiPlatformIcon>)getIconWithNSString:(NSString *)name {
  id<RAREiPlatformIcon> icon = [((id<RAREiPlatformAppContext>) nil_chk([RAREPlatform getAppContext])) getResourceAsIconExWithNSString:name];
  if ((icon == nil) && RAREAlertPanel_showApplicationIcon_) {
    id<JavaUtilList> icons = [((id<RAREiPlatformWindowManager>) nil_chk([((id<RAREiPlatformAppContext>) nil_chk([RAREPlatform getAppContext])) getWindowManager])) getWindowIcons];
    if ((icons != nil) && ([icons size] > 0)) {
      icon = [icons getWithInt:0];
    }
  }
  return icon;
}

+ (void)adjustLabelWithRAREaWidget:(RAREaWidget *)l
                       withBoolean:(BOOL)error {
  float sw = [((RAREWindowViewer *) nil_chk([RAREPlatform getWindowViewer])) getWidth];
  if ([RAREUIScreen fromPlatformPixelsWithFloat:sw] < 400) {
    sw = [RAREUIScreen getWidth];
  }
  RAREUIFont *f = [((RAREaWidget *) nil_chk(l)) getFont];
  if (f == nil) {
    f = [RAREFontUtils getDefaultFont];
  }
  NSString *s = [l getValueAsString];
  if ([((NSString *) nil_chk(s)) sequenceLength] != 0) {
    int cw = 0;
    int mcw = 0;
    int len = [s sequenceLength];
    for (int i = 0; i < len; i++) {
      cw++;
      if ([s charAtWithInt:i] == 0x000a) {
        if (cw > mcw) {
          mcw = cw;
        }
        cw = 0;
      }
    }
    if (mcw == 0) {
      mcw = cw;
    }
    mcw = (int) (mcw * .66);
    cw = [RAREFontUtils getCharacterWidthWithRAREUIFont:f];
    int chars = (int) sw / cw;
    chars = [JavaLangMath minWithInt:mcw withInt:chars - 2];
    s = [NSString stringWithFormat:@"%dch", chars];
    int ln = [JavaLangMath maxWithInt:(int) (len / chars) withInt:3];
    [l setPreferredSizeWithNSString:s withNSString:[NSString stringWithFormat:@"%dln", ln]];
  }
}

+ (void)initialize {
  if (self == [RAREAlertPanel class]) {
    {
      RAREAlertPanel_foregroundColor_ = [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getColorWithNSString:@"Rare.Alert.foregroundColor"];
      RAREAlertPanel_backgroundColor_AlertPanel_ = [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getColorWithNSString:@"Rare.Alert.backgroundColor"];
      RAREAlertPanel_showApplicationIcon_ = ![@"false" isEqual:[((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getWithNSString:@"Rare.Alert.showApplicationIcon"]];
      RAREAlertPanel_lineColor_ = [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getColorWithNSString:@"Rare.Alert.lineColor"];
      if (RAREAlertPanel_backgroundColor_AlertPanel_ == nil) {
        RAREAlertPanel_backgroundColor_AlertPanel_ = [RAREColorUtils getBackground];
      }
      if (RAREAlertPanel_lineColor_ == nil) {
        RAREAlertPanel_lineColor_ = [RAREColorUtils getDisabledForeground];
      }
      if (RAREAlertPanel_titleLineColor_ == nil) {
        RAREAlertPanel_titleLineColor_ = [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getColorWithNSString:@"Rare.Alert.title.lineColor"];
      }
      if (RAREAlertPanel_titleLineColor_ == nil) {
        RAREAlertPanel_titleLineColor_ = RAREAlertPanel_lineColor_;
      }
    }
  }
}

- (void)copyAllFieldsTo:(RAREAlertPanel *)other {
  [super copyAllFieldsTo:other];
  other->callback_ = callback_;
  other->cancelButton_ = cancelButton_;
  other->isError_ = isError_;
  other->noButton_ = noButton_;
  other->titleLabel_ = titleLabel_;
  other->window_ = window_;
  other->yesButton_ = yesButton_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "createButtonWithNSString:withNSString:withNSString:withRAREiActionListener:", NULL, "LRAREPushButtonWidget", 0x9, NULL },
    { "createButtonWithNSString:withNSString:withNSString:withRAREiActionListener:withRAREUIColor:", NULL, "LRAREPushButtonWidget", 0x9, NULL },
    { "errorWithRAREiWidget:withRAREErrorInformation:", NULL, "LRAREAlertPanel", 0x9, NULL },
    { "errorWithRAREiWidget:withJavaLangThrowable:withBoolean:", NULL, "LRAREAlertPanel", 0x9, NULL },
    { "okWithRAREiWidget:withNSString:withRAREiPlatformComponent:withRAREiPlatformIcon:", NULL, "LRAREAlertPanel", 0x9, NULL },
    { "okWithRAREiWidget:withNSString:withId:withRAREiPlatformIcon:", NULL, "LRAREAlertPanel", 0x9, NULL },
    { "okCancelWithRAREiWidget:withNSString:withId:withRAREUIImageIcon:", NULL, "LRAREAlertPanel", 0x9, NULL },
    { "promptWithRAREiWidget:withNSString:withNSString:withId:withRAREiPlatformIcon:", NULL, "LRAREAlertPanel", 0x9, NULL },
    { "yesNoWithRAREiWidget:withNSString:withNSString:withRAREUIImageIcon:", NULL, "LRAREAlertPanel", 0x9, NULL },
    { "yesNoWithRAREiWidget:withNSString:withId:withRAREiPlatformIcon:withNSString:withNSString:withBoolean:", NULL, "LRAREAlertPanel", 0x9, NULL },
    { "yesNoCancelWithRAREiWidget:withNSString:withId:withRAREiPlatformIcon:withNSString:withNSString:withNSString:", NULL, "LRAREAlertPanel", 0x9, NULL },
    { "addButtonsWithRAREiWidget:", NULL, "V", 0x4, NULL },
    { "createButtonPanelWithRAREiWidget:withBoolean:", NULL, "LRARELinearPanel", 0x4, NULL },
    { "createLabelWithId:withNSString:withBoolean:", NULL, "LRARELabelWidget", 0x4, NULL },
    { "createTextAreaWithNSString:withNSString:", NULL, "LRARETextAreaWidget", 0x4, NULL },
    { "createTextFieldWithNSString:withNSString:withBoolean:", NULL, "LRARETextFieldWidget", 0x4, NULL },
    { "messageToStringWithId:", NULL, "LJavaLangCharSequence", 0x4, NULL },
    { "packWindow", NULL, "V", 0x4, NULL },
    { "getIconWithNSString:", NULL, "LRAREiPlatformIcon", 0xc, NULL },
    { "adjustLabelWithRAREaWidget:withBoolean:", NULL, "V", 0xa, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "foregroundColor_", NULL, 0x8, "LRAREUIColor" },
    { "backgroundColor_AlertPanel_", "backgroundColor", 0x8, "LRAREUIColor" },
    { "lineColor_", NULL, 0x8, "LRAREUIColor" },
    { "titleLineColor_", NULL, 0x8, "LRAREUIColor" },
    { "hasErrorTitleChecked_", NULL, 0xa, "Z" },
    { "hasErrorTitleTemplate_", NULL, 0xa, "Z" },
    { "showApplicationIcon_", NULL, 0xa, "Z" },
    { "callback_", NULL, 0x0, "LRAREiFunctionCallback" },
    { "cancelButton_", NULL, 0x0, "LRAREPushButtonWidget" },
    { "isError_", NULL, 0x0, "Z" },
    { "noButton_", NULL, 0x0, "LRAREPushButtonWidget" },
    { "titleLabel_", NULL, 0x0, "LRARELabelWidget" },
    { "window_", NULL, 0x0, "LRAREWindowViewer" },
    { "yesButton_", NULL, 0x0, "LRAREPushButtonWidget" },
  };
  static J2ObjcClassInfo _RAREAlertPanel = { "AlertPanel", "com.appnativa.rare.ui", NULL, 0x1, 20, methods, 14, fields, 0, NULL};
  return &_RAREAlertPanel;
}

@end
@implementation RAREAlertPanel_$1

- (void)run {
  [((id<RAREiFunctionCallback>) nil_chk(val$cb_)) finishedWithBoolean:YES withId:nil];
}

- (id)initWithRAREiFunctionCallback:(id<RAREiFunctionCallback>)capture$0 {
  val$cb_ = capture$0;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcFieldInfo fields[] = {
    { "val$cb_", NULL, 0x1012, "LRAREiFunctionCallback" },
  };
  static J2ObjcClassInfo _RAREAlertPanel_$1 = { "$1", "com.appnativa.rare.ui", "AlertPanel", 0x8000, 0, NULL, 1, fields, 0, NULL};
  return &_RAREAlertPanel_$1;
}

@end

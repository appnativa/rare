//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/apple/com/appnativa/rare/ui/text/NSAttributedStringHTMLEncoder.java
//
//  Created by decoteaud on 7/29/15.
//

#include "com/appnativa/rare/ui/UIFont.h"
#include "com/appnativa/rare/ui/text/HTMLCharSequence.h"
#include "com/appnativa/rare/ui/text/NSAttributedStringHTMLEncoder.h"
#include "java/lang/CharSequence.h"

@implementation RARENSAttributedStringHTMLEncoder

- (id)init {
  return [super init];
}

- (id<JavaLangCharSequence>)applyFontWithNSString:(NSString *)text
                                   withRAREUIFont:(RAREUIFont *)font {
  id as = [RARENSAttributedStringHTMLEncoder createAttributedStringWithNSString:text];
  [((RAREUIFont *) nil_chk(font)) addToAttributedStringWithId:as withInt:0 withInt:-1];
  return [[RAREHTMLCharSequence alloc] initWithNSString:text withId:as];
}

- (id<JavaLangCharSequence>)parseHTMLWithNSString:(NSString *)html
                                   withRAREUIFont:(RAREUIFont *)base {
  id as = [self parseHTMLExWithNSString:html];
  if (base != nil) {
    [base addToAttributedStringWithId:as withInt:0 withInt:-1];
  }
  return [[RAREHTMLCharSequence alloc] initWithNSString:html withId:as];
}

- (NSString *)getPlainTextWithNSString:(NSString *)html {
  NSAttributedString* s=(NSAttributedString*)[self parseHTMLExWithNSString: html];
  return [s string];
}

- (id)parseHTMLExWithNSString:(NSString *)html {
  NSData* data=[html dataUsingEncoding:NSUTF8StringEncoding];
  return [[NSMutableAttributedString alloc]   initWithData:data
  options:@{NSDocumentTypeDocumentAttribute:NSHTMLTextDocumentType}
  documentAttributes:nil
  error:nil];
}

+ (id)createAttributedStringWithNSString:(NSString *)text {
  NSMutableAttributedString* s=[NSMutableAttributedString new];
  [s.mutableString appendString: text];
  return s;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "applyFontWithNSString:withRAREUIFont:", NULL, "LJavaLangCharSequence", 0x1, NULL },
    { "parseHTMLWithNSString:withRAREUIFont:", NULL, "LJavaLangCharSequence", 0x1, NULL },
    { "getPlainTextWithNSString:", NULL, "LNSString", 0x101, NULL },
    { "parseHTMLExWithNSString:", NULL, "LNSObject", 0x104, NULL },
    { "createAttributedStringWithNSString:", NULL, "LNSObject", 0x10a, NULL },
  };
  static J2ObjcClassInfo _RARENSAttributedStringHTMLEncoder = { "NSAttributedStringHTMLEncoder", "com.appnativa.rare.ui.text", NULL, 0x1, 5, methods, 0, NULL, 0, NULL};
  return &_RARENSAttributedStringHTMLEncoder;
}

@end

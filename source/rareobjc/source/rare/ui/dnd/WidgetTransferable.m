//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/core/com/appnativa/rare/ui/dnd/WidgetTransferable.java
//
//  Created by decoteaud on 12/8/15.
//

#include "IOSClass.h"
#include "IOSObjectArray.h"
#include "com/appnativa/rare/ui/dnd/TransferFlavor.h"
#include "com/appnativa/rare/ui/dnd/UnsupportedFlavorException.h"
#include "com/appnativa/rare/ui/dnd/WidgetTransferable.h"
#include "com/appnativa/rare/ui/iListHandler.h"
#include "com/appnativa/rare/ui/iPlatformIcon.h"
#include "com/appnativa/rare/widget/iWidget.h"
#include "java/io/IOException.h"

@implementation RAREWidgetTransferable

- (id)initWithRAREiWidget:(id<RAREiWidget>)widget {
  if (self = [super init]) {
    theWidget_ = widget;
  }
  return self;
}

- (void)clear {
  theWidget_ = nil;
  exportEndPoint_ = nil;
  dataIcon_ = nil;
  exportStartPoint_ = nil;
}

- (void)setDataIconWithRAREiPlatformIcon:(id<RAREiPlatformIcon>)icon {
  self->dataIcon_ = icon;
}

- (void)setExportEndPointWithId:(id)exportEndPoint {
  self->exportEndPoint_ = exportEndPoint;
}

- (void)setExportStartPointWithId:(id)exportStartPoint {
  self->exportStartPoint_ = exportStartPoint;
}

- (id<RAREiPlatformIcon>)getDataIcon {
  if (dataIcon_ == nil) {
    (void) [((id<RAREiWidget>) nil_chk(theWidget_)) getIcon];
  }
  return dataIcon_;
}

- (id)getExportEndPoint {
  return exportEndPoint_;
}

- (id)getExportStartPoint {
  return exportStartPoint_;
}

- (id)getTransferDataWithRARETransferFlavor:(RARETransferFlavor *)flavor {
  if (flavor == [RARETransferFlavor widgetFlavor]) {
    return theWidget_;
  }
  return [((id<RAREiWidget>) nil_chk(theWidget_)) getTransferDataWithRARETransferFlavor:flavor withRAREiTransferable:self];
}

- (IOSObjectArray *)getTransferFlavors {
  IOSObjectArray *a = [((id<RAREiWidget>) nil_chk(theWidget_)) getExportableDataFlavors];
  if (a == nil) {
    RARETransferFlavor *tf = [RARETransferFlavor stringFlavor];
    return (IOSObjectArray *) check_class_cast([((RARETransferFlavor *) nil_chk(tf)) getPlatformFlavor], [IOSObjectArray class]);
  }
  return [RARETransferFlavor createSupportedDataFlavorsWithNSStringArray:a withBoolean:YES];
}

- (id<RAREiWidget>)getWidget {
  return theWidget_;
}

- (BOOL)isTransferFlavorSupportedWithRARETransferFlavor:(RARETransferFlavor *)flavor {
  if (flavor == [RARETransferFlavor widgetFlavor]) {
    return YES;
  }
  if ((flavor == [RARETransferFlavor itemFlavor]) && ([(id) theWidget_ conformsToProtocol: @protocol(RAREiListHandler)])) {
    return YES;
  }
  return [((id<RAREiWidget>) nil_chk(theWidget_)) canExportWithRARETransferFlavor:flavor];
}

- (void)copyAllFieldsTo:(RAREWidgetTransferable *)other {
  [super copyAllFieldsTo:other];
  other->dataIcon_ = dataIcon_;
  other->exportEndPoint_ = exportEndPoint_;
  other->exportStartPoint_ = exportStartPoint_;
  other->theWidget_ = theWidget_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "getDataIcon", NULL, "LRAREiPlatformIcon", 0x1, NULL },
    { "getExportEndPoint", NULL, "LNSObject", 0x1, NULL },
    { "getExportStartPoint", NULL, "LNSObject", 0x1, NULL },
    { "getTransferDataWithRARETransferFlavor:", NULL, "LNSObject", 0x1, "RAREUnsupportedFlavorException;JavaIoIOException" },
    { "getTransferFlavors", NULL, "LIOSObjectArray", 0x1, NULL },
    { "getWidget", NULL, "LRAREiWidget", 0x1, NULL },
    { "isTransferFlavorSupportedWithRARETransferFlavor:", NULL, "Z", 0x1, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "theWidget_", NULL, 0x4, "LRAREiWidget" },
    { "dataIcon_", NULL, 0x4, "LRAREiPlatformIcon" },
    { "exportEndPoint_", NULL, 0x4, "LNSObject" },
    { "exportStartPoint_", NULL, 0x4, "LNSObject" },
  };
  static J2ObjcClassInfo _RAREWidgetTransferable = { "WidgetTransferable", "com.appnativa.rare.ui.dnd", NULL, 0x1, 7, methods, 4, fields, 0, NULL};
  return &_RAREWidgetTransferable;
}

@end

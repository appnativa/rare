//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/apple/com/appnativa/rare/ui/Menu.java
//
//  Created by decoteaud on 3/11/16.
//

#include "com/appnativa/rare/platform/apple/ui/view/View.h"
#include "com/appnativa/rare/ui/Menu.h"
#include "com/appnativa/rare/ui/MenuItem.h"
#include "com/appnativa/rare/ui/UIFont.h"
#include "com/appnativa/rare/ui/UIMenu.h"
#include "com/appnativa/rare/ui/UIMenuItem.h"
#include "com/appnativa/rare/ui/event/iActionListener.h"
#include "com/appnativa/rare/ui/iActionComponent.h"
#include "com/appnativa/rare/ui/iPlatformIcon.h"
#include "java/lang/CharSequence.h"
#import "com/appnativa/rare/ui/text/HTMLCharSequence.h"
#import "RAREAPMenuItem.h"
#import "RAREAPMenu.h"

@implementation RAREMenu

static RAREMenu * RAREMenu_menuBar_;

+ (RAREMenu *)menuBar {
  return RAREMenu_menuBar_;
}

+ (void)setMenuBar:(RAREMenu *)menuBar {
  RAREMenu_menuBar_ = menuBar;
}

- (id)init {
  return [super initWithId:[RAREMenu createMenuProxyWithBoolean:NO]];
}

- (id)initWithNSString:(NSString *)text {
  if (self = [super initWithId:[RAREMenu createMenuProxyWithBoolean:NO]]) {
    [self setTextWithJavaLangCharSequence:text];
  }
  return self;
}

- (id)initWithId:(id)proxy {
  return [super initWithId:proxy];
}

- (void)addWithRAREUIMenuItem:(RAREUIMenuItem *)mi {
  [self addWithInt:-1 withRAREUIMenuItem:mi];
}

- (void)addWithInt:(int)pos
withRAREUIMenuItem:(RAREUIMenuItem *)mi {
  if ([mi isKindOfClass:[RAREUIMenu class]]) {
    RAREUIMenu *um = (RAREUIMenu *) check_class_cast(mi, [RAREUIMenu class]);
    RAREUIMenuItem *sub = [[RAREUIMenuItem alloc] initWithJavaLangCharSequence:[((RAREUIMenuItem *) nil_chk(mi)) getOriginalValue] withRAREiPlatformIcon:[mi getIcon] withId:[mi getLinkedData] withBoolean:NO];
    if ([mi getDisabledIcon] != nil) {
      [sub setDisabledIconWithRAREiPlatformIcon:[mi getDisabledIcon]];
    }
    RAREMenu *m = (RAREMenu *) check_class_cast([((RAREUIMenu *) nil_chk(um)) getMenuItem], [RAREMenu class]);
    ((RAREMenu *) nil_chk(m))->subMenuProxy_ = sub;
    [self addMenuWithInt:pos withRAREUIMenu:um withRAREUIMenuItem:sub];
  }
  else {
    [self addMenuItemWithInt:pos withRAREUIMenuItem:mi];
  }
}

- (void)addActionListenerWithRAREiActionListener:(id<RAREiActionListener>)l {
}

- (void)dispose {
  if (subMenuProxy_ != nil) {
    [subMenuProxy_ dispose];
  }
  proxy_ = nil;
  subMenuProxy_ = nil;
  userData_ = nil;
  font_ = nil;
}

- (void)removeWithRAREUIMenuItem:(RAREUIMenuItem *)mi {
  [((RAREAPMenu*)proxy_) removeItem: (RAREAPMenuItem*)[mi getProxy]];
}

- (void)removeActionListenerWithRAREiActionListener:(id<RAREiActionListener>)l {
}

- (void)removeAll {
  [((RAREAPMenu*)proxy_) removeAllItems];
}

- (void)revalidate {
  [((RAREAPMenu*)proxy_) update];
}

- (void)setEnabledWithBoolean:(BOOL)enabled {
  if (subMenuProxy_ != nil) {
    [subMenuProxy_ setEnabledWithBoolean:enabled];
  }
}

- (void)setFontWithRAREUIFont:(RAREUIFont *)font {
  font_ = font;
  if(font!=nil) {
    [((RAREAPMenu*)proxy_) setAPFont: font->proxy_];
  }
}

- (void)setIconWithRAREiPlatformIcon:(id<RAREiPlatformIcon>)icon {
}

- (void)setSelectedWithBoolean:(BOOL)selected {
}

- (void)setTextWithJavaLangCharSequence:(id<JavaLangCharSequence>)text {
  if (subMenuProxy_ != nil) {
    [subMenuProxy_ setTextWithJavaLangCharSequence:text];
  }
  else {
    [self setTextExWithJavaLangCharSequence:text];
  }
}

- (void)setTitleWithJavaLangCharSequence:(id<JavaLangCharSequence>)title {
}

- (void)setTitleIconWithRAREiPlatformIcon:(id<RAREiPlatformIcon>)icon {
}

- (void)setUserDataWithId:(id)data {
  userData_ = data;
}

- (void)setVisibleWithBoolean:(BOOL)visible {
  if ([self isMenuBar]) {
    [self setMenuBarVisibleWithBoolean:visible];
  }
  else if (subMenuProxy_ != nil) {
    [subMenuProxy_ setVisibleWithBoolean:visible];
  }
}

+ (RAREMenu *)getMenuBar {
  if (RAREMenu_menuBar_ == nil) {
    RAREMenu_menuBar_ = [[RAREMenu alloc] initWithId:[RAREMenu createMenuProxyWithBoolean:YES]];
  }
  return RAREMenu_menuBar_;
}

- (id<JavaLangCharSequence>)getText {
  if (subMenuProxy_ != nil) {
    return [subMenuProxy_ getText];
  }
  else {
    return text_;
  }
}

- (id<RAREiActionComponent>)getTitleComponent {
  return nil;
}

- (id)getUserData {
  return userData_;
}

- (BOOL)hasParentMenu {
  return [((RAREAPMenu*)proxy_) hasParentMenu];
}

- (BOOL)hasTitleComponent {
  return NO;
}

- (BOOL)isEnabled {
  if ([self isMenuBar]) {
    return YES;
  }
  if (subMenuProxy_ != nil) {
    return [subMenuProxy_ isEnabled];
  }
  return YES;
}

- (BOOL)isMenuBar {
  return self == RAREMenu_menuBar_;
}

- (BOOL)isVisible {
  if ([self isMenuBar]) {
    return [self isMenuBarVisible];
  }
  if (subMenuProxy_ != nil) {
    return [subMenuProxy_ isVisible];
  }
  return YES;
}

- (void)setHeaderViewWithRAREView:(RAREView *)view {
  RAREAPMenu* menu=(RAREAPMenu*)proxy_;
  [menu setHeader: view ? (UIView*)[view getProxy] : nil];
}

- (void)addMenuWithInt:(int)pos
        withRAREUIMenu:(RAREUIMenu *)menu
    withRAREUIMenuItem:(RAREUIMenuItem *)subProxy {
  RAREAPMenu* m=(RAREAPMenu*)proxy_;
  RAREAPMenu* subMenu=(RAREAPMenu*)[menu getProxy];
  RAREAPMenuItem* subItem=[subProxy getProxy];
  if(pos<0) {
    [m addItem: subItem];
  }
  else {
    [m insertItem: subItem atIndex: pos];
  }
  [m setSubmenu: subMenu forItem: subItem];
}

+ (id)createMenuProxyWithBoolean:(BOOL)mainMenu {
  return [[RAREAPMenu alloc] initWithTitle: @"" keyEquivalent: @""];
}

- (void)setMenuBarVisibleWithBoolean:(BOOL)visible {
  [RAREAPMenu setMenuBarVisible: visible];
}

- (BOOL)isMenuBarVisible {
  return [RAREAPMenu menuBarVisible];
}

- (void)addMenuItemWithInt:(int)pos
        withRAREUIMenuItem:(RAREUIMenuItem *)mi {
  RAREAPMenu* menu=(RAREAPMenu*)proxy_;
  if(pos<0) {
    [menu addItem: (RAREAPMenuItem*)[mi getProxy]];
  }
  else {
    [menu insertItem: (RAREAPMenuItem*)[mi getProxy] atIndex: pos];
  }
}

- (void)setTextExWithJavaLangCharSequence:(id<JavaLangCharSequence>)text {
  text= text==nil ? @"" : text;
  text_=text;
  [((RAREAPMenu*)proxy_) setTitle: text.description];
}

- (void)copyAllFieldsTo:(RAREMenu *)other {
  [super copyAllFieldsTo:other];
  other->font_ = font_;
  other->subMenuProxy_ = subMenuProxy_;
  other->userData_ = userData_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "initWithId:", NULL, NULL, 0x4, NULL },
    { "removeWithRAREUIMenuItem:", NULL, "V", 0x101, NULL },
    { "removeAll", NULL, "V", 0x101, NULL },
    { "revalidate", NULL, "V", 0x101, NULL },
    { "setFontWithRAREUIFont:", NULL, "V", 0x101, NULL },
    { "getMenuBar", NULL, "LRAREMenu", 0x9, NULL },
    { "getText", NULL, "LJavaLangCharSequence", 0x1, NULL },
    { "getTitleComponent", NULL, "LRAREiActionComponent", 0x1, NULL },
    { "getUserData", NULL, "LNSObject", 0x1, NULL },
    { "hasParentMenu", NULL, "Z", 0x101, NULL },
    { "hasTitleComponent", NULL, "Z", 0x1, NULL },
    { "isEnabled", NULL, "Z", 0x1, NULL },
    { "isMenuBar", NULL, "Z", 0x1, NULL },
    { "isVisible", NULL, "Z", 0x1, NULL },
    { "setHeaderViewWithRAREView:", NULL, "V", 0x101, NULL },
    { "addMenuWithInt:withRAREUIMenu:withRAREUIMenuItem:", NULL, "V", 0x100, NULL },
    { "createMenuProxyWithBoolean:", NULL, "LNSObject", 0x108, NULL },
    { "setMenuBarVisibleWithBoolean:", NULL, "V", 0x100, NULL },
    { "isMenuBarVisible", NULL, "Z", 0x100, NULL },
    { "addMenuItemWithInt:withRAREUIMenuItem:", NULL, "V", 0x104, NULL },
    { "setTextExWithJavaLangCharSequence:", NULL, "V", 0x104, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "menuBar_", NULL, 0xa, "LRAREMenu" },
    { "font_", NULL, 0x4, "LRAREUIFont" },
    { "subMenuProxy_", NULL, 0x4, "LRAREUIMenuItem" },
    { "userData_", NULL, 0x4, "LNSObject" },
  };
  static J2ObjcClassInfo _RAREMenu = { "Menu", "com.appnativa.rare.ui", NULL, 0x1, 21, methods, 4, fields, 0, NULL};
  return &_RAREMenu;
}

@end

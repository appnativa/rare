//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/apple/com/appnativa/rare/ui/ContainerPanel.java
//
//  Created by decoteaud on 3/11/16.
//

#include "IOSClass.h"
#include "com/appnativa/rare/platform/apple/ui/view/FrameView.h"
#include "com/appnativa/rare/platform/apple/ui/view/View.h"
#include "com/appnativa/rare/ui/Container.h"
#include "com/appnativa/rare/ui/ContainerPanel.h"
#include "com/appnativa/rare/ui/RenderType.h"
#include "com/appnativa/rare/ui/UIColor.h"
#include "com/appnativa/rare/ui/UIDimension.h"
#include "com/appnativa/rare/ui/UIFont.h"
#include "com/appnativa/rare/ui/UIInsets.h"
#include "com/appnativa/rare/ui/iParentComponent.h"
#include "com/appnativa/rare/ui/iPlatformBorder.h"
#include "com/appnativa/rare/ui/iPlatformComponent.h"
#include "com/appnativa/rare/ui/painter/RenderSpace.h"
#include "com/appnativa/rare/ui/painter/aUIComponentPainter.h"
#include "com/appnativa/rare/ui/painter/iComponentPainter.h"
#include "com/appnativa/rare/ui/painter/iPlatformComponentPainter.h"
#include "java/beans/PropertyChangeEvent.h"

@implementation RAREContainerPanel

- (id)init {
  return [super initWithRAREParentView:[[RAREFrameView alloc] init]];
}

- (id)initWithRAREFrameView:(RAREFrameView *)fv {
  return [super initWithRAREParentView:fv];
}

- (id)initWithRAREiPlatformComponent:(id<RAREiPlatformComponent>)c {
  if (self = [super initWithRAREParentView:[[RAREFrameView alloc] init]]) {
    [self addWithRAREiPlatformComponent:c];
  }
  return self;
}

- (void)addWithRAREiPlatformComponent:(id<RAREiPlatformComponent>)c
                               withId:(id)constraints
                              withInt:(int)position {
  [super addWithRAREiPlatformComponent:c withId:constraints withInt:position];
  if ((borderComponentPainter_ != nil) && (c != nil)) {
    [borderComponentPainter_ setPartnerWithRAREiPlatformComponentPainter:[c getComponentPainter]];
  }
}

- (void)removeWithRAREiPlatformComponent:(id<RAREiPlatformComponent>)c {
  if ((borderComponentPainter_ != nil) && (c != nil) && ([c getParent] == self)) {
    [borderComponentPainter_ setPartnerWithRAREiPlatformComponentPainter:nil];
  }
  [super removeWithRAREiPlatformComponent:c];
}

- (void)setFocusPaintedWithBoolean:(BOOL)focusPainted {
  [super setFocusPaintedWithBoolean:focusPainted];
  if ([self getComponentCount] > 0) {
    id<RAREiPlatformComponent> c = [self getComponentAtWithInt:0];
    [((id<RAREiPlatformComponent>) nil_chk(c)) setFocusPaintedWithBoolean:focusPainted];
  }
}

- (id<RAREiPlatformComponentPainter>)getComponentPainter {
  if (borderPanel_ && (borderComponentPainter_ != nil)) {
    return [borderComponentPainter_ getPartner];
  }
  else {
    return [super getComponentPainter];
  }
}

- (void)dispose {
  if (borderComponentPainter_ != nil) {
    [borderComponentPainter_ dispose];
    borderComponentPainter_ = nil;
  }
  [super dispose];
  borderPanel_ = NO;
}

- (void)setComponentPainterWithRAREiPlatformComponentPainter:(id<RAREiPlatformComponentPainter>)cp {
  if (borderPanel_) {
    [((RAREContainerPanel_BorderComponentPainter *) nil_chk(borderComponentPainter_)) setPartnerWithRAREiPlatformComponentPainter:cp];
    if ([self getComponentCount] > 0) {
      [((id<RAREiPlatformComponent>) nil_chk([self getComponentAtWithInt:0])) setComponentPainterWithRAREiPlatformComponentPainter:cp];
    }
  }
  else {
    [super setComponentPainterWithRAREiPlatformComponentPainter:cp];
  }
}

- (void)setBorderPanelWithBoolean:(BOOL)borderPanel {
  self->borderPanel_ = borderPanel;
  if (borderComponentPainter_ == nil) {
    id<RAREiPlatformComponentPainter> cp = nil;
    if ([self getComponentCount] > 0) {
      cp = [((id<RAREiPlatformComponent>) nil_chk([self getComponentAtWithInt:0])) getComponentPainter];
    }
    borderComponentPainter_ = [[RAREContainerPanel_BorderComponentPainter alloc] initWithRAREView:view_ withRAREiPlatformComponentPainter:cp];
  }
  [((RAREFrameView *) check_class_cast(view_, [RAREFrameView class])) setRenderSpaceWithRARERenderSpaceEnum:borderPanel ? [RARERenderSpaceEnum WITHIN_BORDER] : [RARERenderSpaceEnum WITHIN_MARGIN]];
}

- (void)setFontWithRAREUIFont:(RAREUIFont *)f {
  [super setFontWithRAREUIFont:f];
  if ([self getComponentCount] > 0) {
    [((id<RAREiPlatformComponent>) nil_chk([self getComponentAtWithInt:0])) setFontWithRAREUIFont:f];
  }
}

- (void)setForegroundWithRAREUIColor:(RAREUIColor *)fg {
  [super setForegroundWithRAREUIColor:fg];
  if ([self getComponentCount] > 0) {
    [((id<RAREiPlatformComponent>) nil_chk([self getComponentAtWithInt:0])) setForegroundWithRAREUIColor:fg];
  }
}

- (void)setPaddingWithRAREUIInsets:(RAREUIInsets *)insets {
  [((RAREFrameView *) check_class_cast(view_, [RAREFrameView class])) setPaddingWithRAREUIInsets:insets];
}

- (void)setRenderTypeWithRARERenderTypeEnum:(RARERenderTypeEnum *)renderType {
  [((RAREFrameView *) check_class_cast(view_, [RAREFrameView class])) setViewRenderTypeWithRARERenderTypeEnum:renderType];
}

- (RARERenderTypeEnum *)getRenderType {
  return [((RAREFrameView *) check_class_cast(view_, [RAREFrameView class])) getViewRenderType];
}

- (BOOL)isBorderPanel {
  return borderPanel_;
}

- (void)getMinimumSizeExWithRAREUIDimension:(RAREUIDimension *)size
                                  withFloat:(float)maxWidth {
  [((RAREUIDimension *) nil_chk(size)) setSizeWithInt:0 withInt:0];
  if ([self getComponentCount] > 0) {
    id<RAREiPlatformComponent> c = [self getComponentAtWithInt:0];
    if ([((id<RAREiPlatformComponent>) nil_chk(c)) isVisible]) {
      (void) [c getMinimumSizeWithRAREUIDimension:size withFloat:maxWidth];
    }
  }
  RAREUIInsets *in = [self getInsetsWithRAREUIInsets:nil];
  size->width_ += ((RAREUIInsets *) nil_chk(in))->left_ + in->right_;
  size->height_ += in->top_ + in->bottom_;
}

- (void)getPreferredSizeExWithRAREUIDimension:(RAREUIDimension *)size {
  [((RAREUIDimension *) nil_chk(size)) setSizeWithInt:0 withInt:0];
  if ([self getComponentCount] > 0) {
    id<RAREiPlatformComponent> c = [self getComponentAtWithInt:0];
    if ([((id<RAREiPlatformComponent>) nil_chk(c)) isVisible]) {
      (void) [c getPreferredSizeWithRAREUIDimension:size];
    }
  }
  RAREUIInsets *in = [self getInsetsWithRAREUIInsets:nil];
  size->width_ += ((RAREUIInsets *) nil_chk(in))->left_ + in->right_;
  size->height_ += in->top_ + in->bottom_;
}

- (void)copyAllFieldsTo:(RAREContainerPanel *)other {
  [super copyAllFieldsTo:other];
  other->borderComponentPainter_ = borderComponentPainter_;
  other->borderPanel_ = borderPanel_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "getComponentPainter", NULL, "LRAREiPlatformComponentPainter", 0x1, NULL },
    { "getRenderType", NULL, "LRARERenderTypeEnum", 0x1, NULL },
    { "isBorderPanel", NULL, "Z", 0x1, NULL },
    { "getMinimumSizeExWithRAREUIDimension:withFloat:", NULL, "V", 0x4, NULL },
    { "getPreferredSizeExWithRAREUIDimension:", NULL, "V", 0x4, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "borderComponentPainter_", NULL, 0x0, "LRAREContainerPanel_BorderComponentPainter" },
  };
  static J2ObjcClassInfo _RAREContainerPanel = { "ContainerPanel", "com.appnativa.rare.ui", NULL, 0x1, 5, methods, 1, fields, 0, NULL};
  return &_RAREContainerPanel;
}

@end
@implementation RAREContainerPanel_BorderComponentPainter

- (id)initWithRAREView:(RAREView *)view
withRAREiPlatformComponentPainter:(id<RAREiPlatformComponentPainter>)cp {
  if (self = [super init]) {
    self->view_ = view;
    [self setPartnerWithRAREiPlatformComponentPainter:cp];
  }
  return self;
}

- (id<RAREiPlatformComponentPainter>)getPartner {
  return partner_;
}

- (void)dispose {
  @synchronized(self) {
    {
      if (partner_ != nil) {
        [partner_ removePropertyChangeListenerWithJavaBeansPropertyChangeListener:self];
      }
      partner_ = nil;
      view_ = nil;
      [super dispose];
    }
  }
}

- (void)setPartnerWithRAREiPlatformComponentPainter:(id<RAREiPlatformComponentPainter>)cp {
  if (partner_ != cp) {
    if (partner_ != nil) {
      [partner_ removePropertyChangeListenerWithJavaBeansPropertyChangeListener:self];
    }
    partner_ = cp;
    [self setBorderWithRAREiPlatformBorder:(cp == nil) ? nil : [cp getBorder]];
    if (cp != nil) {
      [cp addPropertyChangeListenerWithJavaBeansPropertyChangeListener:self];
    }
    modCount_++;
    if (view_ != nil) {
      [view_ setComponentPainterWithRAREiPlatformComponentPainter:self];
    }
  }
}

- (void)propertyChangeWithJavaBeansPropertyChangeEvent:(JavaBeansPropertyChangeEvent *)evt {
  if ([((JavaBeansPropertyChangeEvent *) nil_chk(evt)) getPropertyName] == [RAREiComponentPainter PROPERTY_BORDER]) {
    [self setBorderWithRAREiPlatformBorder:(id<RAREiPlatformBorder>) check_protocol_cast([evt getNewValue], @protocol(RAREiPlatformBorder))];
  }
}

- (void)copyAllFieldsTo:(RAREContainerPanel_BorderComponentPainter *)other {
  [super copyAllFieldsTo:other];
  other->partner_ = partner_;
  other->view_ = view_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "getPartner", NULL, "LRAREiPlatformComponentPainter", 0x1, NULL },
    { "dispose", NULL, "V", 0x21, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "partner_", NULL, 0x0, "LRAREiPlatformComponentPainter" },
    { "view_", NULL, 0x0, "LRAREView" },
  };
  static J2ObjcClassInfo _RAREContainerPanel_BorderComponentPainter = { "BorderComponentPainter", "com.appnativa.rare.ui", "ContainerPanel", 0x9, 2, methods, 2, fields, 0, NULL};
  return &_RAREContainerPanel_BorderComponentPainter;
}

@end

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/apple/com/appnativa/rare/ui/border/UICompoundBorder.java
//
//  Created by decoteaud on 9/15/15.
//

#include "IOSObjectArray.h"
#include "com/appnativa/rare/ui/UIInsets.h"
#include "com/appnativa/rare/ui/border/UICompoundBorder.h"
#include "com/appnativa/rare/ui/border/UIEmptyBorder.h"
#include "com/appnativa/rare/ui/iPlatformBorder.h"
#include "com/appnativa/rare/ui/iPlatformPath.h"

@implementation RAREUICompoundBorder

- (id)init {
  return [super init];
}

- (id)initWithRAREiPlatformBorderArray:(IOSObjectArray *)borders {
  return [super initWithRAREiPlatformBorderArray:borders];
}

- (id)initWithRAREiPlatformBorder:(id<RAREiPlatformBorder>)outsideBorder
          withRAREiPlatformBorder:(id<RAREiPlatformBorder>)insideBorder {
  return [super initWithRAREiPlatformBorder:outsideBorder withRAREiPlatformBorder:insideBorder];
}

- (BOOL)canUseMainLayer {
  return [self usesPath];
}

- (BOOL)requiresPanel {
  int len = (int) [((IOSObjectArray *) nil_chk(borders_)) count];
  while (len-- > 0) {
    if ((IOSObjectArray_Get(borders_, len) != nil) && [((id<RAREiPlatformBorder>) IOSObjectArray_Get(borders_, len)) requiresPanel]) {
      return YES;
    }
  }
  return NO;
}

- (BOOL)usesPath {
  int len = (int) [((IOSObjectArray *) nil_chk(borders_)) count];
  if (len < 3) {
    id<RAREiPlatformBorder> b1 = (len > 0) ? IOSObjectArray_Get(borders_, 0) : nil;
    ;
    id<RAREiPlatformBorder> b2 = (len > 1) ? IOSObjectArray_Get(borders_, 1) : nil;
    if ((b1 != nil) && [b1 usesPath]) {
      return (b2 == nil) || ([(id) b2 isKindOfClass:[RAREUIEmptyBorder class]]);
    }
  }
  return NO;
}

- (id<RAREiPlatformPath>)getPathWithRAREiPlatformPath:(id<RAREiPlatformPath>)p
                                            withFloat:(float)x
                                            withFloat:(float)y
                                            withFloat:(float)width
                                            withFloat:(float)height
                                          withBoolean:(BOOL)forClip {
  int len = (int) [((IOSObjectArray *) nil_chk(borders_)) count];
  while (len-- > 0) {
    if ((IOSObjectArray_Get(borders_, len) != nil) && ![((id<RAREiPlatformBorder>) IOSObjectArray_Get(borders_, len)) isRectangular]) {
      break;
    }
  }
  if (len < 0) {
    return nil;
  }
  RAREUIInsets *in = nil;
  for (int i = 0; i < len; i++) {
    if (IOSObjectArray_Get(borders_, i) != nil) {
      in = [((id<RAREiPlatformBorder>) IOSObjectArray_Get(borders_, i)) getBorderInsetsWithRAREUIInsets:in];
      x += ((RAREUIInsets *) nil_chk(in))->left_;
      y += in->top_;
      width -= (in->left_ + in->right_);
      height -= (in->top_ + in->bottom_);
    }
  }
  return [((id<RAREiPlatformBorder>) IOSObjectArray_Get(borders_, len)) getPathWithRAREiPlatformPath:p withFloat:x withFloat:y withFloat:width withFloat:height withBoolean:forClip];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "canUseMainLayer", NULL, "Z", 0x1, NULL },
    { "requiresPanel", NULL, "Z", 0x1, NULL },
    { "usesPath", NULL, "Z", 0x1, NULL },
    { "getPathWithRAREiPlatformPath:withFloat:withFloat:withFloat:withFloat:withBoolean:", NULL, "LRAREiPlatformPath", 0x1, NULL },
  };
  static J2ObjcClassInfo _RAREUICompoundBorder = { "UICompoundBorder", "com.appnativa.rare.ui.border", NULL, 0x1, 4, methods, 0, NULL, 0, NULL};
  return &_RAREUICompoundBorder;
}

@end

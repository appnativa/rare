//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/core/com/appnativa/rare/ui/border/aUIBalloonBorder.java
//
//  Created by decoteaud on 9/15/15.
//

#include "IOSClass.h"
#include "com/appnativa/rare/Platform.h"
#include "com/appnativa/rare/ui/BorderUtils.h"
#include "com/appnativa/rare/ui/ScreenUtils.h"
#include "com/appnativa/rare/ui/UIColor.h"
#include "com/appnativa/rare/ui/UIInsets.h"
#include "com/appnativa/rare/ui/UIProperties.h"
#include "com/appnativa/rare/ui/UIRectangle.h"
#include "com/appnativa/rare/ui/UIScreen.h"
#include "com/appnativa/rare/ui/UIStroke.h"
#include "com/appnativa/rare/ui/border/UILineBorder.h"
#include "com/appnativa/rare/ui/border/aUIBalloonBorder.h"
#include "com/appnativa/rare/ui/border/aUILineBorder.h"
#include "com/appnativa/rare/ui/iPlatformComponent.h"
#include "com/appnativa/rare/ui/iPlatformGraphics.h"
#include "com/appnativa/rare/ui/iPlatformPath.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/lang/Math.h"

@implementation RAREaUIBalloonBorder

- (id)initWithRAREUIColor:(RAREUIColor *)color {
  if (self = [super initWithRAREUIColor:color withFloat:[RAREScreenUtils PLATFORM_PIXELS_1] withFloat:[RAREScreenUtils PLATFORM_PIXELS_6]]) {
    peakSize_ = [RAREScreenUtils PLATFORM_PIXELS_5];
    origPeakSize_ = [RAREScreenUtils PLATFORM_PIXELS_5];
    peakLocation_ = [RAREaUIBalloonBorder_PeakLocationEnum UL_TOP];
    peakOffset_ = [RAREScreenUtils PLATFORM_PIXELS_5];
  }
  return self;
}

- (id)initWithRAREUIColor:(RAREUIColor *)color
                withFloat:(float)thickness {
  if (self = [super initWithRAREUIColor:color withFloat:thickness withFloat:[RAREScreenUtils PLATFORM_PIXELS_6]]) {
    peakSize_ = [RAREScreenUtils PLATFORM_PIXELS_5];
    origPeakSize_ = [RAREScreenUtils PLATFORM_PIXELS_5];
    peakLocation_ = [RAREaUIBalloonBorder_PeakLocationEnum UL_TOP];
    peakOffset_ = [RAREScreenUtils PLATFORM_PIXELS_5];
  }
  return self;
}

- (id)initWithRAREUIColor:(RAREUIColor *)color
                withFloat:(float)thickness
                withFloat:(float)arc {
  if (self = [super initWithRAREUIColor:color withFloat:thickness withFloat:arc]) {
    peakSize_ = [RAREScreenUtils PLATFORM_PIXELS_5];
    origPeakSize_ = [RAREScreenUtils PLATFORM_PIXELS_5];
    peakLocation_ = [RAREaUIBalloonBorder_PeakLocationEnum UL_TOP];
    peakOffset_ = [RAREScreenUtils PLATFORM_PIXELS_5];
  }
  return self;
}

- (id)initWithRAREUIColor:(RAREUIColor *)color
                withFloat:(float)thickness
                withFloat:(float)arc
withRAREaUIBalloonBorder_PeakLocationEnum:(RAREaUIBalloonBorder_PeakLocationEnum *)pl {
  if (self = [super initWithRAREUIColor:color withFloat:thickness withFloat:arc]) {
    peakSize_ = [RAREScreenUtils PLATFORM_PIXELS_5];
    origPeakSize_ = [RAREScreenUtils PLATFORM_PIXELS_5];
    peakLocation_ = [RAREaUIBalloonBorder_PeakLocationEnum UL_TOP];
    peakOffset_ = [RAREScreenUtils PLATFORM_PIXELS_5];
    peakLocation_ = pl;
  }
  return self;
}

- (id)initWithRAREUIColor:(RAREUIColor *)color
                withFloat:(float)thickness
                withFloat:(float)arc
withRAREaUIBalloonBorder_PeakLocationEnum:(RAREaUIBalloonBorder_PeakLocationEnum *)pl
                withFloat:(float)peakSize {
  if (self = [super initWithRAREUIColor:color withFloat:thickness withFloat:arc]) {
    peakSize_ = [RAREScreenUtils PLATFORM_PIXELS_5];
    origPeakSize_ = [RAREScreenUtils PLATFORM_PIXELS_5];
    peakLocation_ = [RAREaUIBalloonBorder_PeakLocationEnum UL_TOP];
    peakOffset_ = [RAREScreenUtils PLATFORM_PIXELS_5];
    peakLocation_ = pl;
    self->peakSize_ = peakSize;
    self->origPeakSize_ = peakSize;
    self->peakOffset_ = peakSize;
  }
  return self;
}

- (id)clone {
  RAREaUIBalloonBorder *b = (RAREaUIBalloonBorder *) check_class_cast([super clone], [RAREaUIBalloonBorder class]);
  return b;
}

- (void)paintWithRAREiPlatformGraphics:(id<RAREiPlatformGraphics>)g
                             withFloat:(float)x
                             withFloat:(float)y
                             withFloat:(float)width
                             withFloat:(float)height
                           withBoolean:(BOOL)last {
  if (!last) {
    return;
  }
  RAREUIColor *color = [self getColor];
  if (color == nil) {
    return;
  }
  id<RAREiPlatformPath> path = [self getPathWithRAREiPlatformPath:paintShape_ withFloat:x withFloat:y withFloat:width withFloat:height withBoolean:NO];
  RAREUIStroke *stroke = [((id<RAREiPlatformGraphics>) nil_chk(g)) getStroke];
  RAREUIColor *c = [g getColor];
  [g setColorWithRAREUIColor:color];
  if (lineStroke_ != nil) {
    [g setStrokeWithRAREUIStroke:lineStroke_];
  }
  else {
    [g setStrokeWidthWithFloat:thickness_];
  }
  [g drawShapeWithRAREiPlatformShape:path withFloat:0 withFloat:0];
  [g setStrokeWithRAREUIStroke:stroke];
  [g setColorWithRAREUIColor:c];
}

- (void)setPeakLocationWithRAREaUIBalloonBorder_PeakLocationEnum:(RAREaUIBalloonBorder_PeakLocationEnum *)peakLocation {
  self->peakLocation_ = peakLocation;
}

- (void)setPeakOffsetWithFloat:(float)peakOffset {
  self->peakOffset_ = peakOffset;
}

- (void)setPeakSizeWithFloat:(float)peakSize {
  self->peakSize_ = peakSize;
  self->origPeakSize_ = peakSize;
}

- (RAREUIInsets *)getBorderInsetsWithRAREUIInsets:(RAREUIInsets *)insets {
  if (self->insets_ != nil) {
    ((RAREUIInsets *) nil_chk(insets))->left_ = self->insets_->left_;
    insets->right_ = self->insets_->right_;
    insets->top_ = self->insets_->top_;
    insets->bottom_ = self->insets_->bottom_;
    return insets;
  }
  int tw = (int) thickness_;
  int tt = tw;
  int tb = tw;
  if (padForArc_) {
    tw += (arcWidth_ / 5);
    tt += (arcHeight_ / 5);
    tb += (arcWidth_ / 5);
  }
  if (insets == nil) {
    insets = [[RAREUIInsets alloc] initWithInt:tt withInt:tw withInt:tb withInt:tw];
  }
  else {
    (void) [insets setWithInt:tt withInt:tw withInt:tb withInt:tw];
  }
  return [self adjustForPeakWithRAREUIInsets:insets];
}

- (RAREaUIBalloonBorder_PeakLocationEnum *)getPeakLocation {
  return peakLocation_;
}

- (float)getPeakOffset {
  return peakOffset_;
}

- (float)getPeakSize {
  return origPeakSize_;
}

- (BOOL)isPaintLast {
  return YES;
}

- (BOOL)isRectangular {
  return NO;
}

- (RAREUIInsets *)adjustForPeakWithRAREUIInsets:(RAREUIInsets *)insets {
  switch ([peakLocation_ ordinal]) {
    case RAREaUIBalloonBorder_PeakLocation_UR_RIGHT:
    case RAREaUIBalloonBorder_PeakLocation_LR_RIGHT:
    ((RAREUIInsets *) nil_chk(insets))->right_ += peakSize_;
    break;
    case RAREaUIBalloonBorder_PeakLocation_LL_LEFT:
    case RAREaUIBalloonBorder_PeakLocation_UL_LEFT:
    ((RAREUIInsets *) nil_chk(insets))->left_ += peakSize_;
    break;
    case RAREaUIBalloonBorder_PeakLocation_UL_TOP:
    case RAREaUIBalloonBorder_PeakLocation_UR_TOP:
    ((RAREUIInsets *) nil_chk(insets))->top_ += peakSize_;
    break;
    default:
    ((RAREUIInsets *) nil_chk(insets))->bottom_ += peakSize_;
    break;
  }
  return insets;
}

- (id<RAREiPlatformPath>)createBorderPathWithRAREiPlatformPath:(id<RAREiPlatformPath>)p
                                                     withFloat:(float)x
                                                     withFloat:(float)y
                                                     withFloat:(float)width
                                                     withFloat:(float)height
                                                     withFloat:(float)aw
                                                     withFloat:(float)ah
                                                   withBoolean:(BOOL)clip {
  if (p != nil) {
    [p reset];
  }
  switch ([peakLocation_ ordinal]) {
    case RAREaUIBalloonBorder_PeakLocation_LL_BOTTOM:
    p = [RAREBorderUtils createBalloonLLBPathWithRAREiPlatformPath:p withFloat:width withFloat:height withFloat:aw withFloat:peakSize_ withFloat:peakOffset_];
    break;
    case RAREaUIBalloonBorder_PeakLocation_LL_LEFT:
    p = [RAREBorderUtils createBalloonLLLPathWithRAREiPlatformPath:p withFloat:width withFloat:height withFloat:aw withFloat:peakSize_ withFloat:peakOffset_];
    break;
    case RAREaUIBalloonBorder_PeakLocation_LR_RIGHT:
    p = [RAREBorderUtils createBalloonLRRPathWithRAREiPlatformPath:p withFloat:width withFloat:height withFloat:aw withFloat:peakSize_ withFloat:peakOffset_];
    break;
    case RAREaUIBalloonBorder_PeakLocation_UL_LEFT:
    p = [RAREBorderUtils createBalloonULLPathWithRAREiPlatformPath:p withFloat:width withFloat:height withFloat:aw withFloat:peakSize_ withFloat:peakOffset_];
    break;
    case RAREaUIBalloonBorder_PeakLocation_UL_TOP:
    p = [RAREBorderUtils createBalloonULTPathWithRAREiPlatformPath:p withFloat:width withFloat:height withFloat:aw withFloat:peakSize_ withFloat:peakOffset_];
    break;
    case RAREaUIBalloonBorder_PeakLocation_UR_RIGHT:
    p = [RAREBorderUtils createBalloonURRPathWithRAREiPlatformPath:p withFloat:width withFloat:height withFloat:aw withFloat:peakSize_ withFloat:peakOffset_];
    break;
    case RAREaUIBalloonBorder_PeakLocation_UR_TOP:
    p = [RAREBorderUtils createBalloonURTPathWithRAREiPlatformPath:p withFloat:width withFloat:height withFloat:aw withFloat:peakSize_ withFloat:peakOffset_];
    break;
    default:
    p = [RAREBorderUtils createBalloonLRBPathWithRAREiPlatformPath:p withFloat:width withFloat:height withFloat:aw withFloat:peakSize_ withFloat:peakOffset_];
    break;
  }
  [((id<RAREiPlatformPath>) nil_chk(p)) translateWithFloat:x withFloat:y];
  return p;
}

- (RAREUIColor *)getColor {
  if (lineColor_ == nil) {
    RAREUIColor *c = [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getColorWithNSString:@"Rare.BalloonBorder.color"];
    if (c != nil) {
      return c;
    }
    return [RAREaUILineBorder getDefaultLineColor];
  }
  return lineColor_;
}

- (BOOL)isAutoLocatePeak {
  return autoLocatePeak_;
}

- (void)autoLocatePeakForProposedBoundsWithRAREiPlatformComponent:(id<RAREiPlatformComponent>)owner
                                              withRAREUIRectangle:(RAREUIRectangle *)r {
  RAREUIRectangle *ob = [((id<RAREiPlatformComponent>) nil_chk(owner)) getBounds];
  RAREaUIBalloonBorder_PeakLocationEnum *pl = peakLocation_;
  float po = peakOffset_;
  peakSize_ = origPeakSize_;
  float midx = ((RAREUIRectangle *) nil_chk(ob))->x_ + (ob->width_ / 2);
  float midy = ob->y_ + (ob->height_ / 2);
  if (((RAREUIRectangle *) nil_chk(r))->y_ >= 0) {
    if (r->x_ >= 0) {
      peakLocation_ = [RAREaUIBalloonBorder_PeakLocationEnum UL_TOP];
      peakOffset_ = [JavaLangMath maxWithInt:[RAREUIScreen snapToPositionWithFloat:midx - (r->x_ + ob->x_)] withInt:[RAREScreenUtils PLATFORM_PIXELS_2]] - (peakSize_ * 2);
    }
    else {
      peakLocation_ = [RAREaUIBalloonBorder_PeakLocationEnum UR_TOP];
      peakOffset_ = [JavaLangMath maxWithFloat:[RAREUIScreen snapToPositionWithFloat:r->x_ + r->width_ + ob->x_ - midx] - (peakSize_ * 2) withFloat:[RAREScreenUtils PLATFORM_PIXELS_2]];
    }
  }
  else if (r->y_ + r->height_ + ob->height_ <= 0) {
    if (r->x_ >= 0) {
      peakLocation_ = [RAREaUIBalloonBorder_PeakLocationEnum LL_BOTTOM];
      peakOffset_ = [JavaLangMath maxWithInt:[RAREUIScreen snapToPositionWithFloat:midx - (r->x_ + ob->x_)] withInt:[RAREScreenUtils PLATFORM_PIXELS_2]] - (peakSize_ * 2);
    }
    else {
      peakLocation_ = [RAREaUIBalloonBorder_PeakLocationEnum LR_BOTTOM];
      peakOffset_ = [JavaLangMath maxWithFloat:[RAREUIScreen snapToPositionWithFloat:r->x_ + r->width_ + ob->x_ - midx] - (peakSize_ * 2) withFloat:[RAREScreenUtils PLATFORM_PIXELS_2]];
    }
  }
  else {
    if (r->x_ >= 0) {
      peakLocation_ = [RAREaUIBalloonBorder_PeakLocationEnum LL_LEFT];
    }
    else {
      peakLocation_ = [RAREaUIBalloonBorder_PeakLocationEnum LR_RIGHT];
    }
    peakOffset_ = [JavaLangMath maxWithFloat:[RAREUIScreen snapToPositionWithFloat:r->y_ + r->height_ + ob->y_ + ob->height_ - midy] - (peakSize_ * 2) withFloat:[RAREScreenUtils PLATFORM_PIXELS_2]];
  }
  if ((pl != peakLocation_) || (po != peakOffset_)) {
    modCount_++;
  }
}

- (void)setAutoLocatePeakWithBoolean:(BOOL)autoLocatePeak {
  self->autoLocatePeak_ = autoLocatePeak;
}

- (void)copyAllFieldsTo:(RAREaUIBalloonBorder *)other {
  [super copyAllFieldsTo:other];
  other->autoLocatePeak_ = autoLocatePeak_;
  other->origPeakSize_ = origPeakSize_;
  other->peakLocation_ = peakLocation_;
  other->peakOffset_ = peakOffset_;
  other->peakSize_ = peakSize_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "clone", NULL, "LNSObject", 0x1, NULL },
    { "getBorderInsetsWithRAREUIInsets:", NULL, "LRAREUIInsets", 0x1, NULL },
    { "getPeakLocation", NULL, "LRAREaUIBalloonBorder_PeakLocationEnum", 0x1, NULL },
    { "isPaintLast", NULL, "Z", 0x1, NULL },
    { "isRectangular", NULL, "Z", 0x1, NULL },
    { "adjustForPeakWithRAREUIInsets:", NULL, "LRAREUIInsets", 0x4, NULL },
    { "createBorderPathWithRAREiPlatformPath:withFloat:withFloat:withFloat:withFloat:withFloat:withFloat:withBoolean:", NULL, "LRAREiPlatformPath", 0x4, NULL },
    { "getColor", NULL, "LRAREUIColor", 0x4, NULL },
    { "isAutoLocatePeak", NULL, "Z", 0x1, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "peakSize_", NULL, 0x4, "F" },
    { "origPeakSize_", NULL, 0x4, "F" },
    { "peakLocation_", NULL, 0x4, "LRAREaUIBalloonBorder_PeakLocationEnum" },
    { "peakOffset_", NULL, 0x4, "F" },
    { "autoLocatePeak_", NULL, 0x4, "Z" },
  };
  static J2ObjcClassInfo _RAREaUIBalloonBorder = { "aUIBalloonBorder", "com.appnativa.rare.ui.border", NULL, 0x401, 9, methods, 5, fields, 0, NULL};
  return &_RAREaUIBalloonBorder;
}

@end

static RAREaUIBalloonBorder_PeakLocationEnum *RAREaUIBalloonBorder_PeakLocationEnum_LL_BOTTOM;
static RAREaUIBalloonBorder_PeakLocationEnum *RAREaUIBalloonBorder_PeakLocationEnum_LL_LEFT;
static RAREaUIBalloonBorder_PeakLocationEnum *RAREaUIBalloonBorder_PeakLocationEnum_LR_RIGHT;
static RAREaUIBalloonBorder_PeakLocationEnum *RAREaUIBalloonBorder_PeakLocationEnum_LR_BOTTOM;
static RAREaUIBalloonBorder_PeakLocationEnum *RAREaUIBalloonBorder_PeakLocationEnum_UL_TOP;
static RAREaUIBalloonBorder_PeakLocationEnum *RAREaUIBalloonBorder_PeakLocationEnum_UL_LEFT;
static RAREaUIBalloonBorder_PeakLocationEnum *RAREaUIBalloonBorder_PeakLocationEnum_UR_TOP;
static RAREaUIBalloonBorder_PeakLocationEnum *RAREaUIBalloonBorder_PeakLocationEnum_UR_RIGHT;
IOSObjectArray *RAREaUIBalloonBorder_PeakLocationEnum_values;

@implementation RAREaUIBalloonBorder_PeakLocationEnum

+ (RAREaUIBalloonBorder_PeakLocationEnum *)LL_BOTTOM {
  return RAREaUIBalloonBorder_PeakLocationEnum_LL_BOTTOM;
}
+ (RAREaUIBalloonBorder_PeakLocationEnum *)LL_LEFT {
  return RAREaUIBalloonBorder_PeakLocationEnum_LL_LEFT;
}
+ (RAREaUIBalloonBorder_PeakLocationEnum *)LR_RIGHT {
  return RAREaUIBalloonBorder_PeakLocationEnum_LR_RIGHT;
}
+ (RAREaUIBalloonBorder_PeakLocationEnum *)LR_BOTTOM {
  return RAREaUIBalloonBorder_PeakLocationEnum_LR_BOTTOM;
}
+ (RAREaUIBalloonBorder_PeakLocationEnum *)UL_TOP {
  return RAREaUIBalloonBorder_PeakLocationEnum_UL_TOP;
}
+ (RAREaUIBalloonBorder_PeakLocationEnum *)UL_LEFT {
  return RAREaUIBalloonBorder_PeakLocationEnum_UL_LEFT;
}
+ (RAREaUIBalloonBorder_PeakLocationEnum *)UR_TOP {
  return RAREaUIBalloonBorder_PeakLocationEnum_UR_TOP;
}
+ (RAREaUIBalloonBorder_PeakLocationEnum *)UR_RIGHT {
  return RAREaUIBalloonBorder_PeakLocationEnum_UR_RIGHT;
}

- (id)copyWithZone:(NSZone *)zone {
  return self;
}

- (id)initWithNSString:(NSString *)__name withInt:(int)__ordinal {
  return [super initWithNSString:__name withInt:__ordinal];
}

+ (void)initialize {
  if (self == [RAREaUIBalloonBorder_PeakLocationEnum class]) {
    RAREaUIBalloonBorder_PeakLocationEnum_LL_BOTTOM = [[RAREaUIBalloonBorder_PeakLocationEnum alloc] initWithNSString:@"LL_BOTTOM" withInt:0];
    RAREaUIBalloonBorder_PeakLocationEnum_LL_LEFT = [[RAREaUIBalloonBorder_PeakLocationEnum alloc] initWithNSString:@"LL_LEFT" withInt:1];
    RAREaUIBalloonBorder_PeakLocationEnum_LR_RIGHT = [[RAREaUIBalloonBorder_PeakLocationEnum alloc] initWithNSString:@"LR_RIGHT" withInt:2];
    RAREaUIBalloonBorder_PeakLocationEnum_LR_BOTTOM = [[RAREaUIBalloonBorder_PeakLocationEnum alloc] initWithNSString:@"LR_BOTTOM" withInt:3];
    RAREaUIBalloonBorder_PeakLocationEnum_UL_TOP = [[RAREaUIBalloonBorder_PeakLocationEnum alloc] initWithNSString:@"UL_TOP" withInt:4];
    RAREaUIBalloonBorder_PeakLocationEnum_UL_LEFT = [[RAREaUIBalloonBorder_PeakLocationEnum alloc] initWithNSString:@"UL_LEFT" withInt:5];
    RAREaUIBalloonBorder_PeakLocationEnum_UR_TOP = [[RAREaUIBalloonBorder_PeakLocationEnum alloc] initWithNSString:@"UR_TOP" withInt:6];
    RAREaUIBalloonBorder_PeakLocationEnum_UR_RIGHT = [[RAREaUIBalloonBorder_PeakLocationEnum alloc] initWithNSString:@"UR_RIGHT" withInt:7];
    RAREaUIBalloonBorder_PeakLocationEnum_values = [[IOSObjectArray alloc] initWithObjects:(id[]){ RAREaUIBalloonBorder_PeakLocationEnum_LL_BOTTOM, RAREaUIBalloonBorder_PeakLocationEnum_LL_LEFT, RAREaUIBalloonBorder_PeakLocationEnum_LR_RIGHT, RAREaUIBalloonBorder_PeakLocationEnum_LR_BOTTOM, RAREaUIBalloonBorder_PeakLocationEnum_UL_TOP, RAREaUIBalloonBorder_PeakLocationEnum_UL_LEFT, RAREaUIBalloonBorder_PeakLocationEnum_UR_TOP, RAREaUIBalloonBorder_PeakLocationEnum_UR_RIGHT, nil } count:8 type:[IOSClass classWithClass:[RAREaUIBalloonBorder_PeakLocationEnum class]]];
  }
}

+ (IOSObjectArray *)values {
  return [IOSObjectArray arrayWithArray:RAREaUIBalloonBorder_PeakLocationEnum_values];
}

+ (RAREaUIBalloonBorder_PeakLocationEnum *)valueOfWithNSString:(NSString *)name {
  for (int i = 0; i < [RAREaUIBalloonBorder_PeakLocationEnum_values count]; i++) {
    RAREaUIBalloonBorder_PeakLocationEnum *e = RAREaUIBalloonBorder_PeakLocationEnum_values->buffer_[i];
    if ([name isEqual:[e name]]) {
      return e;
    }
  }
  @throw [[JavaLangIllegalArgumentException alloc] initWithNSString:name];
  return nil;
}

+ (J2ObjcClassInfo *)__metadata {
  static const char *superclass_type_args[] = {"LRAREaUIBalloonBorder_PeakLocationEnum"};
  static J2ObjcClassInfo _RAREaUIBalloonBorder_PeakLocationEnum = { "PeakLocation", "com.appnativa.rare.ui.border", "aUIBalloonBorder", 0x4019, 0, NULL, 0, NULL, 1, superclass_type_args};
  return &_RAREaUIBalloonBorder_PeakLocationEnum;
}

@end

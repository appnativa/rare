//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/core/com/appnativa/rare/ui/border/aUITitledBorder.java
//
//  Created by decoteaud on 9/15/15.
//

#include "IOSClass.h"
#include "com/appnativa/rare/Platform.h"
#include "com/appnativa/rare/ui/FontUtils.h"
#include "com/appnativa/rare/ui/ScreenUtils.h"
#include "com/appnativa/rare/ui/UIColor.h"
#include "com/appnativa/rare/ui/UIFont.h"
#include "com/appnativa/rare/ui/UIFontHelper.h"
#include "com/appnativa/rare/ui/UIFontMetrics.h"
#include "com/appnativa/rare/ui/UIInsets.h"
#include "com/appnativa/rare/ui/UIProperties.h"
#include "com/appnativa/rare/ui/UIRectangle.h"
#include "com/appnativa/rare/ui/border/UILineBorder.h"
#include "com/appnativa/rare/ui/border/aUITitledBorder.h"
#include "com/appnativa/rare/ui/iGraphics.h"
#include "com/appnativa/rare/ui/iPlatformBorder.h"
#include "com/appnativa/rare/ui/iPlatformGraphics.h"
#include "com/appnativa/rare/ui/iPlatformShape.h"
#include "java/lang/IllegalArgumentException.h"
#include "java/util/Locale.h"

@implementation RAREaUITitledBorder

static float RAREaUITitledBorder_EDGE_SPACING_;
static float RAREaUITitledBorder_TEXT_SPACING_;
static float RAREaUITitledBorder_TEXT_HORIZONTAL_SPACING_;
static id<RAREiPlatformBorder> RAREaUITitledBorder_defaultBorder_;

+ (int)ABOVE_BOTTOM {
  return RAREaUITitledBorder_ABOVE_BOTTOM;
}

+ (int)ABOVE_TOP {
  return RAREaUITitledBorder_ABOVE_TOP;
}

+ (int)BELOW_BOTTOM {
  return RAREaUITitledBorder_BELOW_BOTTOM;
}

+ (int)BELOW_TOP {
  return RAREaUITitledBorder_BELOW_TOP;
}

+ (int)BOTTOM {
  return RAREaUITitledBorder_BOTTOM;
}

+ (int)CENTER {
  return RAREaUITitledBorder_CENTER;
}

+ (int)DEFAULT_JUSTIFICATION {
  return RAREaUITitledBorder_DEFAULT_JUSTIFICATION;
}

+ (int)DEFAULT_POSITION {
  return RAREaUITitledBorder_DEFAULT_POSITION;
}

+ (int)LEADING {
  return RAREaUITitledBorder_LEADING;
}

+ (int)LEFT {
  return RAREaUITitledBorder_LEFT;
}

+ (int)RIGHT {
  return RAREaUITitledBorder_RIGHT;
}

+ (int)TOP {
  return RAREaUITitledBorder_TOP;
}

+ (int)TRAILING {
  return RAREaUITitledBorder_TRAILING;
}

+ (float)EDGE_SPACING {
  return RAREaUITitledBorder_EDGE_SPACING_;
}

+ (float)TEXT_SPACING {
  return RAREaUITitledBorder_TEXT_SPACING_;
}

+ (float)TEXT_HORIZONTAL_SPACING {
  return RAREaUITitledBorder_TEXT_HORIZONTAL_SPACING_;
}

+ (id<RAREiPlatformBorder>)defaultBorder {
  return RAREaUITitledBorder_defaultBorder_;
}

+ (void)setDefaultBorder:(id<RAREiPlatformBorder>)defaultBorder {
  RAREaUITitledBorder_defaultBorder_ = defaultBorder;
}

- (id)initWithRAREiPlatformBorder:(id<RAREiPlatformBorder>)border {
  return [self initRAREaUITitledBorderWithRAREiPlatformBorder:border withNSString:@"" withInt:RAREaUITitledBorder_LEADING withInt:RAREaUITitledBorder_TOP withRAREUIFont:nil withRAREUIColor:nil];
}

- (id)initWithNSString:(NSString *)title {
  return [self initRAREaUITitledBorderWithRAREiPlatformBorder:nil withNSString:title withInt:RAREaUITitledBorder_LEADING withInt:RAREaUITitledBorder_TOP withRAREUIFont:nil withRAREUIColor:nil];
}

- (id)initWithRAREiPlatformBorder:(id<RAREiPlatformBorder>)border
                     withNSString:(NSString *)title {
  return [self initRAREaUITitledBorderWithRAREiPlatformBorder:border withNSString:title withInt:RAREaUITitledBorder_LEADING withInt:RAREaUITitledBorder_TOP withRAREUIFont:nil withRAREUIColor:nil];
}

- (id)initWithRAREiPlatformBorder:(id<RAREiPlatformBorder>)border
                     withNSString:(NSString *)title
                          withInt:(int)titleJustification
                          withInt:(int)titlePosition {
  return [self initRAREaUITitledBorderWithRAREiPlatformBorder:border withNSString:title withInt:titleJustification withInt:titlePosition withRAREUIFont:nil withRAREUIColor:nil];
}

- (id)initWithRAREiPlatformBorder:(id<RAREiPlatformBorder>)border
                     withNSString:(NSString *)title
                          withInt:(int)titleJustification
                          withInt:(int)titlePosition
                   withRAREUIFont:(RAREUIFont *)titleFont {
  return [self initRAREaUITitledBorderWithRAREiPlatformBorder:border withNSString:title withInt:titleJustification withInt:titlePosition withRAREUIFont:titleFont withRAREUIColor:nil];
}

- (id)initRAREaUITitledBorderWithRAREiPlatformBorder:(id<RAREiPlatformBorder>)border
                                        withNSString:(NSString *)title
                                             withInt:(int)titleJustification
                                             withInt:(int)titlePosition
                                      withRAREUIFont:(RAREUIFont *)titleFont
                                     withRAREUIColor:(RAREUIColor *)titleColor {
  if (self = [super init]) {
    [self setTitleJustificationWithInt:titleJustification];
    [self setTitlePositionWithInt:titlePosition];
    self->title_ = title;
    [self setBorderWithRAREiPlatformBorder:border];
    [self setTitleFontWithRAREUIFont:titleFont];
    [self setTitleColorWithRAREUIColor:titleColor];
  }
  return self;
}

- (id)initWithRAREiPlatformBorder:(id<RAREiPlatformBorder>)border
                     withNSString:(NSString *)title
                          withInt:(int)titleJustification
                          withInt:(int)titlePosition
                   withRAREUIFont:(RAREUIFont *)titleFont
                  withRAREUIColor:(RAREUIColor *)titleColor {
  return [self initRAREaUITitledBorderWithRAREiPlatformBorder:border withNSString:title withInt:titleJustification withInt:titlePosition withRAREUIFont:titleFont withRAREUIColor:titleColor];
}

- (void)clipWithRAREiPlatformGraphics:(id<RAREiPlatformGraphics>)g
                            withFloat:(float)x
                            withFloat:(float)y
                            withFloat:(float)width
                            withFloat:(float)height {
  RAREUIRectangle *r = [self getInnerRectWithRAREUIRectangle:nil withFloat:x withFloat:y withFloat:width withFloat:height];
  [((id<RAREiPlatformBorder>) nil_chk([self getBorder])) clipWithRAREiPlatformGraphics:g withFloat:((RAREUIRectangle *) nil_chk(r))->x_ withFloat:r->y_ withFloat:r->width_ withFloat:r->height_];
}

- (BOOL)clipsContents {
  return [((id<RAREiPlatformBorder>) nil_chk([self getBorder])) clipsContents];
}

- (void)paintWithRAREiPlatformGraphics:(id<RAREiPlatformGraphics>)g
                             withFloat:(float)x
                             withFloat:(float)y
                             withFloat:(float)width
                             withFloat:(float)height
                           withBoolean:(BOOL)last {
  if (last != [self isPaintLast]) {
    return;
  }
  id<RAREiPlatformBorder> innerBorder = [self getBorder];
  RAREUIInsets *borderInsets = [((id<RAREiPlatformBorder>) nil_chk(innerBorder)) getBorderInsetsWithRAREUIInsets:(RAREUIInsets *) check_class_cast(nil, [RAREUIInsets class])];
  RAREUIFont *f = titleFont_;
  if (f == nil) {
    f = [RAREUIFontHelper getDefaultFont];
  }
  RAREUIFontMetrics *fm = [RAREUIFontMetrics getMetricsWithRAREUIFont:f];
  float h = [((RAREUIFontMetrics *) nil_chk(fm)) getHeight];
  float stringWidth = ((title_ == nil) ? 0 : [fm stringWidthWithNSString:title_]);
  float stringHeight = h;
  float borderTop = 0;
  float borderHeight = (int) height;
  float titleTop = 0;
  float titleLeft = 0;
  BOOL titleTallerThanBorder = NO;
  int count = [((id<RAREiPlatformGraphics>) nil_chk(g)) saveState];
  if (stringWidth > 0) {
    switch ([RAREaUITitledBorder convertLeadTrailWithInt:titleJustification_]) {
      case RAREaUITitledBorder_DEFAULT_JUSTIFICATION:
      case RAREaUITitledBorder_LEFT:
      titleLeft = RAREaUITitledBorder_EDGE_SPACING_ + RAREaUITitledBorder_TEXT_HORIZONTAL_SPACING_ + RAREaUITitledBorder_TEXT_SPACING_ + ((RAREUIInsets *) nil_chk(borderInsets))->left_;
      break;
      case RAREaUITitledBorder_CENTER:
      titleLeft = (int) ((width - stringWidth) / 2);
      break;
      case RAREaUITitledBorder_RIGHT:
      titleLeft = (int) (width - stringWidth - ((RAREUIInsets *) nil_chk(borderInsets))->right_ - RAREaUITitledBorder_TEXT_HORIZONTAL_SPACING_ - RAREaUITitledBorder_TEXT_SPACING_ - RAREaUITitledBorder_EDGE_SPACING_);
      break;
    }
    switch (titlePosition_) {
      case RAREaUITitledBorder_ABOVE_TOP:
      borderTop = stringHeight + RAREaUITitledBorder_TEXT_SPACING_ + RAREaUITitledBorder_TEXT_SPACING_;
      titleTop = RAREaUITitledBorder_TEXT_SPACING_;
      borderHeight -= borderTop;
      break;
      case RAREaUITitledBorder_DEFAULT_POSITION:
      case RAREaUITitledBorder_TOP:
      borderTop = stringHeight / 2 + RAREaUITitledBorder_TEXT_SPACING_;
      titleTop = borderTop - (stringHeight / 2) - RAREaUITitledBorder_TEXT_SPACING_;
      borderHeight -= borderTop;
      titleTallerThanBorder = (stringHeight > ((RAREUIInsets *) nil_chk(borderInsets))->top_);
      if (!titleTallerThanBorder) {
        titleTop = (borderInsets->top_ - stringHeight) / 2;
        borderTop = 0;
      }
      break;
      case RAREaUITitledBorder_BELOW_TOP:
      titleTop = ((RAREUIInsets *) nil_chk(borderInsets))->top_ + RAREaUITitledBorder_TEXT_SPACING_;
      break;
      case RAREaUITitledBorder_ABOVE_BOTTOM:
      titleTop = (int) height - ((RAREUIInsets *) nil_chk(borderInsets))->bottom_ - stringHeight - RAREaUITitledBorder_EDGE_SPACING_;
      break;
      case RAREaUITitledBorder_BOTTOM:
      titleTallerThanBorder = (stringHeight > ((RAREUIInsets *) nil_chk(borderInsets))->bottom_);
      if (!titleTallerThanBorder) {
        borderHeight = (int) height;
        titleTop = borderHeight - ((stringHeight + borderInsets->bottom_) / 2) - RAREaUITitledBorder_EDGE_SPACING_;
      }
      else {
        borderHeight -= (stringHeight / 2);
        titleTop = borderHeight - ((stringHeight + borderInsets->bottom_) / 2) - RAREaUITitledBorder_TEXT_SPACING_ - RAREaUITitledBorder_EDGE_SPACING_;
      }
      break;
      case RAREaUITitledBorder_BELOW_BOTTOM:
      titleTop = (int) height - stringHeight - RAREaUITitledBorder_TEXT_SPACING_ - RAREaUITitledBorder_EDGE_SPACING_;
      borderHeight -= stringHeight + 1;
      break;
    }
    if (titleTallerThanBorder) {
      RAREUIRectangle *r = [[RAREUIRectangle alloc] initWithFloat:x + titleLeft + RAREaUITitledBorder_EDGE_SPACING_ withFloat:y + titleTop - 1 withFloat:stringWidth + RAREaUITitledBorder_EDGE_SPACING_ withFloat:stringHeight + 2 * RAREaUITitledBorder_TEXT_SPACING_];
      [g clipRectWithFloat:r->x_ withFloat:r->y_ withFloat:r->width_ withFloat:r->height_ withRAREiGraphics_OpEnum:[RAREiGraphics_OpEnum DIFFERENCE]];
    }
  }
  [self paintIinnerBorderWithRAREiPlatformBorder:innerBorder withRAREiPlatformGraphics:g withFloat:x + RAREaUITitledBorder_EDGE_SPACING_ withFloat:y + RAREaUITitledBorder_EDGE_SPACING_ + borderTop withFloat:width - (2 * RAREaUITitledBorder_EDGE_SPACING_) withFloat:borderHeight - (2 * RAREaUITitledBorder_EDGE_SPACING_) withBoolean:[innerBorder isPaintLast]];
  [g restoreToStateWithInt:count];
  if ((title_ != nil) && ([title_ sequenceLength] > 0)) {
    [g setColorWithRAREUIColor:[self getTitleColor]];
    [g setFontWithRAREUIFont:[self getTitleFont]];
    [g drawStringWithNSString:title_ withFloat:x + titleLeft + RAREaUITitledBorder_EDGE_SPACING_ withFloat:y + titleTop + RAREaUITitledBorder_EDGE_SPACING_ withFloat:stringHeight];
  }
}

+ (int)toTitlePositionWithNSString:(NSString *)title {
  if (title == nil) {
    return RAREaUITitledBorder_DEFAULT_POSITION;
  }
  title = [((NSString *) nil_chk(title)) uppercaseStringWithJRELocale:[JavaUtilLocale ENGLISH]];
  if ([((NSString *) nil_chk(title)) isEqual:@"ABOVE_TOP"]) {
    return RAREaUITitledBorder_ABOVE_TOP;
  }
  if ([title isEqual:@"TOP"]) {
    return RAREaUITitledBorder_TOP;
  }
  if ([title isEqual:@"BELOW_TOP"]) {
    return RAREaUITitledBorder_BELOW_TOP;
  }
  if ([title isEqual:@"ABOVE_BOTTOM"]) {
    return RAREaUITitledBorder_TOP;
  }
  if ([title isEqual:@"BOTTOM"]) {
    return RAREaUITitledBorder_TOP;
  }
  if ([title isEqual:@"BELOW_BOTTOM"]) {
    return RAREaUITitledBorder_TOP;
  }
  return RAREaUITitledBorder_DEFAULT_POSITION;
}

- (void)setBorderWithRAREiPlatformBorder:(id<RAREiPlatformBorder>)border {
  self->titleBorder_ = border;
}

- (void)setTitleWithNSString:(NSString *)title {
  self->title_ = title;
}

- (void)setTitleColorWithRAREUIColor:(RAREUIColor *)color {
  titleColor_ = color;
}

- (void)setTitleFontWithRAREUIFont:(RAREUIFont *)font {
  titleFont_ = font;
}

- (void)setTitleJustificationWithInt:(int)justification {
  if ((justification < RAREaUITitledBorder_DEFAULT_JUSTIFICATION) || (RAREaUITitledBorder_TRAILING < justification)) {
    @throw [[JavaLangIllegalArgumentException alloc] init];
  }
  titleJustification_ = justification;
}

- (void)setTitleLocationWithNSString:(NSString *)loc {
  if (loc == nil) {
    return;
  }
  loc = [((NSString *) nil_chk(loc)) lowercaseStringWithJRELocale:[JavaUtilLocale ENGLISH]];
  if ([((NSString *) nil_chk(loc)) isEqual:@"auto"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_ABOVE_TOP];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_LEFT];
  }
  else if ([loc isEqual:@"frame_top_left"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_TOP];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_LEADING];
  }
  else if ([loc isEqual:@"frame_top_center"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_TOP];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_CENTER];
  }
  else if ([loc isEqual:@"frame_top_right"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_TOP];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_TRAILING];
  }
  else if ([loc isEqual:@"top_left"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_ABOVE_TOP];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_LEADING];
  }
  else if ([loc isEqual:@"top_center"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_ABOVE_TOP];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_CENTER];
  }
  else if ([loc isEqual:@"top_right"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_ABOVE_TOP];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_TRAILING];
  }
  else if ([loc isEqual:@"inside_top_left"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_BELOW_TOP];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_LEADING];
  }
  else if ([loc isEqual:@"inside_top_center"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_BELOW_TOP];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_CENTER];
  }
  else if ([loc isEqual:@"inside_top_right"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_BELOW_TOP];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_TRAILING];
  }
  else if ([loc isEqual:@"inside_bottom_left"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_ABOVE_BOTTOM];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_LEADING];
  }
  else if ([loc isEqual:@"inside_bottom_center"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_ABOVE_BOTTOM];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_CENTER];
  }
  else if ([loc isEqual:@"inside_bottom_right"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_ABOVE_BOTTOM];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_TRAILING];
  }
  else if ([loc isEqual:@"bottom_left"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_BELOW_BOTTOM];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_LEADING];
  }
  else if ([loc isEqual:@"bottom_center"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_BELOW_BOTTOM];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_CENTER];
  }
  else if ([loc isEqual:@"bottom_right"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_BELOW_BOTTOM];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_TRAILING];
  }
  else if ([loc isEqual:@"frame_bottom_left"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_BOTTOM];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_LEADING];
  }
  else if ([loc isEqual:@"frame_bottom_center"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_BOTTOM];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_CENTER];
  }
  else if ([loc isEqual:@"frame_bottom_right"]) {
    [self setTitlePositionWithInt:RAREaUITitledBorder_BOTTOM];
    [self setTitleJustificationWithInt:RAREaUITitledBorder_TRAILING];
  }
}

- (void)setTitlePositionWithInt:(int)pos {
  if ((pos < RAREaUITitledBorder_DEFAULT_POSITION) || (RAREaUITitledBorder_BELOW_BOTTOM < pos)) {
    @throw [[JavaLangIllegalArgumentException alloc] init];
  }
  titlePosition_ = pos;
}

- (id<RAREiPlatformBorder>)getBorder {
  return (titleBorder_ != nil) ? titleBorder_ : [self getDefaultBorder];
}

- (RAREUIInsets *)getBorderInsetsWithRAREUIInsets:(RAREUIInsets *)insets {
  float spacing = RAREaUITitledBorder_EDGE_SPACING_;
  float tspacing = RAREaUITitledBorder_TEXT_SPACING_ * 2;
  if (insets == nil) {
    insets = [[RAREUIInsets alloc] initWithDouble:spacing withDouble:spacing withDouble:spacing withDouble:spacing];
  }
  else {
    (void) [insets setWithDouble:spacing withDouble:spacing withDouble:spacing withDouble:spacing];
  }
  RAREUIInsets *insideInsets = [((id<RAREiPlatformBorder>) nil_chk([self getBorder])) getBorderInsetsWithRAREUIInsets:(RAREUIInsets *) check_class_cast(nil, [RAREUIInsets class])];
  (void) [((RAREUIInsets *) nil_chk(insets)) addInsetsWithRAREUIInsets:insideInsets];
  if ((title_ != nil) && ([title_ sequenceLength] > 0)) {
    RAREUIFont *f = titleFont_;
    if (f == nil) {
      f = [RAREUIFontHelper getDefaultFont];
    }
    RAREUIFontMetrics *fm = [RAREUIFontMetrics getMetricsWithRAREUIFont:f];
    int h = (int) [((RAREUIFontMetrics *) nil_chk(fm)) getHeight];
    switch (titlePosition_) {
      case RAREaUITitledBorder_ABOVE_TOP:
      insets->top_ += h;
      insets->top_ += tspacing;
      break;
      case RAREaUITitledBorder_TOP:
      case RAREaUITitledBorder_DEFAULT_POSITION:
      if (h > insets->bottom_) {
        insets->top_ += (h / 2);
        insets->top_ += tspacing + tspacing;
      }
      break;
      case RAREaUITitledBorder_BELOW_TOP:
      insets->top_ += h;
      insets->top_ += tspacing;
      break;
      case RAREaUITitledBorder_ABOVE_BOTTOM:
      insets->bottom_ += h;
      insets->bottom_ += tspacing;
      break;
      case RAREaUITitledBorder_BOTTOM:
      if (h > insets->bottom_) {
        insets->bottom_ += (h / 2);
        insets->bottom_ += tspacing;
      }
      break;
      case RAREaUITitledBorder_BELOW_BOTTOM:
      insets->bottom_ += h;
      insets->bottom_ += tspacing;
      break;
    }
  }
  return insets;
}

- (id<RAREiPlatformShape>)getShapeWithRAREiPlatformGraphics:(id<RAREiPlatformGraphics>)g
                                                  withFloat:(float)x
                                                  withFloat:(float)y
                                                  withFloat:(float)width
                                                  withFloat:(float)height {
  RAREUIRectangle *r = [self getInnerRectWithRAREUIRectangle:nil withFloat:x withFloat:y withFloat:width withFloat:height];
  return [((id<RAREiPlatformBorder>) nil_chk([self getBorder])) getShapeWithRAREiPlatformGraphics:g withFloat:((RAREUIRectangle *) nil_chk(r))->x_ withFloat:r->y_ withFloat:r->width_ withFloat:r->height_];
}

- (NSString *)getTitle {
  return title_;
}

- (RAREUIColor *)getTitleColor {
  return (titleColor_ != nil) ? titleColor_ : [RAREaUITitledBorder getDefaultTitleColor];
}

- (RAREUIFont *)getTitleFont {
  return (titleFont_ != nil) ? titleFont_ : [RAREaUITitledBorder getDefaultTitleFont];
}

- (int)getTitleJustification {
  return titleJustification_;
}

- (int)getTitlePosition {
  return titlePosition_;
}

- (BOOL)isBorderOpaque {
  return NO;
}

- (BOOL)isPaintLast {
  return [((id<RAREiPlatformBorder>) nil_chk([self getBorder])) isPaintLast] ? YES : NO;
}

- (BOOL)isRectangular {
  return [((id<RAREiPlatformBorder>) nil_chk([self getBorder])) isRectangular];
}

+ (int)convertLeadTrailWithInt:(int)pos {
  BOOL isLTR = YES;
  if (pos == RAREaUITitledBorder_LEADING) {
    return isLTR ? RAREaUITitledBorder_LEFT : RAREaUITitledBorder_RIGHT;
  }
  if (pos == RAREaUITitledBorder_TRAILING) {
    return isLTR ? RAREaUITitledBorder_RIGHT : RAREaUITitledBorder_LEFT;
  }
  return pos;
}

- (void)paintIinnerBorderWithRAREiPlatformBorder:(id<RAREiPlatformBorder>)b
                       withRAREiPlatformGraphics:(id<RAREiPlatformGraphics>)g
                                       withFloat:(float)x
                                       withFloat:(float)y
                                       withFloat:(float)width
                                       withFloat:(float)height
                                     withBoolean:(BOOL)end {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
}

- (id<RAREiPlatformBorder>)getDefaultBorder {
  id<RAREiPlatformBorder> b = [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getBorderWithNSString:@"Rare.TitledBorder.border"];
  if (b == nil) {
    b = RAREaUITitledBorder_defaultBorder_;
  }
  return b;
}

+ (RAREUIColor *)getDefaultTitleColor {
  RAREUIColor *c = [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getColorWithNSString:@"Rare.TitledBorder.titleColor"];
  if (c == nil) {
    c = [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getColorWithNSString:@"Rare.foreground"];
  }
  return c;
}

+ (RAREUIFont *)getDefaultTitleFont {
  RAREUIFont *f = [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getFontWithNSString:@"Rare.TitledBorder.font"];
  if (f == nil) {
    f = [RAREFontUtils getDefaultFont];
  }
  return f;
}

- (RAREUIRectangle *)getInnerRectWithRAREUIRectangle:(RAREUIRectangle *)r
                                           withFloat:(float)x
                                           withFloat:(float)y
                                           withFloat:(float)width
                                           withFloat:(float)height {
  if (r == nil) {
    r = [[RAREUIRectangle alloc] init];
  }
  id<RAREiPlatformBorder> innerBorder = [self getBorder];
  RAREUIInsets *borderInsets = [((id<RAREiPlatformBorder>) nil_chk(innerBorder)) getBorderInsetsWithRAREUIInsets:(RAREUIInsets *) check_class_cast(nil, [RAREUIInsets class])];
  if ((title_ != nil) && ([title_ sequenceLength] > 0)) {
    RAREUIFont *f = titleFont_;
    if (f == nil) {
      f = [RAREUIFontHelper getDefaultFont];
    }
    RAREUIFontMetrics *fm = [RAREUIFontMetrics getMetricsWithRAREUIFont:f];
    float h = [((RAREUIFontMetrics *) nil_chk(fm)) getHeight];
    float stringHeight = h;
    float borderTop = 0;
    float borderHeight = (int) height;
    BOOL titleTallerThanBorder = NO;
    switch (titlePosition_) {
      case RAREaUITitledBorder_ABOVE_TOP:
      borderTop = stringHeight + RAREaUITitledBorder_TEXT_SPACING_ + RAREaUITitledBorder_TEXT_SPACING_;
      borderHeight -= borderTop;
      break;
      case RAREaUITitledBorder_DEFAULT_POSITION:
      case RAREaUITitledBorder_TOP:
      borderTop = stringHeight / 2 + RAREaUITitledBorder_TEXT_SPACING_;
      borderHeight -= borderTop;
      titleTallerThanBorder = (stringHeight > ((RAREUIInsets *) nil_chk(borderInsets))->top_);
      if (!titleTallerThanBorder) {
        borderTop = 0;
      }
      break;
      case RAREaUITitledBorder_BELOW_TOP:
      break;
      case RAREaUITitledBorder_BOTTOM:
      titleTallerThanBorder = (stringHeight > ((RAREUIInsets *) nil_chk(borderInsets))->bottom_);
      if (!titleTallerThanBorder) {
        borderHeight = (int) height;
      }
      else {
        borderHeight -= (stringHeight / 2);
      }
      break;
      case RAREaUITitledBorder_BELOW_BOTTOM:
      borderHeight -= stringHeight + 1;
      break;
    }
    [((RAREUIRectangle *) nil_chk(r)) setBoundsWithFloat:x + RAREaUITitledBorder_EDGE_SPACING_ withFloat:y + RAREaUITitledBorder_EDGE_SPACING_ + borderTop withFloat:width - (2 * RAREaUITitledBorder_EDGE_SPACING_) withFloat:borderHeight - (2 * RAREaUITitledBorder_EDGE_SPACING_)];
  }
  else {
    [((RAREUIRectangle *) nil_chk(r)) setBoundsWithFloat:x withFloat:y withFloat:width withFloat:height];
  }
  return r;
}

+ (void)initialize {
  if (self == [RAREaUITitledBorder class]) {
    RAREaUITitledBorder_EDGE_SPACING_ = [RAREScreenUtils PLATFORM_PIXELS_2];
    RAREaUITitledBorder_TEXT_SPACING_ = [RAREScreenUtils PLATFORM_PIXELS_2];
    RAREaUITitledBorder_TEXT_HORIZONTAL_SPACING_ = [RAREScreenUtils PLATFORM_PIXELS_4];
    RAREaUITitledBorder_defaultBorder_ = [[RAREUILineBorder alloc] initWithRAREUIColor:[RAREaUILineBorder getDefaultLineColor] withFloat:[RAREScreenUtils PLATFORM_PIXELS_1] withBoolean:YES];
  }
}

- (void)copyAllFieldsTo:(RAREaUITitledBorder *)other {
  [super copyAllFieldsTo:other];
  other->title_ = title_;
  other->titleBorder_ = titleBorder_;
  other->titleColor_ = titleColor_;
  other->titleFont_ = titleFont_;
  other->titleJustification_ = titleJustification_;
  other->titlePosition_ = titlePosition_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "clipsContents", NULL, "Z", 0x1, NULL },
    { "getBorder", NULL, "LRAREiPlatformBorder", 0x1, NULL },
    { "getBorderInsetsWithRAREUIInsets:", NULL, "LRAREUIInsets", 0x1, NULL },
    { "getShapeWithRAREiPlatformGraphics:withFloat:withFloat:withFloat:withFloat:", NULL, "LRAREiPlatformShape", 0x1, NULL },
    { "getTitle", NULL, "LNSString", 0x1, NULL },
    { "getTitleColor", NULL, "LRAREUIColor", 0x1, NULL },
    { "getTitleFont", NULL, "LRAREUIFont", 0x1, NULL },
    { "isBorderOpaque", NULL, "Z", 0x1, NULL },
    { "isPaintLast", NULL, "Z", 0x1, NULL },
    { "isRectangular", NULL, "Z", 0x1, NULL },
    { "convertLeadTrailWithInt:", NULL, "I", 0xc, NULL },
    { "paintIinnerBorderWithRAREiPlatformBorder:withRAREiPlatformGraphics:withFloat:withFloat:withFloat:withFloat:withBoolean:", NULL, "V", 0x404, NULL },
    { "getDefaultBorder", NULL, "LRAREiPlatformBorder", 0x4, NULL },
    { "getDefaultTitleColor", NULL, "LRAREUIColor", 0xc, NULL },
    { "getDefaultTitleFont", NULL, "LRAREUIFont", 0xc, NULL },
    { "getInnerRectWithRAREUIRectangle:withFloat:withFloat:withFloat:withFloat:", NULL, "LRAREUIRectangle", 0x4, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "ABOVE_BOTTOM_", NULL, 0x19, "I" },
    { "ABOVE_TOP_", NULL, 0x19, "I" },
    { "BELOW_BOTTOM_", NULL, 0x19, "I" },
    { "BELOW_TOP_", NULL, 0x19, "I" },
    { "BOTTOM_", NULL, 0x19, "I" },
    { "CENTER_", NULL, 0x19, "I" },
    { "DEFAULT_JUSTIFICATION_", NULL, 0x19, "I" },
    { "DEFAULT_POSITION_", NULL, 0x19, "I" },
    { "LEADING_", NULL, 0x19, "I" },
    { "LEFT_", NULL, 0x19, "I" },
    { "RIGHT_", NULL, 0x19, "I" },
    { "TOP_", NULL, 0x19, "I" },
    { "TRAILING_", NULL, 0x19, "I" },
    { "EDGE_SPACING_", NULL, 0x1c, "F" },
    { "TEXT_SPACING_", NULL, 0x1c, "F" },
    { "TEXT_HORIZONTAL_SPACING_", NULL, 0x1c, "F" },
    { "defaultBorder_", NULL, 0xa, "LRAREiPlatformBorder" },
    { "title_", NULL, 0x4, "LNSString" },
    { "titleBorder_", NULL, 0x4, "LRAREiPlatformBorder" },
    { "titleColor_", NULL, 0x4, "LRAREUIColor" },
    { "titleFont_", NULL, 0x4, "LRAREUIFont" },
    { "titleJustification_", NULL, 0x4, "I" },
    { "titlePosition_", NULL, 0x4, "I" },
  };
  static J2ObjcClassInfo _RAREaUITitledBorder = { "aUITitledBorder", "com.appnativa.rare.ui.border", NULL, 0x401, 16, methods, 23, fields, 0, NULL};
  return &_RAREaUITitledBorder;
}

@end

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/core/com/appnativa/rare/aWorkerTask.java
//
//  Created by decoteaud on 3/11/16.
//

#include "com/appnativa/rare/Platform.h"
#include "com/appnativa/rare/aWorkerTask.h"
#include "com/appnativa/rare/iFunctionCallback.h"
#include "com/appnativa/rare/viewer/WindowViewer.h"
#include "com/appnativa/rare/widget/iWidget.h"
#include "java/lang/CharSequence.h"

@implementation RAREaWorkerTask

- (id)init {
  return [self initRAREaWorkerTaskWithRAREiWidget:nil withRAREiWidget:(id<RAREiWidget>) check_protocol_cast(nil, @protocol(RAREiWidget))];
}

- (id)initWithRAREiWidget:(id<RAREiWidget>)contextWidget {
  return [self initRAREaWorkerTaskWithRAREiWidget:contextWidget withRAREiWidget:(id<RAREiWidget>) check_protocol_cast(nil, @protocol(RAREiWidget))];
}

- (id)initRAREaWorkerTaskWithRAREiWidget:(id<RAREiWidget>)contextWidget
                         withRAREiWidget:(id<RAREiWidget>)updateWidget {
  if (self = [super init]) {
    self->contextWidget_ = contextWidget;
    self->updateWidget_ = updateWidget;
    if (contextWidget != nil) {
      window_ = [RAREPlatform getWindowViewerWithRAREiWidget:contextWidget];
      contextWidgetSet_ = YES;
    }
    else {
      window_ = [RAREPlatform getWindowViewer];
    }
  }
  return self;
}

- (id)initWithRAREiWidget:(id<RAREiWidget>)contextWidget
          withRAREiWidget:(id<RAREiWidget>)updateWidget {
  return [self initRAREaWorkerTaskWithRAREiWidget:contextWidget withRAREiWidget:updateWidget];
}

- (id)initWithRAREiWidget:(id<RAREiWidget>)contextWidget
withRAREiFunctionCallback:(id<RAREiFunctionCallback>)callback {
  if (self = [self initRAREaWorkerTaskWithRAREiWidget:contextWidget withRAREiWidget:(id<RAREiWidget>) check_protocol_cast(nil, @protocol(RAREiWidget))]) {
    self->callback_ = callback;
  }
  return self;
}

- (void)cancelWithBoolean:(BOOL)canInterrupt {
  canceled_ = YES;
}

- (void)hideProgressPopup {
  if (window_ == nil) {
    window_ = [RAREPlatform getWindowViewer];
  }
  if (window_ != nil) {
    [window_ hideProgressPopup];
  }
}

- (void)hideWaitCursor {
  if (window_ == nil) {
    window_ = [RAREPlatform getWindowViewer];
  }
  if (window_ != nil) {
    [window_ hideWaitCursor];
  }
}

- (void)showProgressPopupWithJavaLangCharSequence:(id<JavaLangCharSequence>)message {
  if (window_ == nil) {
    window_ = [RAREPlatform getWindowViewer];
  }
  if (window_ != nil) {
    [window_ showProgressPopupWithJavaLangCharSequence:message];
  }
}

- (void)showWaitCursor {
  if (window_ == nil) {
    window_ = [RAREPlatform getWindowViewer];
  }
  if (window_ != nil) {
    [window_ showWaitCursor];
  }
}

- (BOOL)isCanceled {
  return canceled_;
}

- (BOOL)isContextAndWindowValid {
  if (contextWidget_ != nil) {
    return (window_ != nil) && ![contextWidget_ isDisposed];
  }
  return (window_ != nil) && !contextWidgetSet_;
}

- (BOOL)isContextValid {
  if (contextWidget_ != nil) {
    return ![contextWidget_ isDisposed];
  }
  return !contextWidgetSet_;
}

- (BOOL)isDone {
  return done_;
}

- (id)compute {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

- (void)finishWithId:(id)param0 {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
}

- (void)copyAllFieldsTo:(RAREaWorkerTask *)other {
  [super copyAllFieldsTo:other];
  other->callback_ = callback_;
  other->canceled_ = canceled_;
  other->contextWidget_ = contextWidget_;
  other->contextWidgetSet_ = contextWidgetSet_;
  other->done_ = done_;
  other->updateWidget_ = updateWidget_;
  other->window_ = window_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "isCanceled", NULL, "Z", 0x1, NULL },
    { "isContextAndWindowValid", NULL, "Z", 0x1, NULL },
    { "isContextValid", NULL, "Z", 0x1, NULL },
    { "isDone", NULL, "Z", 0x1, NULL },
    { "compute", NULL, "LNSObject", 0x401, NULL },
    { "finishWithId:", NULL, "V", 0x401, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "canceled_", NULL, 0x44, "Z" },
    { "contextWidget_", NULL, 0x4, "LRAREiWidget" },
    { "done_", NULL, 0x44, "Z" },
    { "updateWidget_", NULL, 0x4, "LRAREiWidget" },
    { "window_", NULL, 0x4, "LRAREWindowViewer" },
    { "callback_", NULL, 0x4, "LRAREiFunctionCallback" },
  };
  static J2ObjcClassInfo _RAREaWorkerTask = { "aWorkerTask", "com.appnativa.rare", NULL, 0x401, 6, methods, 6, fields, 0, NULL};
  return &_RAREaWorkerTask;
}

@end

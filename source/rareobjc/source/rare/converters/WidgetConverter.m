//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/core/com/appnativa/rare/converters/WidgetConverter.java
//
//  Created by decoteaud on 3/11/16.
//

#include "IOSClass.h"
#include "com/appnativa/rare/Platform.h"
#include "com/appnativa/rare/converters/WidgetConverter.h"
#include "com/appnativa/rare/converters/WidgetConverterContext.h"
#include "com/appnativa/rare/exception/ApplicationException.h"
#include "com/appnativa/rare/spot/Widget.h"
#include "com/appnativa/rare/util/DataParser.h"
#include "com/appnativa/rare/viewer/aContainer.h"
#include "com/appnativa/rare/viewer/iContainer.h"
#include "com/appnativa/rare/viewer/iViewer.h"
#include "com/appnativa/rare/widget/iWidget.h"
#include "com/appnativa/spot/iSPOTElement.h"
#include "java/io/Reader.h"
#include "java/io/StringReader.h"
#include "java/lang/Exception.h"
#include "java/lang/RuntimeException.h"

@implementation RAREWidgetConverter

- (id)init {
  return [super init];
}

- (id)objectFromStringWithRAREiWidget:(id<RAREiWidget>)widget
                         withNSString:(NSString *)value
                               withId:(id)context {
  JavaIoReader *stream = [[JavaIoStringReader alloc] initWithNSString:value];
  RAREWidgetConverterContext *ctx = nil;
  if ([context isKindOfClass:[RAREWidgetConverterContext class]]) {
    ctx = (RAREWidgetConverterContext *) check_class_cast(context, [RAREWidgetConverterContext class]);
  }
  if (ctx == nil) {
    if (widget == nil) {
      widget = [RAREPlatform getContextRootViewer];
    }
  }
  RARESPOTWidget *wc;
  @try {
    wc = (RARESPOTWidget *) check_class_cast([RAREDataParser loadSPOTObjectSDFWithRAREiWidget:widget withJavaIoReader:stream withISPOTElement:nil withNSString:nil withJavaNetURL:nil], [RARESPOTWidget class]);
  }
  @catch (JavaLangException *ex) {
    if ([ex isKindOfClass:[JavaLangRuntimeException class]]) {
      @throw (JavaLangRuntimeException *) check_class_cast(ex, [JavaLangRuntimeException class]);
    }
    else {
      @throw [[RAREApplicationException alloc] initWithJavaLangThrowable:ex];
    }
  }
  return [RAREaContainer createWidgetWithRAREiContainer:[((id<RAREiWidget>) nil_chk(widget)) getContainerViewer] withRARESPOTWidget:wc];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "objectFromStringWithRAREiWidget:withNSString:withId:", NULL, "LNSObject", 0x1, NULL },
  };
  static J2ObjcClassInfo _RAREWidgetConverter = { "WidgetConverter", "com.appnativa.rare.converters", NULL, 0x1, 1, methods, 0, NULL, 0, NULL};
  return &_RAREWidgetConverter;
}

@end

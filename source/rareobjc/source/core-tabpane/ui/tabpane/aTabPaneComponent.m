//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/core-tabpane/com/appnativa/rare/ui/tabpane/aTabPaneComponent.java
//
//  Created by decoteaud on 3/11/16.
//

#include "IOSClass.h"
#include "com/appnativa/rare/Platform.h"
#include "com/appnativa/rare/iConstants.h"
#include "com/appnativa/rare/platform/PlatformHelper.h"
#include "com/appnativa/rare/ui/BorderPanel.h"
#include "com/appnativa/rare/ui/Location.h"
#include "com/appnativa/rare/ui/RenderType.h"
#include "com/appnativa/rare/ui/RenderableDataItem.h"
#include "com/appnativa/rare/ui/UIAction.h"
#include "com/appnativa/rare/ui/UIDimension.h"
#include "com/appnativa/rare/ui/UIFont.h"
#include "com/appnativa/rare/ui/UIInsets.h"
#include "com/appnativa/rare/ui/UIRectangle.h"
#include "com/appnativa/rare/ui/XPContainer.h"
#include "com/appnativa/rare/ui/aComponent.h"
#include "com/appnativa/rare/ui/effects/aAnimator.h"
#include "com/appnativa/rare/ui/effects/aSizeAnimation.h"
#include "com/appnativa/rare/ui/effects/aTransitionAnimator.h"
#include "com/appnativa/rare/ui/effects/iPlatformAnimator.h"
#include "com/appnativa/rare/ui/effects/iTransitionAnimator.h"
#include "com/appnativa/rare/ui/event/ActionEvent.h"
#include "com/appnativa/rare/ui/event/EventListenerList.h"
#include "com/appnativa/rare/ui/event/iActionListener.h"
#include "com/appnativa/rare/ui/iParentComponent.h"
#include "com/appnativa/rare/ui/iPlatformComponent.h"
#include "com/appnativa/rare/ui/iPlatformIcon.h"
#include "com/appnativa/rare/ui/iTabDocument.h"
#include "com/appnativa/rare/ui/layout/BorderLayout.h"
#include "com/appnativa/rare/ui/listener/iTabPaneListener.h"
#include "com/appnativa/rare/ui/painter/PaintBucket.h"
#include "com/appnativa/rare/ui/tabpane/BasicTabPainter.h"
#include "com/appnativa/rare/ui/tabpane/BoxStackedTabPainter.h"
#include "com/appnativa/rare/ui/tabpane/BoxTabPainter.h"
#include "com/appnativa/rare/ui/tabpane/ChromeTabPainter.h"
#include "com/appnativa/rare/ui/tabpane/Office2003TabPainter.h"
#include "com/appnativa/rare/ui/tabpane/TabDocument.h"
#include "com/appnativa/rare/ui/tabpane/aTabPainter.h"
#include "com/appnativa/rare/ui/tabpane/aTabPaneComponent.h"
#include "com/appnativa/rare/ui/tabpane/aTabPaneLayout.h"
#include "com/appnativa/rare/ui/tabpane/aTabStripComponent.h"
#include "com/appnativa/rare/viewer/TabPaneViewer.h"
#include "com/appnativa/rare/viewer/iTabPaneViewer.h"
#include "com/appnativa/rare/viewer/iViewer.h"
#include "com/appnativa/rare/widget/iWidget.h"
#include "java/lang/Boolean.h"
#include "java/lang/CharSequence.h"
#include "java/lang/Exception.h"

@implementation RAREaTabPaneComponent

- (id)init {
  if (self = [super init]) {
    changeIndex_ = -1;
    newTabPosition_ = -1;
    selectedIndex_ = -1;
  }
  return self;
}

- (id)initWithRAREiWidget:(id<RAREiWidget>)context {
  if (self = [super initWithRAREiWidget:context]) {
    changeIndex_ = -1;
    newTabPosition_ = -1;
    selectedIndex_ = -1;
  }
  return self;
}

- (id)initWithId:(id)view {
  if (self = [super initWithId:view]) {
    changeIndex_ = -1;
    newTabPosition_ = -1;
    selectedIndex_ = -1;
  }
  return self;
}

- (long long int)getReloadTimeout {
  return reloadTimeout_;
}

- (void)setReloadTimeoutWithLong:(long long int)reloadTimeout {
  self->reloadTimeout_ = reloadTimeout;
  int len = [self getTabCount];
  for (int i = 0; i < len; i++) {
    [((id<RAREiTabDocument>) nil_chk([self getDocumentAtWithInt:i])) setReloadTimeoutWithLong:reloadTimeout];
  }
}

- (int)addTabWithRAREiTabDocument:(id<RAREiTabDocument>)doc {
  RAREUIAction *a = [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) addTabWithNSString:[((id<RAREiTabDocument>) nil_chk(doc)) getTabName] withNSString:[doc getTitle] withRAREiPlatformIcon:[doc getIcon]];
  [((RAREUIAction *) nil_chk(a)) setLinkedDataWithId:doc];
  [a setActionListenerWithRAREiActionListener:tabAction_];
  [a setSelectedIconWithRAREiPlatformIcon:[doc getAlternateIcon]];
  if (listenerList_ != nil) {
    [RARETabDocument fireTabOpenedWithRAREiTabDocument:doc withRAREEventListenerList:listenerList_];
  }
  return [tabsLayout_ getTabCount] - 1;
}

- (void)addTabPaneListenerWithRAREiTabPaneListener:(id<RAREiTabPaneListener>)l {
  [((RAREEventListenerList *) nil_chk([self getEventListenerList])) addWithIOSClass:[IOSClass classWithProtocol:@protocol(RAREiTabPaneListener)] withId:l];
}

- (void)beginTabsUpdate {
  [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setUpdatingWithBoolean:YES];
}

- (void)canChangeWithRAREiWidget:(id<RAREiWidget>)context
            withRAREiTabDocument:(id<RAREiTabDocument>)doc {
  int pos = changeIndex_;
  changeIndex_ = -1;
  if (pos > -1) {
    [self setSelectedIndexExWithInt:pos];
  }
}

- (void)checkOrientationWithId:(id)newConfig {
  if ([((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) checkOrientationWithId:newConfig]) {
    [self revalidate];
  }
}

- (void)closeAll {
  closingAll_ = YES;
  @try {
    [self closeAllButWithInt:-1];
  }
  @finally {
    closingAll_ = NO;
  }
}

- (void)closeAllButWithInt:(int)pos {
  int len = [self getTabCount];
  for (int i = len - 1; i >= 0; i--) {
    if (i != pos) {
      [self closeTabWithInt:i];
    }
  }
}

- (void)closeTabWithInt:(int)pos {
  RAREUIAction *a = [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) closeTabWithInt:pos];
  if (a != nil) {
    if ([a getLinkedData] != nil) {
      RARETabDocument *doc = (RARETabDocument *) check_class_cast([a getLinkedData], [RARETabDocument class]);
      [((RARETabDocument *) nil_chk(doc)) tabClosed];
      if (listenerList_ != nil) {
        [RARETabDocument fireTabClosedWithRAREiTabDocument:doc withRAREEventListenerList:listenerList_];
      }
      [doc dispose];
    }
    [a dispose];
  }
}

- (void)dispose {
  if (tabsLayout_ != nil) {
    [tabsLayout_ dispose];
  }
  [super dispose];
  tabsLayout_ = nil;
  tabAction_ = nil;
  selectedTabPainter_ = nil;
  normalTabPainter_ = nil;
  if ((transitionAnimator_ != nil) && [transitionAnimator_ isAutoDispose]) {
    [transitionAnimator_ dispose];
  }
  transitionAnimator_ = nil;
}

- (void)documentChangedWithRAREiTabDocument:(id<RAREiTabDocument>)doc {
  int pos = [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) indexOfLinkedDataWithId:doc];
  if (pos == -1) {
    return;
  }
  RAREUIAction *a = [tabsLayout_ getTabWithInt:pos];
  [((RAREUIAction *) nil_chk(a)) setIconWithRAREiPlatformIcon:[((id<RAREiTabDocument>) nil_chk(doc)) getIcon]];
  [a setDisabledIconWithRAREiPlatformIcon:[doc getDisabledIcon]];
  [a setActionTextWithJavaLangCharSequence:[doc getTitle]];
  [a setActionNameWithNSString:[doc getTabName]];
  [self revalidate];
}

- (void)endTabsUpdate {
  [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setUpdatingWithBoolean:NO];
}

- (void)errorHappenedWithRAREiWidget:(id<RAREiWidget>)context
                withRAREiTabDocument:(id<RAREiTabDocument>)doc
               withJavaLangException:(JavaLangException *)e {
  changeIndex_ = -1;
  [((id<RAREiWidget>) nil_chk(context)) handleExceptionWithJavaLangThrowable:e];
}

- (int)indexOfDocumentWithRAREiTabDocument:(id<RAREiTabDocument>)doc {
  return [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) indexOfLinkedDataWithId:doc];
}

- (int)indexOfTabWithRAREiPlatformIcon:(id<RAREiPlatformIcon>)icon {
  id<RAREiTabDocument> doc;
  int len = [self getTabCount];
  for (int i = 0; i < len; i++) {
    doc = [self getDocumentAtWithInt:i];
    if (([((id<RAREiTabDocument>) nil_chk(doc)) getIcon] == icon) || ([doc getDisabledIcon] == icon)) {
      return i;
    }
  }
  return -1;
}

- (int)indexOfTabWithNSString:(NSString *)title {
  id<RAREiTabDocument> doc;
  int len = [self getTabCount];
  for (int i = 0; i < len; i++) {
    doc = [self getDocumentAtWithInt:i];
    if ([((NSString *) nil_chk(title)) isEqual:[((id<RAREiTabDocument>) nil_chk(doc)) getTitle]]) {
      return i;
    }
  }
  return -1;
}

- (void)removeTabPaneListenerWithRAREiTabPaneListener:(id<RAREiTabPaneListener>)l {
  if (listenerList_ != nil) {
    [listenerList_ removeWithIOSClass:[IOSClass classWithProtocol:@protocol(RAREiTabPaneListener)] withId:l];
  }
}

- (void)viewerRemovedWithRAREiViewer:(id<RAREiViewer>)v {
}

- (void)viewerSetWithRAREiViewer:(id<RAREiViewer>)v {
  [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) invalidatePainter];
}

- (void)setBoldSelectedTabWithBoolean:(BOOL)bold {
  [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setBoldSelectedTabWithBoolean:bold];
}

- (void)setBottomButtonCountWithInt:(int)tabCount {
}

- (void)setEnabledAtWithInt:(int)pos
                withBoolean:(BOOL)enable {
  RAREUIAction *a = [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) getTabWithInt:pos];
  [((RAREUIAction *) nil_chk(a)) setEnabledWithBoolean:enable];
}

- (void)setFontWithRAREUIFont:(RAREUIFont *)f {
  [super setFontWithRAREUIFont:f];
  [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setFontWithRAREUIFont:f];
}

- (void)setIconAtWithInt:(int)pos
   withRAREiPlatformIcon:(id<RAREiPlatformIcon>)icon {
  RAREUIAction *a = [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) getTabWithInt:pos];
  RARETabDocument *doc = (RARETabDocument *) check_class_cast([((RAREUIAction *) nil_chk(a)) getLinkedData], [RARETabDocument class]);
  [a setIconWithRAREiPlatformIcon:icon];
  [((RARETabDocument *) nil_chk(doc)) setIconExWithRAREiPlatformIcon:icon];
}

- (void)setMoreTabsIconWithRAREiPlatformIcon:(id<RAREiPlatformIcon>)moreIcon {
  self->moreIcon_ = moreIcon;
  if (tabsLayout_ != nil) {
    [tabsLayout_ setMoreIconWithRAREiPlatformIcon:moreIcon];
  }
}

- (void)setSelectedIndexWithInt:(int)index {
  if (closingAll_) {
    return;
  }
  int count = [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) getTabCount];
  if (index >= count) {
    [RAREPlatform debugLogWithNSString:[NSString stringWithFormat:@"tab index out of bounds: %d>=%d", index, count]];
    return;
  }
  if (selectedIndex_ != index) {
    [self tabWillChangeWithInt:index];
  }
}

- (void)setSelectedPainterWithRAREPaintBucket:(RAREPaintBucket *)pb {
  selectedTabPainter_ = pb;
  [((RAREaTabPainter *) nil_chk([((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) getTabPainter])) setSelectedPaintWithRAREPaintBucket:pb];
  [self revalidate];
}

- (void)setShowCloseButtonWithBoolean:(BOOL)b {
}

- (void)setShowCloseButtonOnTabWithBoolean:(BOOL)b {
}

- (void)setShowIconsOnTabWithBoolean:(BOOL)show {
  [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setShowIconsOnTabWithBoolean:show];
}

- (void)setTabAreaMarginWithRAREUIInsets:(RAREUIInsets *)margin {
  [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setTabAreaMarginWithRAREUIInsets:margin];
}

- (void)setTabAreaPainterWithRAREPaintBucket:(RAREPaintBucket *)pb {
  [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setTabAreaPainterWithRAREPaintBucket:pb];
}

- (void)setTabLeadingComponentWithRAREiPlatformComponent:(id<RAREiPlatformComponent>)c {
  [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setTabLeadingViewWithRAREiPlatformComponent:c];
}

- (void)setTabMinHeightWithInt:(int)height {
  [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setTabMinHeightWithInt:height];
}

- (void)setTabMinWidthWithInt:(int)width {
  [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setTabMinWidthWithInt:width];
}

- (void)setTabPainterWithRAREPaintBucket:(RAREPaintBucket *)pb {
  normalTabPainter_ = pb;
  [((RAREaTabPainter *) nil_chk([((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) getTabPainter])) setNormalPaintWithRAREPaintBucket:pb];
  [self revalidate];
}

- (void)setTabPlacementWithRARELocationEnum:(RARELocationEnum *)location {
  [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setTabPlacementWithRARELocationEnum:location];
}

- (void)setTabShapeWithRAREiTabPaneViewer_ShapeEnum:(RAREiTabPaneViewer_ShapeEnum *)shape {
  switch ([shape ordinal]) {
    case RAREiTabPaneViewer_Shape_FLAT:
    [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setTabPainterWithRAREaPlatformTabPainter:[[RAREBasicTabPainter alloc] initWithInt:0]];
    break;
    case RAREiTabPaneViewer_Shape_CHROME:
    [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setTabPainterWithRAREaPlatformTabPainter:[[RAREChromeTabPainter alloc] init]];
    break;
    case RAREiTabPaneViewer_Shape_OFFICE2003:
    [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setTabPainterWithRAREaPlatformTabPainter:[[RAREOffice2003TabPainter alloc] init]];
    break;
    case RAREiTabPaneViewer_Shape_CUSTOM:
    break;
    case RAREiTabPaneViewer_Shape_BOX:
    [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setTabPainterWithRAREaPlatformTabPainter:[[RAREBoxTabPainter alloc] init]];
    break;
    case RAREiTabPaneViewer_Shape_BOX_STACKED:
    [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setTabPainterWithRAREaPlatformTabPainter:[[RAREBoxStackedTabPainter alloc] init]];
    [tabsLayout_ setTabPlacementWithRARELocationEnum:[RARELocationEnum BOTTOM]];
    break;
    default:
    [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setTabPainterWithRAREaPlatformTabPainter:[[RAREBasicTabPainter alloc] initWithInt:6]];
    break;
  }
  if (normalTabPainter_ != nil) {
    [((RAREaTabPainter *) nil_chk([((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) getTabPainter])) setNormalPaintWithRAREPaintBucket:normalTabPainter_];
  }
  if (selectedTabPainter_ != nil) {
    [((RAREaTabPainter *) nil_chk([((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) getTabPainter])) setSelectedPaintWithRAREPaintBucket:selectedTabPainter_];
  }
  if (horizontalAlignment_ != nil) {
    [((RAREaTabPainter *) nil_chk([((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) getTabPainter])) setTextHorizontalAlignmentWithRARERenderableDataItem_HorizontalAlignEnum:horizontalAlignment_];
  }
  [self revalidate];
}

- (void)setTabTrailingComponentWithRAREiPlatformComponent:(id<RAREiPlatformComponent>)c {
  [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) setTabTrailingViewWithRAREiPlatformComponent:c];
}

- (void)setTextHorizontalAlignmentWithRARERenderableDataItem_HorizontalAlignEnum:(RARERenderableDataItem_HorizontalAlignEnum *)horizontalAlignment {
  self->horizontalAlignment_ = horizontalAlignment;
  [((RAREaTabPainter *) nil_chk([((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) getTabPainter])) setTextHorizontalAlignmentWithRARERenderableDataItem_HorizontalAlignEnum:horizontalAlignment];
}

- (void)setTitleAtWithInt:(int)pos
             withNSString:(NSString *)title {
  RAREUIAction *a = [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) getTabWithInt:pos];
  RARETabDocument *doc = (RARETabDocument *) check_class_cast([((RAREUIAction *) nil_chk(a)) getLinkedData], [RARETabDocument class]);
  [a setActionTextWithJavaLangCharSequence:[RAREaPlatformHelper checkForHTMLWithNSString:title withRAREUIFont:[self getFont]]];
  [((RARETabDocument *) nil_chk(doc)) setTitleExWithNSString:title];
}

- (void)setTransitionAnimatorWithRAREiTransitionAnimator:(id<RAREiTransitionAnimator>)animator {
  transitionAnimator_ = animator;
  if ((animator != nil) && ([(id) [animator getInAnimator] isKindOfClass:[RAREaSizeAnimation class]])) {
    sizingAnchor_ = [((RAREaSizeAnimation *) check_class_cast([animator getInAnimator], [RAREaSizeAnimation class])) getDiagonalAnchor];
  }
  else {
    sizingAnchor_ = nil;
  }
}

- (void)setVisibleCountWithInt:(int)intValue {
}

- (int)getBottomButtonCount {
  return 0;
}

- (int)getChangeIndex {
  return changeIndex_;
}

- (id<RAREiPlatformComponent>)getComponent {
  return self;
}

- (id<RAREiViewer>)getContentWithRAREUIAction:(RAREUIAction *)a {
  RARETabDocument *doc = (RARETabDocument *) check_class_cast([((RAREUIAction *) nil_chk(a)) getLinkedData], [RARETabDocument class]);
  return [((RARETabDocument *) nil_chk(doc)) getTabContent];
}

- (id<RAREiTabDocument>)getDocumentAtWithInt:(int)index {
  return (RARETabDocument *) check_class_cast([((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) getTabLinkedDataWithInt:index], [RARETabDocument class]);
}

- (id<RAREiTabDocument_iDocumentListener>)getDocumentListener {
  return self;
}

- (id<RAREiPlatformIcon>)getIconAtWithInt:(int)pos {
  RAREUIAction *a = [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) getTabWithInt:pos];
  return [((RAREUIAction *) nil_chk(a)) getIcon];
}

- (id<RAREiTabDocument>)getSelectedDocument {
  return (selectedIndex_ < 0) ? nil : [self getDocumentAtWithInt:selectedIndex_];
}

- (int)getSelectedIndex {
  return selectedIndex_;
}

- (int)getTabCount {
  return [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) getTabCount];
}

- (int)getTabMinHeight {
  return [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) getTabMinHeight];
}

- (RARELocationEnum *)getTabPlacement {
  return [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) getTabPlacement];
}

- (RAREUIRectangle *)getTabStripBounds {
  return [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) getTabStripBounds];
}

- (id<RAREiPlatformComponent>)getTabStrip {
  return ((RAREaTabPaneLayout *) nil_chk(tabsLayout_))->tabStrip_;
}

- (NSString *)getTitleAtWithInt:(int)pos {
  RARETabDocument *doc = (RARETabDocument *) check_class_cast([self getDocumentAtWithInt:pos], [RARETabDocument class]);
  return [((RARETabDocument *) nil_chk(doc)) getTitle];
}

- (id<RAREiTransitionAnimator>)getTransitionAnimator {
  return transitionAnimator_;
}

- (BOOL)isHorizontal {
  return [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) isHorizontal];
}

- (void)setBoundsWithFloat:(float)x
                 withFloat:(float)y
                 withFloat:(float)width
                 withFloat:(float)height {
  [super setBoundsWithFloat:x withFloat:y withFloat:width withFloat:height];
  [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) checkOrientationWithFloat:width withFloat:height];
  if (tabStripsFloats_) {
    id<RAREiPlatformComponent> ts = tabsLayout_->tabStrip_;
    if ([((id<RAREiPlatformComponent>) nil_chk(ts)) getParent] == self) {
      RAREUIRectangle *r = [((id<RAREiParentComponent>) nil_chk(tabsLayout_->contentArea_)) getBounds];
      RAREUIDimension *d = [ts getPreferredSizeWithRAREUIDimension:[[RAREUIDimension alloc] init]];
      switch ([[tabsLayout_ getTabPlacement] ordinal]) {
        case RARELocation_TOP:
        ((RAREUIRectangle *) nil_chk(r))->height_ = ((RAREUIDimension *) nil_chk(d))->height_;
        break;
        case RARELocation_BOTTOM:
        ((RAREUIRectangle *) nil_chk(r))->y_ = r->height_ - ((RAREUIDimension *) nil_chk(d))->height_;
        r->height_ = d->height_;
        break;
        case RARELocation_LEFT:
        ((RAREUIRectangle *) nil_chk(r))->width_ = ((RAREUIDimension *) nil_chk(d))->width_;
        break;
        case RARELocation_RIGHT:
        ((RAREUIRectangle *) nil_chk(r))->x_ = r->width_ - ((RAREUIDimension *) nil_chk(d))->width_;
        r->width_ = d->width_;
        break;
        default:
        break;
      }
      [ts setBoundsWithFloat:((RAREUIRectangle *) nil_chk(r))->x_ withFloat:r->y_ withFloat:r->width_ withFloat:r->height_];
    }
  }
}

- (void)navigateToTabWithId:(id)source
                withBoolean:(BOOL)next {
  id<RAREiWidget> w = [RAREPlatform findWidgetForComponentWithId:source];
  RARETabPaneViewer *tv = (RARETabPaneViewer *) check_class_cast([RAREPlatform getWidgetForComponentWithId:self], [RARETabPaneViewer class]);
  if (w != tv) {
    RARETabPaneViewer *tpv = (RARETabPaneViewer *) check_class_cast([((id<RAREiWidget>) nil_chk(w)) getTabPaneViewer], [RARETabPaneViewer class]);
    if (tpv != tv) {
      return;
    }
  }
  int n = [((RARETabPaneViewer *) nil_chk(tv)) getSelectedTab];
  n += (next ? 1 : -1);
  if (n < 0) {
    n = [tv getTabCount] - 1;
  }
  else {
    n = 0;
  }
  if ([tv getTabCount] != 0) {
    [tv setSelectedTabWithInt:n];
  }
}

- (void)tabWillChangeWithInt:(int)index {
  id<RAREiWidget> context = [RAREPlatform findWidgetForComponentWithId:self];
  RARETabDocument *doc = (RARETabDocument *) check_class_cast([self getDocumentAtWithInt:index], [RARETabDocument class]);
  changeIndex_ = index;
  if (![((RARETabDocument *) nil_chk(doc)) asyncCanChangeWithRAREiWidget:context withRAREiTabDocument_iCanChangeCallback:self]) {
    [self canChangeWithRAREiWidget:context withRAREiTabDocument:doc];
  }
}

- (void)setLayoutWithRAREaTabPaneLayout:(RAREaTabPaneLayout *)layout {
  self->tabsLayout_ = layout;
  [((RAREaTabPaneLayout *) nil_chk(layout)) setFontWithRAREUIFont:[self getFont]];
  tabAction_ = [[RAREaTabPaneComponent_$1 alloc] initWithRAREaTabPaneComponent:self];
  [layout setMoreIconWithRAREiPlatformIcon:moreIcon_];
}

- (void)setSelectedIndexExWithInt:(int)index {
  if (closingAll_) {
    return;
  }
  int count = [((RAREaTabPaneLayout *) nil_chk(tabsLayout_)) getTabCount];
  id<RAREiTabDocument> doc = nil;
  id<RAREiPlatformComponent> out = nil;
  RAREUIRectangle *bounds = nil;
  id<RAREiTransitionAnimator> ta = transitionAnimator_;
  if ((selectedIndex_ > -1) && (selectedIndex_ < count)) {
    doc = (id<RAREiTabDocument>) check_protocol_cast([tabsLayout_ getTabLinkedDataWithInt:selectedIndex_], @protocol(RAREiTabDocument));
    if (doc != nil) {
      if (ta != nil) {
        [RAREaAnimator adjustAnimationWithRAREiAnimator:[ta getInAnimator] withBoolean:selectedIndex_ < index withRARERenderTypeEnum:sizingAnchor_ withRARELocationEnum:[self getTabPlacement]];
        [RAREaAnimator adjustAnimationWithRAREiAnimator:[ta getOutAnimator] withBoolean:selectedIndex_ < index withRARERenderTypeEnum:sizingAnchor_ withRARELocationEnum:[self getTabPlacement]];
        out = [RAREaTransitionAnimator resolveTransitionComponentWithRAREiParentComponent:tabsLayout_->contentArea_ withRAREiPlatformComponent:[doc getDocComponent]];
        bounds = [((id<RAREiPlatformComponent>) nil_chk(out)) getBounds];
        [ta setOutgoingComponentWithRAREiPlatformComponent:out];
      }
      [doc tabDeactivated];
      if (listenerList_ != nil) {
        [RARETabDocument fireTabDeactivatedWithRAREiTabDocument:doc withRAREEventListenerList:listenerList_];
      }
    }
  }
  else {
    ta = nil;
  }
  if ((ta != nil) && ![((id<RAREiParentComponent>) nil_chk(tabsLayout_->contentArea_)) isDisplayable]) {
    ta = nil;
  }
  [tabsLayout_ setSelectedTabWithInt:index];
  selectedIndex_ = index;
  doc = (id<RAREiTabDocument>) check_protocol_cast([tabsLayout_ getTabLinkedDataWithInt:index], @protocol(RAREiTabDocument));
  [((id<RAREiTabDocument>) nil_chk(doc)) tabActivated];
  if (listenerList_ != nil) {
    [RARETabDocument fireTabActivatedWithRAREiTabDocument:doc withRAREEventListenerList:listenerList_];
  }
  if ((ta != nil) && (out != nil)) {
    id<RAREiPlatformComponent> c = [doc getDocComponent];
    if (c == nil) {
      c = [RAREaTransitionAnimator resolveTransitionComponentWithRAREiParentComponent:tabsLayout_->contentArea_ withRAREiPlatformComponent:nil];
    }
    [ta setIncommingComponentWithRAREiPlatformComponent:c];
    [ta animateWithRAREiParentComponent:tabsLayout_->contentArea_ withRAREUIRectangle:bounds withRAREiFunctionCallback:nil];
  }
}

- (BOOL)getTabStripsFloats {
  return tabStripsFloats_;
}

- (void)setTabStripsFloatsWithBoolean:(BOOL)floats {
  self->tabStripsFloats_ = floats;
  if (floats) {
    [((RAREaTabStripComponent *) nil_chk(((RAREaTabPaneLayout *) nil_chk(tabsLayout_))->tabStrip_)) bringToFront];
    [tabsLayout_->tabStrip_ putClientPropertyWithNSString:[RAREiConstants RARE_UNMANAGED_COMPONENT] withId:[JavaLangBoolean getTRUE]];
    [((RARELOBorderLayout *) nil_chk([self getBorderLayout])) setSupportsUnmanagedComponentsWithBoolean:YES];
  }
  else {
    [((RAREaTabStripComponent *) nil_chk(((RAREaTabPaneLayout *) nil_chk(tabsLayout_))->tabStrip_)) putClientPropertyWithNSString:[RAREiConstants RARE_UNMANAGED_COMPONENT] withId:nil];
    [((RARELOBorderLayout *) nil_chk([self getBorderLayout])) setSupportsUnmanagedComponentsWithBoolean:NO];
  }
}

- (void)copyAllFieldsTo:(RAREaTabPaneComponent *)other {
  [super copyAllFieldsTo:other];
  other->changeIndex_ = changeIndex_;
  other->closingAll_ = closingAll_;
  other->horizontalAlignment_ = horizontalAlignment_;
  other->moreIcon_ = moreIcon_;
  other->newTabPosition_ = newTabPosition_;
  other->normalTabPainter_ = normalTabPainter_;
  other->reloadTimeout_ = reloadTimeout_;
  other->selectedIndex_ = selectedIndex_;
  other->selectedTabPainter_ = selectedTabPainter_;
  other->sizingAnchor_ = sizingAnchor_;
  other->tabAction_ = tabAction_;
  other->tabStripsFloats_ = tabStripsFloats_;
  other->tabsLayout_ = tabsLayout_;
  other->transitionAnimator_ = transitionAnimator_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "getComponent", NULL, "LRAREiPlatformComponent", 0x1, NULL },
    { "getContentWithRAREUIAction:", NULL, "LRAREiViewer", 0x1, NULL },
    { "getDocumentAtWithInt:", NULL, "LRAREiTabDocument", 0x1, NULL },
    { "getDocumentListener", NULL, "LRAREiTabDocument_iDocumentListener", 0x1, NULL },
    { "getIconAtWithInt:", NULL, "LRAREiPlatformIcon", 0x1, NULL },
    { "getSelectedDocument", NULL, "LRAREiTabDocument", 0x1, NULL },
    { "getTabPlacement", NULL, "LRARELocationEnum", 0x1, NULL },
    { "getTabStripBounds", NULL, "LRAREUIRectangle", 0x1, NULL },
    { "getTabStrip", NULL, "LRAREiPlatformComponent", 0x1, NULL },
    { "getTitleAtWithInt:", NULL, "LNSString", 0x1, NULL },
    { "getTransitionAnimator", NULL, "LRAREiTransitionAnimator", 0x1, NULL },
    { "isHorizontal", NULL, "Z", 0x1, NULL },
    { "navigateToTabWithId:withBoolean:", NULL, "V", 0x4, NULL },
    { "tabWillChangeWithInt:", NULL, "V", 0x4, NULL },
    { "setLayoutWithRAREaTabPaneLayout:", NULL, "V", 0x4, NULL },
    { "setSelectedIndexExWithInt:", NULL, "V", 0x4, NULL },
    { "getTabStripsFloats", NULL, "Z", 0x1, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "changeIndex_", NULL, 0x4, "I" },
    { "newTabPosition_", NULL, 0x4, "I" },
    { "selectedIndex_", NULL, 0x4, "I" },
    { "closingAll_", NULL, 0x4, "Z" },
    { "moreIcon_", NULL, 0x4, "LRAREiPlatformIcon" },
    { "normalTabPainter_", NULL, 0x4, "LRAREPaintBucket" },
    { "selectedTabPainter_", NULL, 0x4, "LRAREPaintBucket" },
    { "sizingAnchor_", NULL, 0x4, "LRARERenderTypeEnum" },
    { "tabAction_", NULL, 0x4, "LRAREiActionListener" },
    { "tabsLayout_", NULL, 0x4, "LRAREaTabPaneLayout" },
    { "transitionAnimator_", NULL, 0x4, "LRAREiTransitionAnimator" },
  };
  static J2ObjcClassInfo _RAREaTabPaneComponent = { "aTabPaneComponent", "com.appnativa.rare.ui.tabpane", NULL, 0x401, 17, methods, 11, fields, 0, NULL};
  return &_RAREaTabPaneComponent;
}

@end
@implementation RAREaTabPaneComponent_$1

- (void)actionPerformedWithRAREActionEvent:(RAREActionEvent *)e {
  [this$0_ tabWillChangeWithInt:[((RAREaTabPaneLayout *) nil_chk(this$0_->tabsLayout_)) indexOfTabWithRAREUIAction:(RAREUIAction *) check_class_cast([((RAREActionEvent *) nil_chk(e)) getSource], [RAREUIAction class])]];
}

- (id)initWithRAREaTabPaneComponent:(RAREaTabPaneComponent *)outer$ {
  this$0_ = outer$;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "LRAREaTabPaneComponent" },
  };
  static J2ObjcClassInfo _RAREaTabPaneComponent_$1 = { "$1", "com.appnativa.rare.ui.tabpane", "aTabPaneComponent", 0x8000, 0, NULL, 1, fields, 0, NULL};
  return &_RAREaTabPaneComponent_$1;
}

@end

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/core-tabpane/com/appnativa/rare/ui/tabpane/aTabStripComponent.java
//
//  Created by decoteaud on 9/15/15.
//

#include "com/appnativa/rare/ui/Location.h"
#include "com/appnativa/rare/ui/UIAction.h"
#include "com/appnativa/rare/ui/UIDimension.h"
#include "com/appnativa/rare/ui/UIInsets.h"
#include "com/appnativa/rare/ui/event/ActionEvent.h"
#include "com/appnativa/rare/ui/event/MouseEvent.h"
#include "com/appnativa/rare/ui/tabpane/aPlatformTabPainter.h"
#include "com/appnativa/rare/ui/tabpane/aTabPainter.h"
#include "com/appnativa/rare/ui/tabpane/aTabStripComponent.h"

@implementation RAREaTabStripComponent

- (id)initWithId:(id)view {
  return [super initWithId:view];
}

- (void)setTabPainterWithRAREaPlatformTabPainter:(RAREaPlatformTabPainter *)painter {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
}

- (void)getMinimumSizeExWithRAREUIDimension:(RAREUIDimension *)size {
  [((RAREaPlatformTabPainter *) nil_chk([self getTabPainter])) getMinimumSizeWithRAREUIDimension:size];
}

- (void)getPreferredSizeExWithRAREUIDimension:(RAREUIDimension *)size
                                    withFloat:(float)maxWidth {
  [((RAREaPlatformTabPainter *) nil_chk([self getTabPainter])) getPreferredSizeWithRAREUIDimension:size];
}

+ (BOOL)handleMousePressedWithRAREMouseEvent:(RAREMouseEvent *)event
                         withRAREaTabPainter:(RAREaTabPainter *)tabPainter
                            withRAREUIInsets:(RAREUIInsets *)inArg
                                   withFloat:(float)width
                                   withFloat:(float)height {
  float x = [((RAREMouseEvent *) nil_chk(event)) getX];
  float y = [event getY];
  int padding = [((RAREaTabPainter *) nil_chk(tabPainter)) getTabsPadding];
  width -= (((RAREUIInsets *) nil_chk(inArg))->left_ + inArg->right_);
  height -= (inArg->top_ + inArg->bottom_);
  float n;
  switch ([[tabPainter getPosition] ordinal]) {
    case RARELocation_BOTTOM:
    if (![tabPainter isHandlesBottomRotation]) {
      y = height - y;
    }
    break;
    case RARELocation_RIGHT:
    if (![tabPainter isHandlesRightLeftRotation]) {
      n = x;
      x = y;
      y = width - padding - n;
      n = width;
      width = height;
      height = n;
    }
    break;
    case RARELocation_LEFT:
    if (![tabPainter isHandlesRightLeftRotation]) {
      n = x;
      x = height - y;
      y = n - padding;
      n = width;
      width = height;
      height = n;
    }
    break;
    default:
    y -= padding;
    break;
  }
  int tab = [tabPainter findTabWithFloat:x withFloat:y withFloat:inArg->left_ withFloat:inArg->top_ withFloat:width withFloat:height];
  if (tab == -1) {
    [tabPainter checkForAndHandleMoreActionWithFloat:x withFloat:y withFloat:inArg->left_ withFloat:inArg->top_ withFloat:width withFloat:height];
  }
  else if ((tab != -1) && (tab != [tabPainter getSelectedTab])) {
    RAREUIAction *a = [tabPainter getTabWithInt:tab];
    if ([((RAREUIAction *) nil_chk(a)) isEnabled]) {
      [a actionPerformedWithRAREActionEvent:[[RAREActionEvent alloc] initWithId:a]];
      return YES;
    }
  }
  return NO;
}

- (RAREaPlatformTabPainter *)getTabPainter {
  // can't call an abstract method
  [self doesNotRecognizeSelector:_cmd];
  return 0;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "initWithId:", NULL, NULL, 0x4, NULL },
    { "setTabPainterWithRAREaPlatformTabPainter:", NULL, "V", 0x401, NULL },
    { "handleMousePressedWithRAREMouseEvent:withRAREaTabPainter:withRAREUIInsets:withFloat:withFloat:", NULL, "Z", 0x9, NULL },
    { "getTabPainter", NULL, "LRAREaPlatformTabPainter", 0x401, NULL },
  };
  static J2ObjcClassInfo _RAREaTabStripComponent = { "aTabStripComponent", "com.appnativa.rare.ui.tabpane", NULL, 0x401, 4, methods, 0, NULL, 0, NULL};
  return &_RAREaTabStripComponent;
}

@end

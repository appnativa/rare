//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/ios/com/appnativa/rare/platform/apple/ui/view/Window.java
//
//  Created by decoteaud on 7/29/15.
//

#include "com/appnativa/rare/platform/apple/ui/view/FormsView.h"
#include "com/appnativa/rare/platform/apple/ui/view/FrameView.h"
#include "com/appnativa/rare/platform/apple/ui/view/Window.h"
#include "com/appnativa/rare/ui/Container.h"
#include "com/appnativa/rare/ui/UIColor.h"
#include "com/appnativa/rare/ui/UIDimension.h"
#include "com/appnativa/rare/ui/WindowPane.h"
#include "com/appnativa/rare/ui/iParentComponent.h"
#include "com/jgoodies/forms/layout/FormLayout.h"
#import <UIKit/UIKit.h>
 #import "AppleHelper.h"
 #import "RAREAPWindow.h"
 #import "APView+Component.h"
 #import "RAREUIViewController.h"
 #import "RARERootView.h"
 #import "RARECALayer.h"

@implementation RAREWindow

- (id)init {
  return [super initWithId:[RAREWindow createProxy]];
}

- (id)initWithId:(id)nsindow {
  return [super initWithId:nsindow];
}

- (BOOL)requestFocus {
  [((RAREAPWindow*)proxy_) makeKeyWindow];
  return ((RAREAPWindow*)proxy_).keyWindow;
}

- (void)toBack {
}

- (void)toFront {
}

- (BOOL)setBackgroundColorExWithRAREUIColor:(RAREUIColor *)bg {
  ((RAREAPWindow*)proxy_).backgroundColor=bg ? (UIColor*)[bg getAPColor] : NULL;
  return YES;
}

- (void)setDecoratedWithBoolean:(BOOL)decorated {
  self->decorated_ = decorated;
  [((RAREWindowPane *) nil_chk(rootPane_)) setAutoCreateTitlePaneWithBoolean:decorated];
}

- (void)setLocationWithFloat:(float)x
                   withFloat:(float)y {
  [((RAREAPWindow*)proxy_) setLocationX: x andY: y];
}

- (BOOL)isDisplayable {
  return ((UIWindow*)proxy_).screen!=nil;
}

- (BOOL)isFocused {
  return ((RAREAPWindow*)proxy_).keyWindow;
}

- (id<RAREiParentComponent>)createAnimationContainer {
  return [[RAREContainer alloc] initWithRAREParentView:[[RAREFrameView alloc] initWithId:[self createRootViewProxy]]];
}

+ (id)createProxy {
  return [RAREAPWindow new];
}

- (RAREWindowPane *)createRootPane {
  RAREFormsView *v = [[RAREFormsView alloc] initWithId:[self createRootViewProxy] withRAREJGFormLayout:[RAREWindowPane createPaneFormLayout]];
  RAREWindowPane *p = [[RAREWindow_$1 alloc] initWithRAREWindow:self withRAREFormsView:v];
  [self setContentViewWithId:[v getProxy]];
  return p;
}

- (int)getStatusBarCurrentHeight {
  CGSize size=[UIApplication sharedApplication].statusBarFrame.size;
  return MIN(size.width,size.height) ;
}

- (id)createRootViewProxy {
  return [RARERootView new];
}

- (void)setContentViewWithId:(id)uiview {
  [((RAREAPWindow*)proxy_) setContentView:(UIView*)uiview];
}

- (void)setSizeExWithFloat:(float)width
                 withFloat:(float)height {
  [((RAREAPWindow*)proxy_) setSizeWidth: width andHeight: height];
}

- (id)getOverlayLayer {
  if(!overlayLayer_) {
    overlayLayer_=[RARECALayer layer];
    CALayer* layer=((UIView*)proxy_).layer;
    [layer addSublayer: (CALayer*)overlayLayer_];
  }
  return overlayLayer_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "requestFocus", NULL, "Z", 0x101, NULL },
    { "toBack", NULL, "V", 0x101, NULL },
    { "toFront", NULL, "V", 0x101, NULL },
    { "setBackgroundColorExWithRAREUIColor:", NULL, "Z", 0x101, NULL },
    { "setLocationWithFloat:withFloat:", NULL, "V", 0x101, NULL },
    { "isDisplayable", NULL, "Z", 0x101, NULL },
    { "isFocused", NULL, "Z", 0x101, NULL },
    { "createAnimationContainer", NULL, "LRAREiParentComponent", 0x4, NULL },
    { "createProxy", NULL, "LNSObject", 0x10c, NULL },
    { "createRootPane", NULL, "LRAREWindowPane", 0x4, NULL },
    { "getStatusBarCurrentHeight", NULL, "I", 0x104, NULL },
    { "createRootViewProxy", NULL, "LNSObject", 0x104, NULL },
    { "setContentViewWithId:", NULL, "V", 0x104, NULL },
    { "setSizeExWithFloat:withFloat:", NULL, "V", 0x104, NULL },
    { "getOverlayLayer", NULL, "LNSObject", 0x104, NULL },
  };
  static J2ObjcClassInfo _RAREWindow = { "Window", "com.appnativa.rare.platform.apple.ui.view", NULL, 0x1, 15, methods, 0, NULL, 0, NULL};
  return &_RAREWindow;
}

@end
@implementation RAREWindow_$1

- (RAREUIDimension *)getSizeWithRAREUIDimension:(RAREUIDimension *)size {
  if (size == nil) {
    size = [[RAREUIDimension alloc] init];
  }
  [this$0_ getSizeWithRAREUIDimension:size];
  return size;
}

- (int)getPlatformDecorationsHeight {
  return [this$0_ getStatusBarCurrentHeight];
}

- (int)getPlatformWindowOffset {
  return [this$0_ getStatusBarCurrentHeight];
}

- (id)initWithRAREWindow:(RAREWindow *)outer$
       withRAREFormsView:(RAREFormsView *)arg$0 {
  this$0_ = outer$;
  return [super initWithId:arg$0];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "getSizeWithRAREUIDimension:", NULL, "LRAREUIDimension", 0x1, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "LRAREWindow" },
  };
  static J2ObjcClassInfo _RAREWindow_$1 = { "$1", "com.appnativa.rare.platform.apple.ui.view", "Window", 0x8000, 1, methods, 1, fields, 0, NULL};
  return &_RAREWindow_$1;
}

@end

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/ios/com/appnativa/rare/platform/apple/ui/view/CustomButtonView.java
//
//  Created by decoteaud on 12/8/15.
//

#include "IOSClass.h"
#include "com/appnativa/rare/Platform.h"
#include "com/appnativa/rare/platform/apple/ui/view/CustomButtonView.h"
#include "com/appnativa/rare/platform/apple/ui/view/View.h"
#include "com/appnativa/rare/platform/apple/ui/view/aView.h"
#include "com/appnativa/rare/ui/ColorUtils.h"
#include "com/appnativa/rare/ui/Component.h"
#include "com/appnativa/rare/ui/FontUtils.h"
#include "com/appnativa/rare/ui/RenderableDataItem.h"
#include "com/appnativa/rare/ui/UIColor.h"
#include "com/appnativa/rare/ui/UIDimension.h"
#include "com/appnativa/rare/ui/UIFont.h"
#include "com/appnativa/rare/ui/UIInsets.h"
#include "com/appnativa/rare/ui/UIProperties.h"
#include "com/appnativa/rare/ui/Utils.h"
#include "com/appnativa/rare/ui/event/ActionEvent.h"
#include "com/appnativa/rare/ui/event/ChangeEvent.h"
#include "com/appnativa/rare/ui/event/iActionListener.h"
#include "com/appnativa/rare/ui/event/iChangeListener.h"
#include "com/appnativa/rare/ui/iPaintedButton.h"
#include "com/appnativa/rare/ui/iPlatformBorder.h"
#include "com/appnativa/rare/ui/iPlatformIcon.h"
#include "com/appnativa/rare/ui/painter/PainterHolder.h"
#include "com/appnativa/rare/ui/painter/iPlatformComponentPainter.h"
#include "com/appnativa/rare/ui/text/HTMLCharSequence.h"
#include "com/appnativa/rare/widget/aGroupableButton.h"
#include "com/appnativa/rare/widget/iWidget.h"
#include "java/lang/CharSequence.h"
#import "RAREUIControl.h"

@implementation RARECustomButtonView

- (id)init {
  if (self = [super initWithId:[RARECustomButtonView createProxy]]) {
    iconPosition_ = [RARERenderableDataItem_IconPositionEnum LEADING];
    [self setFontWithRAREUIFont:[RAREFontUtils getDefaultFont]];
    RAREUIColor *fg = [((RAREUIProperties *) nil_chk([RAREPlatform getUIDefaults])) getColorWithNSString:@"Rare.Button.foreground"];
    if (fg == nil) {
      fg = [RAREColorUtils getForeground];
    }
    [self setForegroundColorWithRAREUIColor:fg];
  }
  return self;
}

- (id)initWithId:(id)uiview {
  if (self = [super initWithId:uiview]) {
    iconPosition_ = [RARERenderableDataItem_IconPositionEnum LEADING];
  }
  return self;
}

- (void)checkForegroundColor {
  RAREiPaintedButton_ButtonStateEnum *state = [RAREUtils getStateWithBoolean:enabled_ withBoolean:[self isPressed] withBoolean:[self isSelected] withBoolean:NO];
  RAREUIColor *fg = foregroundColor_;
  if (fg == nil) {
    RAREPainterHolder *ph = (componentPainter_ == nil) ? nil : [componentPainter_ getPainterHolder];
    if (ph != nil) {
      fg = [ph getForegroundWithRAREiPaintedButton_ButtonStateEnum:state];
    }
  }
  else {
    fg = [fg getColorWithRAREiPaintedButton_ButtonStateEnum:state];
  }
  if (fg != nil) {
    [self setForegroundColorExWithRAREUIColor:fg];
  }
}

- (void)borderChangedWithRAREiPlatformBorder:(id<RAREiPlatformBorder>)newBorder {
  [super borderChangedWithRAREiPlatformBorder:newBorder];
  if (newBorder == nil) {
    [self setMarginWithFloat:2 withFloat:2 withFloat:2 withFloat:2];
  }
  else {
    [self setMarginWithRAREUIInsets:[newBorder getBorderInsetsWithRAREUIInsets:nil]];
  }
}

- (void)performClick {
  [self actionPerformed];
}

- (void)selectionChangedWithBoolean:(BOOL)selected {
  if (component_ != nil) {
    RAREaGroupableButton *b = (RAREaGroupableButton *) check_class_cast([component_ getWidget], [RAREaGroupableButton class]);
    [((RAREaGroupableButton *) nil_chk(b)) selectionChangedWithBoolean:selected];
  }
  [self handleChangeEvent];
}

- (void)setActionListenerWithRAREiActionListener:(id<RAREiActionListener>)l {
  actionListener_ = l;
}

- (void)setAutoRepeatsWithInt:(int)interval {
  [((RAREUIControl*)proxy_) setContinuous: interval>0];
  if(interval>0) {
    float finterval=interval/1000.0;
    [((RAREUIControl*)proxy_) setPeriodicDelay: finterval interval: finterval];
  }
}

- (void)setCallNeedsDisplayOnSuperWithBoolean:(BOOL)needs {
  ((RAREUIControl*)proxy_).callNeedsDisplayOnSuper=needs;
}

- (void)setChangeListenerWithRAREiChangeListener:(id<RAREiChangeListener>)l {
  self->changeListener_ = l;
}

- (void)setDisabledIconWithRAREiPlatformIcon:(id<RAREiPlatformIcon>)icon {
  ((RAREUIControl*)proxy_).disabledIcon=icon;
}

- (void)setDisabledSelectedIconWithRAREiPlatformIcon:(id<RAREiPlatformIcon>)icon {
  ((RAREUIControl*)proxy_).disabledSelectedIcon=icon;
}

- (void)setFontWithRAREUIFont:(RAREUIFont *)font {
  font_ = font;
  if(font) {
    ((RAREUIControl*)proxy_).font=(UIFont*)[font getIOSProxy];
  }
}

- (void)setIconWithRAREiPlatformIcon:(id<RAREiPlatformIcon>)icon {
  ((RAREUIControl*)proxy_).icon=icon;
}

- (void)setIconGapWithInt:(int)iconGap {
  ((RAREUIControl*)proxy_).iconGap=iconGap;
}

- (RARERenderableDataItem_IconPositionEnum *)setIconPosition {
  return iconPosition_;
}

- (void)setIconPositionWithRARERenderableDataItem_IconPositionEnum:(RARERenderableDataItem_IconPositionEnum *)ip {
  if (ip == nil) {
    ip = [RARERenderableDataItem_IconPositionEnum LEADING];
  }
  iconPosition_ = ip;
  ((RAREUIControl*)proxy_).iconPosition=ip.ordinal;
}

- (void)setMarginWithFloat:(float)top
                 withFloat:(float)right
                 withFloat:(float)bottom
                 withFloat:(float)left {
  [((RAREUIControl*)proxy_) setInsetsWithTop: top right: right bottom: bottom left: left];
}

- (void)setPressedIconWithRAREiPlatformIcon:(id<RAREiPlatformIcon>)icon {
  ((RAREUIControl*)proxy_).pressedIcon=icon;
}

- (void)setPressedSelectedIconWithRAREiPlatformIcon:(id<RAREiPlatformIcon>)icon {
  ((RAREUIControl*)proxy_).pressedSelectedIcon=icon;
}

- (void)setSelectedWithBoolean:(BOOL)selected {
  [((RAREUIControl*)proxy_) setSelected:selected];
}

- (void)setSelectedIconWithRAREiPlatformIcon:(id<RAREiPlatformIcon>)icon {
  ((RAREUIControl*)proxy_).selectedIcon=icon;
}

- (void)setTextWithJavaLangCharSequence:(id<JavaLangCharSequence>)text {
  [self setTextExWithJavaLangCharSequence:[RAREHTMLCharSequence checkSequenceWithJavaLangCharSequence:text withRAREUIFont:[self getFontAlways]]];
}

- (void)setTextAlignmentWithRARERenderableDataItem_HorizontalAlignEnum:(RARERenderableDataItem_HorizontalAlignEnum *)hal
                          withRARERenderableDataItem_VerticalAlignEnum:(RARERenderableDataItem_VerticalAlignEnum *)val {
  RAREUIControl* button=(RAREUIControl*)proxy_;
  button.textHorizontalAlignment= hal.ordinal;
  button.textVerticalAlignment= val.ordinal;
}

- (void)setTextExWithJavaLangCharSequence:(id<JavaLangCharSequence>)text {
  [((RAREUIControl*)proxy_) setCharSequence: text];
}

- (void)setUnderlinedWithBoolean:(BOOL)underlined {
  ((RAREUIControl*)proxy_).isUnderlined=underlined;
}

- (void)setWordWrapWithBoolean:(BOOL)wrap {
  [((RAREUIControl*)proxy_) setWrapText: wrap];
}

- (BOOL)usesForegroundColor {
  return YES;
}

- (id<RAREiPlatformIcon>)getDisabledIcon {
  return ((RAREUIControl*)proxy_).disabledIcon;
}

- (id<RAREiPlatformIcon>)getIcon {
  return ((RAREUIControl*)proxy_).icon;
}

- (int)getIconGap {
  return ((RAREUIControl*)proxy_).iconGap;
}

- (RAREUIInsets *)getMargin {
  RAREUIInsets *in = [[RAREUIInsets alloc] init];
  [self getMarginExWithRAREUIInsets:in];
  return in;
}

- (void)getMinimumSizeWithRAREUIDimension:(RAREUIDimension *)size
                                withFloat:(float)maxWidth {
  [self getPreferredSizeWithRAREUIDimension:size withFloat:maxWidth];
}

- (id<RAREiPlatformIcon>)getPressedIcon {
  return ((RAREUIControl*)proxy_).pressedIcon;
}

- (id<RAREiPlatformIcon>)getSelectedIcon {
  return ((RAREUIControl*)proxy_).selectedIcon;
}

- (NSString *)getText {
  return [((RAREUIControl*)proxy_) getText];
}

- (BOOL)isPressed {
  return [((RAREUIControl*)proxy_) isPressed];
}

- (BOOL)isSelected {
  return [((RAREUIControl*)proxy_) isSelected];
}

- (BOOL)isWordWrap {
  return [((RAREUIControl*)proxy_) isWrapText];
}

+ (id)createProxy {
  return [RAREUIControl new];
}

- (void)setHasScalingIconWithBoolean:(BOOL)hasScalingIcon {
  self->hasScalingIcon_ = hasScalingIcon;
}

- (void)getMarginExWithRAREUIInsets:(RAREUIInsets *)insets {
  [((RAREUIControl*)proxy_) getInsets: insets];
}

- (BOOL)isHasScalingIcon {
  return hasScalingIcon_;
}

- (void)actionPerformed {
  if (actionListener_ != nil) {
    [RAREPlatform invokeLaterWithJavaLangRunnable:[[RARECustomButtonView_$1 alloc] initWithRARECustomButtonView:self]];
  }
}

- (void)disposeEx {
  [super disposeEx];
  actionListener_ = nil;
  changeListener_ = nil;
  changeEvent_CustomButtonView_ = nil;
}

- (void)handleChangeEvent {
  if (changeListener_ != nil) {
    if (changeEvent_CustomButtonView_ == nil) {
      changeEvent_CustomButtonView_ = [[RAREChangeEvent alloc] initWithId:self];
    }
    [changeListener_ stateChangedWithJavaUtilEventObject:changeEvent_CustomButtonView_];
  }
}

- (void)setEnabledExWithBoolean:(BOOL)b {
  RAREUIControl* v=(RAREUIControl*)proxy_;
  v.enabled=b;
}

- (void)setForegroundColorExWithRAREUIColor:(RAREUIColor *)fg {
  if(fg) {
    [((RAREUIControl*)proxy_) setTextColor: fg.getAPColor];
  }
}

- (void)copyAllFieldsTo:(RARECustomButtonView *)other {
  [super copyAllFieldsTo:other];
  other->actionListener_ = actionListener_;
  other->changeEvent_CustomButtonView_ = changeEvent_CustomButtonView_;
  other->changeListener_ = changeListener_;
  other->hasScalingIcon_ = hasScalingIcon_;
  other->iconPosition_ = iconPosition_;
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "checkForegroundColor", NULL, "V", 0x4, NULL },
    { "setAutoRepeatsWithInt:", NULL, "V", 0x101, NULL },
    { "setCallNeedsDisplayOnSuperWithBoolean:", NULL, "V", 0x101, NULL },
    { "setDisabledIconWithRAREiPlatformIcon:", NULL, "V", 0x101, NULL },
    { "setDisabledSelectedIconWithRAREiPlatformIcon:", NULL, "V", 0x101, NULL },
    { "setFontWithRAREUIFont:", NULL, "V", 0x101, NULL },
    { "setIconWithRAREiPlatformIcon:", NULL, "V", 0x101, NULL },
    { "setIconGapWithInt:", NULL, "V", 0x101, NULL },
    { "setIconPosition", NULL, "LRARERenderableDataItem_IconPositionEnum", 0x1, NULL },
    { "setIconPositionWithRARERenderableDataItem_IconPositionEnum:", NULL, "V", 0x101, NULL },
    { "setMarginWithFloat:withFloat:withFloat:withFloat:", NULL, "V", 0x101, NULL },
    { "setPressedIconWithRAREiPlatformIcon:", NULL, "V", 0x101, NULL },
    { "setPressedSelectedIconWithRAREiPlatformIcon:", NULL, "V", 0x101, NULL },
    { "setSelectedWithBoolean:", NULL, "V", 0x101, NULL },
    { "setSelectedIconWithRAREiPlatformIcon:", NULL, "V", 0x101, NULL },
    { "setTextAlignmentWithRARERenderableDataItem_HorizontalAlignEnum:withRARERenderableDataItem_VerticalAlignEnum:", NULL, "V", 0x101, NULL },
    { "setTextExWithJavaLangCharSequence:", NULL, "V", 0x101, NULL },
    { "setUnderlinedWithBoolean:", NULL, "V", 0x101, NULL },
    { "setWordWrapWithBoolean:", NULL, "V", 0x101, NULL },
    { "usesForegroundColor", NULL, "Z", 0x1, NULL },
    { "getDisabledIcon", NULL, "LRAREiPlatformIcon", 0x101, NULL },
    { "getIcon", NULL, "LRAREiPlatformIcon", 0x101, NULL },
    { "getIconGap", NULL, "I", 0x101, NULL },
    { "getMargin", NULL, "LRAREUIInsets", 0x1, NULL },
    { "getPressedIcon", NULL, "LRAREiPlatformIcon", 0x101, NULL },
    { "getSelectedIcon", NULL, "LRAREiPlatformIcon", 0x101, NULL },
    { "getText", NULL, "LNSString", 0x101, NULL },
    { "isPressed", NULL, "Z", 0x101, NULL },
    { "isSelected", NULL, "Z", 0x101, NULL },
    { "isWordWrap", NULL, "Z", 0x101, NULL },
    { "createProxy", NULL, "LNSObject", 0x108, NULL },
    { "setHasScalingIconWithBoolean:", NULL, "V", 0x0, NULL },
    { "getMarginExWithRAREUIInsets:", NULL, "V", 0x100, NULL },
    { "isHasScalingIcon", NULL, "Z", 0x0, NULL },
    { "actionPerformed", NULL, "V", 0x4, NULL },
    { "disposeEx", NULL, "V", 0x4, NULL },
    { "handleChangeEvent", NULL, "V", 0x4, NULL },
    { "setEnabledExWithBoolean:", NULL, "V", 0x104, NULL },
    { "setForegroundColorExWithRAREUIColor:", NULL, "V", 0x104, NULL },
  };
  static J2ObjcFieldInfo fields[] = {
    { "iconPosition_", NULL, 0x4, "LRARERenderableDataItem_IconPositionEnum" },
    { "changeListener_", NULL, 0x4, "LRAREiChangeListener" },
  };
  static J2ObjcClassInfo _RARECustomButtonView = { "CustomButtonView", "com.appnativa.rare.platform.apple.ui.view", NULL, 0x1, 39, methods, 2, fields, 0, NULL};
  return &_RARECustomButtonView;
}

@end
@implementation RARECustomButtonView_$1

- (void)run {
  if (this$0_->actionListener_ != nil) {
    RAREActionEvent *e = [[RAREActionEvent alloc] initWithId:this$0_];
    [this$0_->actionListener_ actionPerformedWithRAREActionEvent:e];
  }
}

- (id)initWithRARECustomButtonView:(RARECustomButtonView *)outer$ {
  this$0_ = outer$;
  return [super init];
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcFieldInfo fields[] = {
    { "this$0_", NULL, 0x1012, "LRARECustomButtonView" },
  };
  static J2ObjcClassInfo _RARECustomButtonView_$1 = { "$1", "com.appnativa.rare.platform.apple.ui.view", "CustomButtonView", 0x8000, 0, NULL, 1, fields, 0, NULL};
  return &_RARECustomButtonView_$1;
}

@end

//
//  Generated by the J2ObjC translator.  DO NOT EDIT!
//  source: /Code/Dev/appNativa/source/rareobjc/../rare/ios/com/appnativa/rare/platform/apple/ui/util/AppleGraphics.java
//
//  Created by decoteaud on 12/8/15.
//

#include "com/appnativa/rare/platform/apple/ui/util/AppleGraphics.h"
#include "com/appnativa/rare/platform/apple/ui/view/View.h"
#import <com/appnativa/rare/ui/UIFont.h>
 #import <com/appnativa/rare/ui/UIColor.h>

@implementation RAREAppleGraphics

- (id)initWithId:(id)g
    withRAREView:(RAREView *)view {
  return [super initWithId:g withRAREView:view];
}

- (void)drawStringWithNSString:(NSString *)str
                     withFloat:(float)x
                     withFloat:(float)y
                     withFloat:(float)height {
  RAREUIFont* f=[self getFont];
  BOOL pushed=[self setContextAsCurrent];
  NSMutableDictionary* attributes=[RAREAppleGraphics addDictionaryAttributeWithNSString:NSFontAttributeName withId:[f getIOSProxy] withBoolean:YES];
  RAREUIColor* fg=[self getColor];
  [attributes setObject:[fg getAPColor] forKey:NSForegroundColorAttributeName];
  [str drawAtPoint:CGPointMake(x, y) withAttributes:attributes];
  if(pushed) {
    [self restoreOldContextAsCurrent];
  }
}

- (id)getRoundedRectPathWithFloat:(float)x
                        withFloat:(float)y
                        withFloat:(float)width
                        withFloat:(float)height
                        withFloat:(float)arcWidth
                        withFloat:(float)arcHeight {
  CGFloat radius=(arcHeight/2)+((arcWidth*arcWidth)/(8*arcHeight));
  return [UIBezierPath bezierPathWithRoundedRect:CGRectMake(x,y,width,height) cornerRadius:radius];
}

- (BOOL)setContextAsCurrent {
  CGContextRef ctx=(__bridge CGContextRef)[self getContextRef];
  if(UIGraphicsGetCurrentContext()==ctx) {
    return false;
  }
  UIGraphicsPushContext(ctx);
  return true;
}

- (void)restoreOldContextAsCurrent {
  UIGraphicsPopContext();
}

+ (J2ObjcClassInfo *)__metadata {
  static J2ObjcMethodInfo methods[] = {
    { "drawStringWithNSString:withFloat:withFloat:withFloat:", NULL, "V", 0x101, NULL },
    { "getRoundedRectPathWithFloat:withFloat:withFloat:withFloat:withFloat:withFloat:", NULL, "LNSObject", 0x104, NULL },
    { "setContextAsCurrent", NULL, "Z", 0x104, NULL },
    { "restoreOldContextAsCurrent", NULL, "V", 0x104, NULL },
  };
  static J2ObjcClassInfo _RAREAppleGraphics = { "AppleGraphics", "com.appnativa.rare.platform.apple.ui.util", NULL, 0x1, 4, methods, 0, NULL, 0, NULL};
  return &_RAREAppleGraphics;
}

@end
